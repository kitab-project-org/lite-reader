<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">خطبة الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">فاتحة وفيها فصلان</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head2">الفصل الأول في فضيلة العلم والعلماء وما يناسبها تدرسون الفوائد العليا</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head3">فائدة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head4">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head5">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head6">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head7">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head8">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head9">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head10">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head11">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head12"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head13">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head14">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head15">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head16">فائدة أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head17">فائدة أخرى</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head18">الفصل الثاني في شرف علم الحديث وفضيلة المحدثين</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">- الباب الأول في معرفة علم الحديث ومبدأ جمعه وتدوينه ونقلته وما يتصل بذلك وفيه فصول</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head20">الفصل الأول في معرفة علم الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head21">الفصل الثاني في مبدأ جمع الحديث وتأليفه وانتشاره</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head22">الفصل الثالث في اختلاف الأغراض في تصانيف علم الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head23">الفصل الرابع في أنواع كتب الحديث كثر الله سوادها</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head24">القسم الأول من المصنفات في الأحاديث</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head25">الأحكام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head26">الرقاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head27">الآداب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head28">التفسير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head29">التواريخ والسير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head30">الفتن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head31">المناقب والمثالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head32">الجامع</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head33">القسم الثاني من المصنفات في الحديث المسانيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head34">والقسم الثالث منها المعجم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head35">والقسم الرابع منها الأجزاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head36">والقسم الآخر منها أربعون حديثا</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head37">الفصل الخامس في ذكر نقلة الحديث من أهل الاجتهاد والحديث</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head38">وصل</a>
</li>
</ul>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">- الباب الثاني في فروع علم الحديث وذكر الكتب المصنفة فيها - وفيه فصول</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head40">الفصل الأول في علم الحديث رواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head41">الفصل الثاني في علم الحديث دراية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head42">الفصل الثالث في علم ناسخ الحديث ومنسوخه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head43">الفصل الرابع في علم النظر في الأسانيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head44">الفصل الخامس في علم الثقاة والضعفاء من رواة الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head45">الفصل السادس في علم تلفيق الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head46">الفصل السابع في علم الجرح والتعديل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head47">الفصل الثامن في علم أسماء الرجال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head48">الفصل التاسع في علم رجال الأحاديث أي رواتها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head49">الفصل العاشر في علم أحوال رواة الحديث من وفياتهم وقبائلهم وأوطانهم وجرحهم وتعديلهم وغير ذلك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head50">الفصل الحادي عشر في علم غريب الحديث والقرآن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head51">الفصل الثاني عشر في علم شرح الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head52">الفصل الثالث عشر في علم الأدعية والأوراد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head53">الفصل الرابع عشر في علم طب النبي صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head54">الفصل الخامس عشر في علم متن الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head55">الفصل السادس عشر في علم رموز الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head56">الفصل السابع عشر في علم وضع الحديث</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">- الباب الثالث في طبقات كتب الحديث وذكر الأحاديث المحتج بها في الأحكام الشرعية وأنواع ضبط الحديث وتحمل الحديث وتعريف المحدث وما يتصل بذلك وفيه فصول</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head58">الفصل الأول في طبقات كتب الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head59">الفصل الثاني في ذكر الأحاديث المحتج بها في الأحكام الشرعية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head60">الفصل الثالث في ضبط الحديث ودرسه وتحمله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head61">الفصل الرابع في صفة المحدث وتقصير الناس في طلب علم الحديث وما يناسبه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head62">الفصل الخامس في قلة علم الحديث بأرض الهند وما يناسبها</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">- الباب الرابع في ذكر الأمهات الست وشروحها وما يليها وفيه فصول</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head64">الفصل الأول في ذكر موطأ ms122 مالك بن أنس رحمه الله تعالى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head65">الفصل الثاني في ذكر صحيح البخاري وفيه أوصال</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head66">وصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head67">وصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head68">وصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head69">وصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head70">وصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head71">وصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head72">وصل</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head73">الفصل الثالث في ذكر الجامع الصحيح للإمام الحافظ أبي الحسين مسلم بن الحجاج القشيري الشافعي المتوفى سنة إحدى وستين ومائتين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head74">الفصل الرابع في ذكر الجامع الصحيح للإمام الحافظ أبي عيسى محمد بن عيسى البوغي الترمذي رحمه الله تعالى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head75">الفصل الخامس في ذكر السنن لأبي داود سليمان بن الأشعث بن اسحاق الأزدي السجستاني المتوفى سنة خمس وسبعين ومائتين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head76">الفصل السادس في ذكر السنن لأبي عبد الرحمن بن شعيب النسائي الحافظ المتوفي سنة ثلاث وثلاثمائة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head77">الفصل السابع في ذكر سنن ابن ماجه لأبي عبد الله بن يزيد بن ماجه القزويني الحافظ المتوفي سنة ثلاث وسبعين ومائتين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head78">الفصل الثامن في ذكر مسند الإمام أحمد بن محمد بن حنبل المتوفي سنة إحدى وأربعين ومائتين</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head79">وصل</a>
</li>
</ul>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">- الباب الخامس في تراجم أصحاب الأمهات الست والإمام مالك وأحمد بن حنبل رضي الله عنهم أجمعين وفيه فصول</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head81">الفصل الأول في ترجمة الإمام مالك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head82">الفصل الثاني في ترجمة محمد بن اسماعيل البخاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head83">الفصل الثالث في ترجمة مسلم بن الحجاج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">الفصل الرابع في ترجمة أبي داود السجستاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head85">الفصل الخامس في ترجمة أبي عيسى الترمذي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head86">الفصل السادس في ترجمة النسائي ...</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head87">الفصل السابع في ترجمة ابن ماجه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head88">الفصل الثامن في ترجمة الإمام أحمد</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">خاتمة</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 294147</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Qannawji</label><label>tags: COMPLETED :: CENT1400 :: PPE :: _ADILLA :: _FAHARIS :: _KUTUB :: GAL@1799-1882CE :: GAL@literature-islamic :: GAL@india :: GAL@period-decline :: GAL@period-ottoman :: Shamela@فهارس الكتب والأدلة</label><label>url: https://raw.githubusercontent.com/OpenITI/1325AH/master/data/1307Qannawji/1307Qannawji.HittaFiDhikr/1307Qannawji.HittaFiDhikr.Shamela0010717-ara1.completed</label><label>tok_length: 67438</label><label>status: pri</label><label>id: Shamela0010717</label><label>ed_info: دار الكتب التعليمية - بيروت :: http://www.worldcat.org/oclc/4771107649</label><label>title_lat: Hitta Fi Dhikr</label><label>title_ar: الحطة في ذكر الصحاح الستة</label><label>book: 1307Qannawji.HittaFiDhikr</label><label>author_lat: Qannawji</label><label>author_ar: أبو الطيب محمد صديق خان بن حسن بن علي ابن لطف الله الحسيني البخاري القنوجي (المتوفى: 1307هـ)</label><label>date: 1307</label><label>versionUri: 1307Qannawji.HittaFiDhikr.Shamela0010717-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "028", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
