<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">ما جاء من الفضائل في إفريقية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">ذكر من دخل إفريقية من الصحابة والتابعين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">تسمية من دخل إفريقية من أصحاب النبي عليه السلام ومن رآه صلى الله عليه وسلم وإن لم يكن له صحبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">تسمية من دخل إفريقية من جلة التابعين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">الطبقة الثانية ممن دخل إفريقية أو كان بها من أهلها</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head5">ومن هذه الطبقة الثانية ممن كان بإفريقية</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">وممن دخل إفريقية من التابعين الذين هم دون هؤلاء في السن:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">وممن له سن قد روى عن الجلة من التابعين ثم من أهل إفريقية</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head8">عبد الرحمن بن زياد بن أنعم المعافري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head9">الحارث بن نبهان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">يزيد بن الطفيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head11">عبد الله بن فروخ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head12">يحيى بن سلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head13">علي بن زياد الحمصي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head14">عبد الله بن عمر بن غانم الرعيني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head15">أبو يزيد رباح بن يزيد اللخمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head16">البهلول بن راشد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head17">شقران بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head18">صقلاب بن زياد الهمداني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head19">أبو زياد بن زرعة الرعيني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head20">حفص بن عمارة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head21">أبو خالد عبد الخالق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head22">إسماعيل بن رباح الجزري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head23">أبو عثمان حاتم بن عثمان المعافري وأخوه أبو طالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head24">أبو خارجة عنسبة بن خارجة الغافقي </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head25">أبو زكرياء الهرقلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head26">محمد بن الحكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head27">محمد وعبد الرحمن ابنا يسوتا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head28">أبو عيسى مروان بن عبد الرحمن اليحصبي الذي روى عنه ابن وهب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head29">أبو محمد عبد الله بن أبي حسان اليحصبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head30">أبو الحجاج رباح بن ثابت الأزدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head31">خلف بن جرير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head32">أبو الهيثم اللؤلؤي خالد بن يزيد الفارسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head33">عبد الله بن أبي غسان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head34">الأقرع بن بكار النصيري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head35">أبو المسلم عبد الرحمن بن الجهم الخولاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head36">زرارة بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head37">أبو محمد عبد العزيز بن يحيى المدني الهاشمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head38">علي بن يونس الليثي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head39">سعيد بن السرتي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head40">أبو نجدة يزيد بن مجالد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head41">معاوية بن الصمادحي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head42">عبد الله بن المغيرة الكوفي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head43">أبو عبد الرحمن عبد الله بن يزيد المقري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head44">أسد بن فرات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head45">كامل بن طلحة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head46">أبو محرز محمد بن عبد الله الكناني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head47">أحمد بن أبي محرز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head48">يزيد بن محمد الجمحي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head49">زكرياء بن محمد بن الحكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head50">أبو الخطاب الكندي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head51">أبو محمد عبد الله بن أبي حسان اليحصبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head52">ذبيح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head53">أبو زكرياء يحيى بن سليمان الخراز الحفري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head54">البهلول بن عمر بن صالح بن عبيدة التجيبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head55">كنوس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head56">مقسم بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head57">حفص بن سعد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head58">الحسن بن هانئ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head59">فرون أبو عمرو اللخمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head60">شعيب بن يزيد الليثي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head61">أبو شيخ المفسر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head62">عمر بن سمك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head63">حبيب بن سعيد أخو ms67 سحنون بن سعيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head64">صالح بن حاجب، أخو هشام بن حاجب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head65">جحدر بن خالد أبو خالد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head66">أبو عبد الملك الملشوني، وابنه إسحاق وأبو عبد الملك الملشوني، وابنه إسحاق.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head67">محمد بن علي الدغشي، وعبد الله ابنه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head68">أبو هارون موسى بن جميل.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head69">أبو جعفر أحمد بن يوسف البغدادي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head70">أبو يحيى زكرياء بن يحيى الوقار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head71">أبو طالب الأبزاري عبد الله بن عثمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head72">نعمان أبو المنذر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head73">بشر بن يزيد الأزدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head74">سحنون بن سعيد بن حبيب التنوخي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head75">عون بن يوسف الخزاعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head76">موسى بن معاوية الصمادحي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head77">داود بن يحيى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head78">محمد بن رشيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head79">موسى بن منير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head80">أبو جعفر عبد الله بن محمد بن علي الدغشي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head81">عبد المؤمن بن مستنير الجزري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head82">عبد الرحيم بن عبد ربه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head83">أبو الحجاج سكن بن سعيد الصائغ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">محمد بن عياض المعلم القيسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head85">معمر بن منصور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head86">محمد بن قادم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head87">أبو خالد بن سلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head88">دحيون بن راشد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head89">مروان بن أبي شحمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head90">خلف بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head91">أبو سنان زيد بن سنان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head92">سليمان ms79 بن بسيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head93">أبو سليمان، والد أحمد بن أبي سليمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head94">أبو أحمد موسى بن جرير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head95">أبو يحيى حماد بن يحيى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head96">عبد الله بن رباح بن يزيد اللخمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head97">محمد بن رزين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head98">أبو الفضل عباس السدري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head99">عيسى بن محمد بن سليمان بن أبي المهاجر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head100">أبو حاتم يحيى بن خالد السهمي، وأخوه العباس بن خالد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head101">أحمد بن يحيى بن مهران</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head102">سعيد بن حسان البرلسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head103">هارون بن الحاسب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head104">حامد بن عمر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head105">غانم بن سعيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head106">إسماعيل بن نافع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head107">إسحاق بن حلوان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head108">معتب بن رباح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head109">علي بن كثير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head110">محمد بن سعيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head111">عبد الله بن عبيد الله المهري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head112">أبو الربيع اللحياني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head113">أحمد بن موسى الطرسوسي</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">ذكر علماء أهل تونس</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head115">خالد بن أبي عمران</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head116">عمرو بن راشد الكناني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head117">عبد الملك بن أبي كريمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head118">أبو كريب عبد الرحمن بن كريب البصري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head119">علي بن زياد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head120">أبو مسعود بن أشرس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head121">عباس بن الوليد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head122">هشام بن الخليل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head123">زيد بن بشر</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 108680</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Abu Carab Tamimi</label><label>tags: COMPLETED :: BIO :: CENT0400 :: COL :: PPE :: _TABAQAT :: _TARAJIM :: GAL@historiography :: GAL@period-classical :: GAL@literature-islamic :: GAL@history :: GAL@africa-north :: GAL@0750-1000CE :: GAL@literature-arabic :: GAL@egypt :: Shamela@التراجم والطبقات</label><label>url: https://raw.githubusercontent.com/OpenITI/0350AH/master/data/0333AbuCarabTamimi/0333AbuCarabTamimi.TabaqatCulama/0333AbuCarabTamimi.TabaqatCulama.Shamela0013079-ara1.completed</label><label>tok_length: 28007</label><label>status: pri</label><label>id: Shamela0013079</label><label>ed_info: دار الكتاب اللبناني، بيروت - لبنان :: http://www.worldcat.org/oclc/15250589</label><label>title_lat: Tabaqat Culama</label><label>title_ar: طبقات علماء إفريقية، وكتاب طبقات علماء تونس</label><label>book: 0333AbuCarabTamimi.TabaqatCulama</label><label>author_lat: Abu Carab Tamimi</label><label>author_ar: محمد بن أحمد بن تميم التميمي المغربي الإفريقي، أبو العرب (المتوفى: 333هـ)</label><label>date: 0333</label><label>versionUri: 0333AbuCarabTamimi.TabaqatCulama.Shamela0013079-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "001", "002", "003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
