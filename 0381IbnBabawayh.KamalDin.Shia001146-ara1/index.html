<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head0"></a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head1">الخليفة قبل الخليقة: (1) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head2">وجوب طاعة الخليفة:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head3">ليس لأحد أن يختار الخليفة الا الله عز وجل:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head4">وجوب وحدة الخليفة في كل عصر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head5">لزوم وجود الخليفة:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head6">وجوب عصمة ms023 الامام:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head7">السر في امره تعالى الملائكة بالسجود لآدم عليه السلام:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head8">وجوب معرفة المهدى عجل الله تعالى فرجه:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head9">اثبات الغيبة والحكمة فيها:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head10">رد اشكال: </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head11">وجه آخر لاثبات المشاكلة:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head12">رد اشكال:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head13">الكيسانية:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head14">فمما روى في وفاة محمد بن الحنفية رضي الله عنه (1) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head15">ابطال قول الناووسية والواقفة في الغيبة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head16">فمما روى في وفاة موسى بن جعفر عليهما السلام (1) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head17">ادعاء الواقفة الغيبة على العسكري (ع) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head18">فمما روى في صحة وفاة الحسن بن علي بن محمد العسكري (ع) (1) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head19">جواب عن اعتراض:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head20">جواب عن اعتراض آخر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head21">اعتراضات لابن بشار: </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head22">كلام لأحد المشايخ في الرد على الزيدية:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head23">استدلال على وجود امام غائب من العترة يظهر ويملأ الأرض عدلا:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head24">اعتراضات للزيدية:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head25">اعتراض آخر للزيدية:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head26">اعتراض آخر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head27">اعتراض آخر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head28">اعتراض آخر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head29">اعتراض آخر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head30">الجواب:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head31">اعتراض آخر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head32">اعتراض آخر لبعضهم:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head33">شبهات من المخالفين ودفعها:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head34">مناظرة المؤلف مع ملحد عند ركن الدولة:</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head35">1 (باب) (1) (في غيبة إدريس النبي عليه السلام) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head36">2. (باب) * (في ذكر ظهور نوح عليه السلام بالنبوة بعد ذلك) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head37">3 (باب) * (ذكر غيبة صالح النبي عليه السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head38">4 (باب) * (في غيبة إبراهيم عليه السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head39">5 (باب) * (في غيبة يوسف عليه السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head40">6 (باب) * (في غيبة موسي عليه السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head41">7 (باب) * (ذكر مضى موسى عليه السلام ووقوع الغيبة بالأوصياء) * * (والحجج من بعده إلى أيام المسيح عليه اسلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head42">8. (باب) * (بشارة عيسى بن مريم عليه السلام بالنبي محمد المصطفى صلى الله عليه وآله) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head43">9. (باب) * (خبر سلمان الفارسي - رحمة الله عليه - في ذلك) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head44">10. (باب) * (في خبر قس بن ساعدة الأيادي) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head45">11. (باب) * (في خبر تبع) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head46">12. (باب) * (في خبر عبد المطلب وأبى طالب) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head47">13 (باب) * (في خبر سيف بن ذي يزن) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head48">14 - (باب) * (في خبر بحيرى الراهب) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head49">15. (باب) * (ذكر ما حكاه خالد بن أسيد بن أبي العيص، وطليق بن سفيان بن أمية عن) * * (كبير الرهبان في طريق الشام من معرفته بأمر النبي صلى الله عليه وآله) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head50">16. (باب) * (في خبر أبي المويهب الراهب) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head51">17 (باب) * (خبر سطيح الكاهن (1)) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head52">18. (باب) * (خبر يوسف اليهودي بالنبي " ص " وبصفاته وعلاماته) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head53">19 - (باب) * (خبر (دواس) ابن حواش المقبل من الشام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head54">20. (باب) * (خبر زيد بن عمرو بن نفيل) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head55">21 (باب) * (العلة التي من أجلها يحتاج إلى الإمام عليه السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head56">22. (باب) * (اتصال الوصية من لدن آدم عليه السلام وأن الأرض لا تخلو) * * (من حجة لله عز وجل على خلقه إلى يوم القيامة) *</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head57">(معنى العترة والآل والأهل والذرية والسلالة) </a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head58">23. (باب) * (نص الله تبارك وتعال على القائم عليه السلام وأنه) * * (الثاني عشر من الأئمة عليهم السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head59">24 (باب) * (ما روى عن النبي صلى الله عليه وآله في النص على القائم عليه السلام * (وأنه الثاني عشر من الأئمة عليهم السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head60">25. (باب) * (ما أخبر به النبي صلى الله عليه وآله من وقوع الغيبة بالقائم (ع)) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head61">26. (باب) * (ما أخبر به أمير المؤمنين علي بن أبي طالب (ع) من) * * (وقوع الغيبة بالقائم الثاني عشر من الأئمة (ع)) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head62">27 (باب) * (ما روى عن سيدة نساء العالمين فاطمة (الزهراء) بنت رسول الله) * * (صلى الله عليهما من حديث الصحيفة وما فيها من أسماء الأئمة) * * (وأسماء أمهاتهم وأن الثاني عشر منهم القائم صلوات الله عليهم) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head63">28. (باب) * (ذكر النص على القائم عليه السلام ms298 في اللوح الذي أهداه الله عز) * * (وجل إلى رسوله صلى الله عليه وآله ودفعه إلى فاطمة عليها) * * (السلام فعرضته على جابر بن عبد الله الأنصاري حتى قرأه) * * (وانتسخه وأخبر به أبا جعفر محمد بن علي الباقر عليهما) * * (السلام بعد ذلك) * (1)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head64">29. (باب) * (ما أخبر به الحسن بن علي بن أبي طالب عليهما السلام من وقوع) * * (الغيبة بالقائم عليه السلام وأنه الثاني عشر من الأئمة عليهم السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head65">30. (باب) * (ما أخبر به الحسين بن علي بن أبي طالب عليهما السلام من وقوع) * * (الغيبة بالقائم (ع) وانه الثاني عشر من الأئمة عليهم السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head66">31. (باب) * (ما أخبر به سيد العابدين علي بن الحسين عليهما السلام) * * (من وقوع الغيبة بالقائم عليه السلام وأنه الثاني عشر) * * (من الأئمة عليهم السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head67">32. (باب) * (ما أخبر به أبو جعفر محمد بن علي الباقر عليهما السلام من) * * (وقوع الغيبة بالقائم عليه السلام وأنه الثاني عشر من الأئمة عليهم السلام)*</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head68">33 (باب) * (ما روى عن الصادق جعفر بن محمد عليهما السلام من النص على) * * (القائم عليه السلام وذكر غيبته، وأنه الثاني عشر من) * * (الأئمة عليهم السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head69">34. (باب) * (ما روى عن أبي الحسن موسى بن جعفر في النص) * * (على القائم عليه السلام وغيبته، وأنه الثاني عشر (من الأئمة)) *</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head70">* (ذكر كلام هشام بن الحكم رضي الله عنه في هذا) * * (المجلس وما آل إليه أمره) * </a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head71">35 باب (ما روى عن الرضا علي بن موسى عليهما السلام في النص على القائم) * * (وفى غيبته عليه السلام وأنه الثاني عشر) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head72">36 - (باب) (ما روى عن أبي جعفر الثاني محمد بن علي [الجواد] في) * * (النص على القائم وغيبته، وأنه الثاني عشر من الأئمة) * * (عليهم السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head73">37 - (باب) * (ما روى عن أبي الحسن علي بن محمد الهادي في النص على) * * (القائم عليه السلام وغيبته، وأنه الثاني عشر من الأئمة عليهم السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head74">38 (باب) * (ما روى عن أبي محمد الحسن بن علي العسكري عليهما السلام) * * (من وقوع الغيبة بابنه القائم عليه السلام وأنه الثاني) * * (عشر من الأئمة عليهم السلام) * </a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head75">* (ما روى من حديث الخضر عليه السلام (2) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head76">* (ما روى من حديث ذي القرنين) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head77">رجعنا إلى ذكر ما روى عن أبي محمد الحسن العسكري عليه السلام بالنص على ابنه القائم صاحب الزمان عليه السلام.</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head78">39 - (باب) * (فيمن أنكر القائم الثاني عشر من الأئمة عليهم السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head79">40. (باب) * (ما روى في أن الإمامة لا تجتمع في أخوين بعد) * * (الحسن والحسين عليهما السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head80">41. (باب) * (ما روى في نرجس أم القائم عليهما السلام واسمها) * * (مليكة بنت يشوعا (2) بن قيصر الملك) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head81">42. (باب) * (ما روى في ميلاد القائم صاحب الزمان حجة الله ابن الحسن بن) * * (علي بن محمد بن علي بن موسى بن جعفر بن محمد بن علي) * * (ابن الحسين بن علي بن أبي طالب صلوات الله عليهم) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head82">43 (باب) * (ذكر من شاهد القائم (ع) ورآه وكلمه) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head83">44 (باب) * (علة الغيبة) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head84">45. (باب) * (ذكر التوقيعات الواردة عن القائم عليه السلام) * </a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head85">توقيع من صاحب الزمان عليه السلام </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="0M.html#head86">(الدعاء في غيبة القائم عليه السلام)</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head87">46 - (باب) * (ما جاء في التعمير) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head88">47. (باب) * (حديث الدجال وما يتصل به من أمر القائم عليه السلام) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head89">48. (باب) [حديث الظباء بأرض نينوى] * (في سياق هذا الحديث على جهته ولفظه) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head90">49 - (باب) * (في سياق حديث حبابة الوالبية ما:) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head91">50. (باب) * (سياق حديث معمر المغربي) * * (أبي الدنيا علي بن عثمان بن الخطاب بن مرة بن مؤيد) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head92">51. (باب) * (حديث عبيد بن شرية (1) الجرهمي) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head93">52. (باب) * (حديث الربيع بن الضبع الفزاري) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head94">53. (باب) * (حديث شق الكاهن) *</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head95">54. (باب) * (حديث شداد بن عاد بن أرم) * وصفة أرم ذات العماد التي لم يخلق مثلها في البلاد </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head96">55 - (باب) * (ما روى في ثواب المنتظر للفرج) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head97">56. (باب) * (النهى عن تسمية القائم عليه السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head98">57. (باب) * (ما روى في علامات خروج القائم عليه السلام) * </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="0M.html#head99">58. (باب) * (في نوادر الكتاب) * </a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 850736</label><label>author_lat_full_name:  Abū Ǧaʿfar Muḥammad b. ʿAlī b. al-Ḥusayn b. Mūsā b. Bābawayh al-Qummī</label><label>author_lat_shuhra: Ibn Bābawayh, al-Šayḫ al-Ṣadūq</label><label>author_from_uri: Ibn Babawayh</label><label>tags: COMPLETED :: CENT0400 :: _HADITH :: _SHICI :: GAL@period-classical :: GAL@literature-islamic :: GAL@imamis :: GAL@shia :: GAL@0750-1000CE :: GAL@literature-arabic :: GAL@fiqh :: Shia@مصادر الحديث الشيعية ـ قسم الفقه</label><label>url: https://raw.githubusercontent.com/OpenITI/0400AH/master/data/0381IbnBabawayh/0381IbnBabawayh.KamalDin/0381IbnBabawayh.KamalDin.Shia001146-ara1.completed</label><label>tok_length: 210744</label><label>status: pri</label><label>id: Shia001146</label><label>ed_info: تصحيح وتعليق : علي أكبر الغفاري :: محرم الحرام 1405 - 1363 ش :: http://www.worldcat.org/oclc/952099493 (1405 edition)</label><label>title_lat: Kamal Din</label><label>title_ar: كمال الدين وتمام النعمة</label><label>book: 0381IbnBabawayh.KamalDin</label><label>author_lat: Ibn Babawayh :: Ibn Bābawayh, al-Šayḫ al-Ṣadūq ::  Abū Ǧaʿfar Muḥammad b. ʿAlī b. al-Ḥusayn b. Mūsā b. Bābawayh al-Qummī</label><label>author_ar: إبن بابويه، الشيخ الصدوق ::  أبو جعفر محمد بن علي بن الحسين بن موسا بن بابويه القمي</label><label>date: 0381</label><label>versionUri: 0381IbnBabawayh.KamalDin.Shia001146-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "0M";
    var volPages = {"0M": ["001", "002", "003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
