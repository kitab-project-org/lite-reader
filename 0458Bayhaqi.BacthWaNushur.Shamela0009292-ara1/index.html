<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">باب قوله عز وجل" {ولا يشفعون إلا لمن ارتضى وهم من خشيته مشفقون} [الأنبياء: 28] مع سائر ما يحتج به من أنكر الشفاعة"</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">باب قول الله عز وجل " {إن الله لا يغفر أن يشرك به ويغفر ما دون ذلك لمن يشاء} [النساء: 48] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">باب قول الله عز وجل « {ثم أورثنا الكتاب الذين اصطفينا من عبادنا فمنهم ظالم لنفسه ومنهم مقتصد ومنهم سابق بالخيرات بإذن الله» } [فاطر: 32]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">باب قول الله عز وجل {ربما يود الذين كفروا لو كانوا مسلمين} [الحجر: 2] وقوله: {يومئذ يود الذين كفروا وعصوا الرسول لو تسوى بهم الأرض ولا يكتمون الله حديثا "}  [النساء: 42]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">باب ما جاء في المؤمن يفدى بالكافر، فيقال هذا فداؤك من النار، والكافر لا يؤخذ منه فدية ولا تنفعه شفاعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">باب ما جاء في آخر من يخرج من النار ms034، ويدخل الجنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">باب ما جاء في أصحاب الأعراف </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">باب ما جاء في حوض النبي صلى الله عليه وسلم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">جماع أبواب الإيمان بالجنة والنار , وإنهما مخلوقتان معدتان لأهلهما وما جاء فيهما وفي صفتهما</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head9">باب الإيمان بالجنة والنار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">باب ما يستدل به على أن الجنة , والنار قد خلقتا , وأعدتا لأهلهما </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head11">باب قول الله عز وجل {وقلنا يا آدم اسكن أنت وزوجك الجنة، وكلا منها رغدا حيث شئتما، ولا تقربا هذه الشجرة فتكونا من الظالمين} [البقرة: 35] " إلى قوله {إلى حين} [البقرة: 36] " </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head12">باب ما يستدل به على أن النبي صلى الله عليه وسلم رأى الجنة، والنار </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head13">باب ما ورد في عدد الجنان </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head14">باب ما ورد في أبواب الجنة، وما يقال لأهلها عند دخولهم، وما يقولون </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head15">باب ما جاء في غرف الجنة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head16">باب ما جاء في حائط الجنة، وترابها وحصائها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head17">باب ما جاء في أشجار الجنة، وأنهارها، وثمارها، وظلالها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head18">باب ما جاء في لباس أهل الجنة، وفرشهم، وسررهم، وأرائكهم، وخيامهم، وأكوابهم، وغير ذلك </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head19">باب ما جاء في طعام أهل الجنة، وشرابهم، وفاكهتهم، وما ترجع إليه أطعمتهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head20">باب ما جاء في صفة حور العين، والولدان، والغلمان </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head21">باب ما جاء في سوق أهل الجنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head22">باب السماع في الجنة، والتغني بذكر الله عز وجل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head23">باب </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head24">باب أول من يدخل، وما جاء في صفة أهل الجنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head25">باب آخر من يدخل الجنة، ومن يكون أدنى من أهل الجنة منزلة، ومن يكون منهم أرفع منزلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head26">باب قول الله عز وجل: {لا يذوقون فيها الموت إلا الموتة الأولى}  [الدخان: 56]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head27">باب قول الله عز وجل: {للذين اتقوا عند ربهم جنات تجري من تحتها الأنهار خالدين فيها وأزواج مطهرة ورضوان من الله والله بصير بالعباد}  [آل عمران: 15]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head28">باب قول الله عز وجل: {للذين أحسنوا الحسنى وزيادة}  [يونس: 26]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head29">باب ما جاء في موضع الجنة وموضع النار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head30">باب ما جاء في عدد أبواب جهنم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head31">باب ما جاء في خزنة جهنم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head32">باب ما جاء في أودية جهنم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head33">باب ما جاء في قعر جهنم ودركاتها، وتفاوت أهلها في عذابها، وما ورد في أهونهم عذابا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head34">باب ما جاء في شدة حر جهنم، وما جاء في وقود نارها وشدة برد زمهريرها </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head35">باب ما جاء في ثياب أهل النار وسلاسلهم وأغلالهم، وما يصب عليهم من الحميم، ويقمعون بمقامع من حديد </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head36">باب ما جاء في طعام أهل النار وشرابهم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head37">باب ما جاء في حيات جهنم وعقاربها </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head38">باب قول الله عز وجل: {إن الذين كفروا بآياتنا سوف نصليهم نارا كلما نضجت جلودهم بدلناهم جلودا غيرها ليذوقوا العذاب} [النساء: 56] ، وما ورد في غلظ جلد الكافر وعظم نفسه في النار </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head39">باب قول الله عز وجل في المجرمين: {ونادوا يا مالك ليقض علينا ربك ms184 قال إنكم ماكثون} [الزخرف: 77] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head40">باب دعاء أهل النار ms186 بالويل والثبور والزفير والشهيق ونكالهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head41">باب قول الله عز وجل: {يوم يأت لا تكلم نفس إلا بإذنه فمنهم شقي وسعيد فأما الذين شقوا ففي النار لهم فيها زفير وشهيق، خالدين فيها ما دامت السموات والأرض إلا ما شاء ربك إن ربك فعال لما يريد، وأما الذين سعدوا ففي الجنة خالدين فيها ما دامت السموات والأرض إلا ما شاء ربك عطاء غير مجذوذ} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head42">حديث الصور</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 236535</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Bayhaqi</label><label>tags: COMPLETED :: CENT0500 :: _CAQAID :: _HADITH :: _MILAL :: GAL@literature-islamic :: GAL@1000-1258CE :: GAL@hadith :: GAL@literature-arabic :: GAL@period-postclassical :: GAL@persia :: Shamela@متون الحديث</label><label>url: https://raw.githubusercontent.com/OpenITI/0475AH/master/data/0458Bayhaqi/0458Bayhaqi.BacthWaNushur/0458Bayhaqi.BacthWaNushur.Shamela0009292-ara1.completed</label><label>tok_length: 61024</label><label>status: pri</label><label>id: Shamela0009292</label><label>ed_info: الشيخ عامر أحمد حيدر :: مركز الخدمات والأبحاث الثقافية، بيروت :: http://www.worldcat.org/oclc/4770328008</label><label>title_lat: Bacth Wa Nushur</label><label>title_ar: البعث والنشور للبيهقي</label><label>book: 0458Bayhaqi.BacthWaNushur</label><label>author_lat: Bayhaqi</label><label>author_ar: أحمد بن الحسين بن علي بن موسى الخسروجردي الخراساني، أبو بكر البيهقي (المتوفى: 458هـ)</label><label>date: 0458</label><label>versionUri: 0458Bayhaqi.BacthWaNushur.Shamela0009292-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "055", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "065", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "083", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "089", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "094", "000", "000", "000", "000", "000", "000", "000", "000", "000", "099", "000", "000", "000", "000", "104", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "110", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "131", "131", "000", "132", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "139", "000", "000", "000", "000", "000", "000", "142", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "158", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "164", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "169", "000", "169", "000", "000", "000", "000", "000", "000", "000", "000", "174", "000", "000", "000", "000", "000", "000", "000", "000", "179", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "194", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "200", "000", "000", "000", "201", "000", "203", "204", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "208", "000", "000", "000", "000", "000", "000", "211", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "219", "000", "000", "220", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "224", "000", "000", "000", "225", "000", "000", "000", "227", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "231", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "239", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "247", "000", "000", "000", "000", "000", "000", "000", "000", "000", "256", "000", "000", "000", "000", "000", "000", "000", "259", "000", "261", "000", "000", "000", "264", "000", "000", "000", "000", "000", "000", "000", "000", "000", "267", "000", "000", "000", "000", "269", "000", "000", "271", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "278", "000", "000", "000", "279", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "284", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "290", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "295", "000", "000", "000", "000", "000", "297", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "300", "000", "301", "302", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "307", "000", "000", "000", "309", "000", "000", "000", "000", "000", "000", "313", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "320", "000", "000", "000", "000", "000", "323", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "336"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
