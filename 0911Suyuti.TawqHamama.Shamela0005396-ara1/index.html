<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">المقدمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">في لفظ الحمام لغة وما يطلق عليه والفرق بينه وبين اليمام وذكر طباعه في سفاده</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">قال الجوهري الحمام عند العرب ذوات الأطواق نحو الفواخت، والقمارى، وساق حر،</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">قال حميد بن ثور في قمرية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">وقال النابغة في القطا فيما ذكره الأصمعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">وقال الأموي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">وقال الأصمعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">ونقل الأزهري عن الشافعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">قال الرافعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">قال الكمال الدميري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">قال الجاحظ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">وقال أبو حاتم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">وفيه يقول الفرزدق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">قال ابن العماد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">قال عبيد بن الأبرص</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">وأخرج ابن عساكر وقال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">وقال أمية بن أبي الصلت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">قال الدميري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">المقصد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">وفيه مسائل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">الأولى في الحديث الذي جاء السؤال عنه, وطرقه, وشواهده</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">قال الطبراني في "الكبير"</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">المسألة الثانية في حبسه في الأقفاص</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">المسألة الثالثة في اللعب به</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">المسألة الرابعة في حمامتي الغار, ومعاني تسبيح بعض الطير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">الخاتمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">قال عبد الواحد بن فتوح الفروات في وصف الحمام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">وقال عبد الواحد بن خلف القطاس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">قال مسعود بن عبد الله التيتاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">وقال حسين التونسي الملقب عنترة, يصف الحمام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">وقال ابن هرمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">وقول أبي الطيب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">وقال ابن عبد الظاهر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">قال شقيق بن بعلبك الأسدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">وقال الوقاف ورد بن الجعد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">وقال حكم الخضري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">وقال الرجل من بني نهشل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">وقال علي بن عميرة الجرمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">وقال إدريس بن اليمان العبدري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">وقال صاحب "كشف الأسرار في إشارة الحمام"</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">قال الحافظ عماد الدين بن كثير في "تاريخه"</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">وقال القاضي محيي الدين بن عبد الظاهر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">وقال أبو العلاء المعري يخاطب الحمامة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">وقال الشريف الموسوي في الحمام المرسل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">وقال في الأحمر المسرول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">وقال في الأصفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">وقال في الأبيض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">وقال في الأبلق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">وقال أبو عبد الله بن قاضي ميله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">وقال خلف بن المازني يصف حمامة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">آخر "طوق الحمامة" للحافظ جلال الدين السيوطي رحمه الله آمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">وصول الأماني بأصول التهاني للإمام جلال الدين عبد الرحمن السيوطي دراسة وتحقيق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">التهنئة بالفضائل العلية والمناقب الدينية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">1- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">2- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">3- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">4- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">5- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">6- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">التهنئة بالتوبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">7- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">التهنئة بالعافية من المرض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">8- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">9- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">التهنئة بتمام الحج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">10- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">11- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">التهنئة بالقدوم من الحج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">12- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">13- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">التهنئة بالقدوم من الغزو</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">14- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">15- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">التهنئة بالنكاح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">17- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">التهنئة بالمولود</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">20- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">22- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">التهنئة بدخول الحمام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">23- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">التهنئة بشهر رمضان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">24- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">التهنئة بالعيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">25- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">26- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">27- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">28- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">29- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">30- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">31- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">32- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">33- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">34- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">التهنئة بالثوب الجديد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">35- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">36- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">التهنئة بالصباح والمساء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">38- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">40- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">41- </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">فائدة</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 29418</label><label>author_lat_full_name: Ǧalāl al-Dīn  ʿAbd al-Raḥmān b. Kamāl al-Dīn Abī Bakr b. Muḥammad Sābiq al-Dīn Ḫiḍr al-Ḫuḍayrī al-Asyūṭī</label><label>author_lat_shuhra: Ǧalāl al-Dīn al-Suyūṭī</label><label>author_from_uri: Suyuti</label><label>tags: CENT1000 :: _ADAB :: _BALAGHA :: GAL@literature-islamic :: GAL@polyhistors :: GAL@history :: GAL@adab :: GAL@period-postmongol :: GAL@period-mamluk :: GAL@1258-1517CE :: GAL@period-decline :: GAL@encyclopaedias :: GAL@egypt :: GAL@syria :: Shamela@الأدب والبلاغة - مرقم آليا</label><label>url: https://raw.githubusercontent.com/OpenITI/0925AH/master/data/0911Suyuti/0911Suyuti.TawqHamama/0911Suyuti.TawqHamama.Shamela0005396-ara1</label><label>tok_length: 7000</label><label>status: pri</label><label>id: Shamela0005396</label><label>ed_info: </label><label>title_lat: Tawq Hamama</label><label>title_ar: طوق الحمامة</label><label>book: 0911Suyuti.TawqHamama</label><label>author_lat: Suyuti :: Ǧalāl al-Dīn al-Suyūṭī :: Ǧalāl al-Dīn  ʿAbd al-Raḥmān b. Kamāl al-Dīn Abī Bakr b. Muḥammad Sābiq al-Dīn Ḫiḍr al-Ḫuḍayrī al-Asyūṭī</label><label>author_ar: جلال الدين السيوطي :: جلال الدين  عبد الرحمان بن كمال الدين أبي بكر بن محمد سابق الدين خضر الخضيري الأسيوطي</label><label>date: 0911</label><label>versionUri: 0911Suyuti.TawqHamama.Shamela0005396-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "001", "002", "003", "004", "005", "006", "007", "008", "009", "010", "011", "012"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
