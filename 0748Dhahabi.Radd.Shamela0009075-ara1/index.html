<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">[الرد على ابن القطان في كتابه بيان الوهم والإيهام]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">المقدمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">: " لا يقضي القاضي إلا وهو شبعان ريان ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">: " أن مملوكا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">في قيامه - عليه السلام - في رمضان ليلة بالناس، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">: " إذا دخل أحدكم المسجد فلا يجلس حتى يركع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">: " طعام البخيل داء "، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">" لا يسمع بي أحد من هذه الأمة، لا يهودي، ولا نصراني ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">حديث في قضاء صوم التطوع، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">: " إذا كان دم الحيض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">لتغتسل للظهر والعصر غسلا واحدا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">، لما حضرت أبا طالب الوفاة.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">: " ليس على النساء حلق "، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">: " وقت العقيق " </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">: " فمنا من رمى بست</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">: [لم] يأمرني رسول الله - صلى الله عليه وسلم - أن أنزل الأبطح،</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">": عن عبد الله الصنابحي في فضلية الوضوء.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">: حديث معاذ في زكاة البقر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">حديث: " ستر وجه المرأة " </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">: " رش على قبر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">: " كان لا يأذن لمن لم يبدأ بالسلام " </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">: " من (3 / ب) صلى وحده ثم أدرك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">: " لا يحصن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">: " من لم يقرأ بأم القرآن "، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">حديث في قضاء صوم التطوع، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">: " لا تحج إلا بإذن زوجها "، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">: في غسل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">: " لا وضوء لمن لم يسم ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">بشر بن المفضل، عن عبد الرحمن بن حرملة، عن أبي ثفال، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">: " نهي أن يستفاد في المسجد ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">حديث ابن جريح، عن محمد بن عمر بن علي، عن عباس بن عبيد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">: " إذا توضأ عرك عارضيه "، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">- كان يقرأ في الركعتين التي يوتر بعدهما بسبح، وقل يا أيها الكافرون، ويقرأ في الوتر: قل هو الله أحد، والمعوذتين.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">: إذا توفي أحدكم فوجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">: " صوما يوما مكانه ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">: " ماء زمزم لما شرب له ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">: " أسلمت وتحتي أختان " </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">أسلم وله عشر نسوة، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">غيلان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">: " لا تطلق النساء إلا من ريبة، إن الله لا يحب الذواقين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">النهي عن الكلب إلا كلب الصيد؛ </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">: " إذا اختلف البيعان، وليس بينة، فهو ما يقول رب السلعة، أو</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">-: " لا يتم بعد احتلام، ولا صمات ms11 يوم إلى الليل ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">: " الخال وارث من لا وارث له ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">مولى النبي - صلى الله عليه وسلم - وقع من نخلة فمات، فقال: انظروا هل له من وارث؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">: " علي كل بيت في العام أضحية وعتيرة ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">: " نهى عن لبس الذهب إلا مقطعا ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">: " أهل الجنة عشرون ومائة صف ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">: " أول ما خلق الله القلم، فقال له: " أجر "، فجرى بما هو</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">حديث أبي رزين: يا رسول الله، أين كان ربنا؟ قال: " كان في عماء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">: " أخبرنا عن ثياب الجنة، أتنسج؟ ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">: " وأدخل أصابعه في صماخ أذنيه ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">: إن أدركتها: أصلي معهم؟ قال: " إن شئت ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">: " رخص في دم الحبون ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">: " من قال: يثرب، فليقل: المدينة عشرا ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">: " الرجل أحق بصدر دابته ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">حديث عائشة في رضاع سالم من سهلة خمس رضعات.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">: " الربا وإن كثر فإنه يصير إلى قل ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">بيع المحفلات خلابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">: كان عندي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">-: " تدنو الشمس يوم ms16 القيامة قدر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">: " إذا قرأتم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">: " كان إذا توضأ أخذ كفا فأدخله تحت حنكه ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">: " اغسلوا قتلاكم " </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">حديث أم سلمة في زكاة الحلي </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">: " من كان عليه صوم رمضان فليسرده ولا يقطعه ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">: " غزونا خيبر فأصبنا غنما فقسم بعضها ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">: " أن النهبة ليست بأحل من الميتة ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">امرأة أعطاها ابنها حديقة، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">: " اشتركنا (9 / ب) في البقرة سبعة، وفي البعير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">: " كان النبي - صلى الله عليه وسلم - يلبس النعال السبتية، ويصفر لحيته بالورس، والزعفران ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">: " يقبل توبة عبده ما لم يغرغر ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">: " إذا أمسك الرجل الرجل وقتله آخر، يقتل القاتل، ويحبس الممسك ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">: " إذا سجد فلا يبرك كالبعير ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">: " الأرض كلها مسجد إلا المقبرة والحمام ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">: تقبيل النبي - صلى الله عليه وسلم - عثمان بن مظعون، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">: " لعن زوارات القبور " </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">وقال في الجهاد: خالد بن الفزر، ليس بالقوي، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">التشديد في زيارة النساء القبور.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">ذكر المصنفين الذين أخرج عنهم في كتابه من متن أو علة:</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 26850</label><label>author_lat_full_name: Šams al-dīn Abū ʿAbd Allãh Muḥammad b. ʿUṯmān b. Qāymāẓ b. ʿAbd Allãh al-Turkumānī, al-Fāriqī, al-Dimašqī, al-Šāfiʿī, al-Muʾarriḫ, al-Ḥāfiẓ, al-Ḏahabī</label><label>author_lat_shuhra: al-Ḏahabī</label><label>author_from_uri: Dhahabi</label><label>tags: CENT0800 :: _CILAL :: _HADITH :: _MUSHKIL :: _TAKHRIJ :: _TARAJIM :: GAL@nodata :: Shamela@كتب التخريج والزوائد</label><label>url: https://raw.githubusercontent.com/OpenITI/0750AH/master/data/0748Dhahabi/0748Dhahabi.Radd/0748Dhahabi.Radd.Shamela0009075-ara1</label><label>tok_length: 7033</label><label>status: pri</label><label>id: Shamela0009075</label><label>ed_info: أبو عبد الأعلى خالد بن محمد بن عثمان المصري :: الفاروق الحديثة - القاهرة / مصر</label><label>title_lat: Radd</label><label>title_ar: الرد على ابن القطان في كتابه بيان الوهم والإيهام</label><label>book: 0748Dhahabi.Radd</label><label>author_lat: Dhahabi :: al-Ḏahabī :: Šams al-dīn Abū ʿAbd Allãh Muḥammad b. ʿUṯmān b. Qāymāẓ b. ʿAbd Allãh al-Turkumānī, al-Fāriqī, al-Dimašqī, al-Šāfiʿī, al-Muʾarriḫ, al-Ḥāfiẓ, al-Ḏahabī</label><label>author_ar: الذهبي :: شمس الدين أبو عبد الله محمد بن عثمان بن قايماظ بن عبد الله التركماني، الفارقي، الدمشقي، الشافعي، المؤرخ، الحافظ، الذهبي</label><label>date: 0748</label><label>versionUri: 0748Dhahabi.Radd.Shamela0009075-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
