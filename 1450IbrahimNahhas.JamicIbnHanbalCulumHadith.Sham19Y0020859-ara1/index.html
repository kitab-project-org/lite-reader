<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head0">AUTO فضل أهل الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head1">AUTO من هو صاحب الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head2">AUTO باب ما جاء في أقسام الحديث</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head3">AUTO 978 - ما جاء في أصح الأسانيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head4">AUTO 979 - الحديث الغريب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head5">AUTO 980 - الحديث المعنعن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head6">AUTO 981 - هل الحديث ms01 المعنعن والمؤنن سواء؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head7">AUTO 982 - حكم زيادة الثقة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head8">AUTO 983 - معرفة من يرجع إلى قوله عند اختلاف الثقات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head9">AUTO 984 - ترجيح المراسيل بعضها على بعض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head10">AUTO 985 - قول الصحابي: (من السنة) هل ms04 يقتضي سنة النبي -صلى الله عليه وسلم- ويكون بمنزلة المرفوع؟ وكذلك قول التابعي: (من السنة) هل يكون بمنزلة المرسل؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head11">AUTO 986 - الحديث المدلس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head12">AUTO 987 - الحديث المنكر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head13">CHECK [فصل. . .]</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head14">AUTO باب الإسناد</a>
<ul class="collapsibleList">
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head15">AUTO 988 - الأمر بالتفتيش عن الأسانيد، وأن الإسناد من الدين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head16">AUTO 989 - طلب علو الإسناد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head17">AUTO 990 - رواية الأكابر عن الأصاغر</a>
</li>
</ul>
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head18">AUTO فصل: من حدث عن الإمام أحمد من مشايخه ومن الأكابر</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head19">AUTO 991 - عبد الرزاق بن همام الصنعاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head20">AUTO 992 - إسماعيل ابن علية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head21">AUTO 993 - وكيع بن الجراح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head22">AUTO 994 - عبد الرحمن بن مهدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head23">AUTO 995 - محمد بن إدريس الشافعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head24">AUTO 996 - معروف الكرخي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head25">AUTO 997 - أسود بن عامر المعروف ب (شاذان)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head26">AUTO 998 - الحسن بن موسى الأشيب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head27">AUTO 999 - داود بن عمرو الضبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head28">AUTO 1000 - أبو زكريا يحيى بن عبد الحميد الحماني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head29">AUTO 1001 - خلف بن هشام البزار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head30">AUTO 1002 - قتيبة بن سعيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head31">AUTO 1003 - علي بن المديني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head32">AUTO 1004 - الحارث بن سريج النقال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head33">AUTO 1005 - أبو جعفر محمد بن الحسين البرجلاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head34">AUTO 1006 - محمد بن يحيى بن أبي سمينة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head35">AUTO 1007 - عبد الله بن عمرو بن محمد بن أبان القرشي الكوفي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head36">AUTO 1008 - محمد بن المصفى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head37">AUTO 1009 - أحمد بن أبي الحواري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head38">AUTO 1010 - عبد الرحمن بن إبراهيم الدمشقي، المعروف ب (دحيم)</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head39">CHECK [فصل. . .]</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head40">AUTO باب ما جاء في الجرح والتعديل</a>
<ul class="collapsibleList">
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head41">AUTO 1011 - جواز الجرح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head42">AUTO 1012 - ما جاء في أن الصحابة كلهم عدول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head43">AUTO 1013 - حد الصحبة</a>
</li>
</ul>
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head44">AUTO فصل: ما جاء في شروط الجرح والتعديل</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head45">AUTO 1014 - لا يقبل الجرح إلا مفسرا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head46">AUTO 1015 - هل يقبل الجرح والتعديل من الواحد؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head47">AUTO 1016 - قواعد في الأساليب والعلل</a>
</li>
</ul>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head48">AUTO باب ما جاء في شروط قبول خبر الراوي</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head49">AUTO أولا: أن يكون عدلا</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head50">AUTO 1017 - بم تثبت العدالة؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head51">AUTO 1018 - هل يقبل خبر من لم تعرف عدالته؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head52">AUTO 1019 - هل رواية العدل عن غيره تعديلا لغيره؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head53">AUTO 1020 - حكم الرواية عمن يأخذ الأجرة على الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head54">AUTO 1021 - الرواية عن الكذابين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head55">AUTO 1022 - حكم الرواية عن أهل الفسق والمعاصي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head56">AUTO 1023 - هل المعصية تسقط العدالة؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head57">AUTO 1024 - حكم الرواية عن جند السلطان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head58">AUTO 1025 - حكم الرواية عن أهل البدع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head59">AUTO 1026 - حكم الرواية عمن أجاب في المحنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head60">AUTO 1027 - حكم الراوية ms19 عن أصحاب الرأي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head61">AUTO 1028 - التحديث عن بني إسرائيل</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head62">AUTO ثانيا: أن يكون ضابطا</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head63">AUTO 1029 - الرواية عمن حدث ونسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head64">AUTO 1030 - إذا وجد سماعه في كتاب، ولم يذكر أنه سمعه، هل يجوز روايته؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head65">AUTO 1031 - الراوي يخفى عليه بعض ما في كتابه، يروى عنه؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head66">AUTO 1032 - الرواية عن الذي لا يحفظ إذا حدث من كتاب غيره</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head67">AUTO 1033 - الرواية عمن لحقه غفلة في وقت ما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head68">AUTO 1034 - من روى حديثا لا أصل له، وقال: سهوت فيه أو أخطأت، هل يقبل خبره؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head69">AUTO 1035 - الرواية عن الحفاظ المتقنين الذين يقل خطؤهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head70">AUTO 1036 - الرواية عمن يغلب عليهم الغلط في روايتهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head71">AUTO 1037 - حكم الرواية عن الضعفاء؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head72">AUTO 1038 - إذا كان في الحديث رجلان: قوي وضعيف، هل يجوز أن يحدث القوى فقط؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head73">AUTO 1039 - هل يمنع التدليس من قبول الخبر؟</a>
</li>
</ul>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head74">AUTO باب: التحمل والأداء</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head75">AUTO 1040 - شرط التحمل: أن يكون ضابطا مميزا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head76">AUTO 1041 - إن كان في سماعه عن فلان فهل يجوز أن يقول قال فلان أم لا؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head77">AUTO 1042 - جمع الحديث عن اثنين أو أكثر إذا اتفق في المعنى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head78">AUTO 1043 - ما جاء في تقطيع الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head79">AUTO 1044 - رواية الحديث بالمعنى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head80">AUTO 1045 - الحديث يجيء فيه اللحن والشيء الفاحش هل يغيره؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head81">AUTO 1046 - إذا وجد الرجل في كتاب غيره من لا يحدث عنهم هل يضرب عليهم؟</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head82">AUTO باب: كتابة الحديث وتدوينه</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head83">AUTO 1047 - تدوين الحديث, وذكر من كره ذلك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head84">AUTO 1048 - حكم كتابة الحديث بالأجرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head85">AUTO 1049 - كراهة كتابة ما دون الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head86">AUTO 1050 - أول من صنف الكتب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head87">AUTO 1051 - ما جاء في الكتابة بخط دقيق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head88">AUTO 1052 - ما جاء في ختم الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head89">AUTO 1053 - ما جاء في دفن الكتب ومحو العلم</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head90">AUTO باب: ما جاء في مصنفات الحديث</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head91">AUTO فصل: ما جاء في "مسند الإمام أحمد"</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head92">AUTO 1054 - سبب تأليف الإمام للمسند</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head93">AUTO 1055 - ما قصد الإمام جمعه من الحديث في "المسند"</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head94">AUTO 1056 - وقت ابتداء الإمام في تصنيف "المسند"؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="15.html#head95">AUTO 1057 - عدد أحاديث "المسند"</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head96">AUTO فصل: ما جاء في "غريب الحديث" لأبي عبيد</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="15.html#head97">AUTO أخطاء طباعية واستدراكات</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="15.html#head98">AUTO المجلد الخامس عشر</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 50304</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibrahim Nahhas</label><label>tags:  :: Sham@علوم الحديث</label><label>url: https://raw.githubusercontent.com/OpenITI/1450AH/master/data/1450IbrahimNahhas/1450IbrahimNahhas.JamicIbnHanbalCulumHadith/1450IbrahimNahhas.JamicIbnHanbalCulumHadith.Sham19Y0020859-ara1</label><label>tok_length: 13099</label><label>status: pri</label><label>id: Sham19Y0020859</label><label>ed_info: الأولى، 1430 ه - 2009 م :: دار الفلاح للبحث العلمي وتحقيق التراث، الفيوم - جمهورية مصر العربية</label><label>title_lat: Jamic Ibn Hanbal Culum Hadith</label><label>title_ar: الجامع لعلوم الإمام أحمد - علوم الحديث</label><label>book: 1450IbrahimNahhas.JamicIbnHanbalCulumHadith</label><label>author_lat: Ibrahim Nahhas</label><label>author_ar: إبراهيم النحاس :: أحمد بن حنبل</label><label>date: 1450</label><label>versionUri: 1450IbrahimNahhas.JamicIbnHanbalCulumHadith.Sham19Y0020859-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "15";
    var volPages = {"15": ["413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "462", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "474", "475", "476", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488", "247", "254", "255", "413", "415", "416", "417", "421", "422", "424", "428", "429", "430", "431", "432", "433", "434", "435", "441", "443", "448", "449", "452", "453", "454", "455", "462", "471", "473", "476"], "21": ["247"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
