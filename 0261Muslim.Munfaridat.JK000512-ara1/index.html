<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">الصحابة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">الصحابيات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">التابعون</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head3">89 تسمية من تفرد عنه سعيد بن المسيب بالرواية ممن دون الصحابة منهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head4">91 وممن تفرد عنه أبو سلمة بن عبد الرحمن بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head5">97 وممن تفرد عنه شقيق بن سلمة أبو وائل بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head6">106 وممن تفرد عنه أبو عثمان النهدي بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head7">111 وممن تفرد عنه أبو العالية الرياحي بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head8">114 وممن تفرد عنه عبد الله بن شقيق العقيلي بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head9">122 وممن تفرد عنه قيس بن أبي حازم بالرواية عنه ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">127 وممن تفرد عنه أبو العلاء يزيد بن عبد الله بن الشخير بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head11">130 وممن تفرد أبو نضرة العبدي بالرواية عنه ممن دون الصحابة واسم أبي نضرة منذر بن مالك بن قطعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head12">134 وممن تفرد عنه أبو عبد الرحمن عبد الله بن يزيد الحبلي بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head13">137 وممن تفرد عنه الحسن بن أبي الحسن بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head14">145 وممن تفرد عنه محمد بن سيرين بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head15">155 وممن تفرد عنه الشعبي بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head16">165 وممن تفرد عنه أبو الورد بن تمامة بن حزن القشيري ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head17">172 وممن ms07 تفرد عنه عطاء بن أبي رباح بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head18">180 وممن تفرد عنه بن أبي مليكة بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head19">188 وممن تفرد عنه عكرمة بن خالد المخزومي بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head20">192 وممن تفرد عنه عمرو بن دينار بالرواية ممن دون الصحابة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head21">211 وممن تفرد عنه أبو الزبير بالرواية ممن ms08 دون الصحابة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head22">216 وممن روى عنه الزهري ممن لم يرو عنه أحد سواه فيما علمنا </a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head23">ومن النساء اللاتي تفرد عنهن الزهري بالرواية</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head24">267 وممن تفرد عنه يحيى بن سعيد الأنصاري بالرواية </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head25">286 وممن تفرد عنه سعد بن إبراهيم بن عبد الرحمن بن عوف بالرواية </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head26">295 وممن تفرد عنه هشام بن عروة بالرواية وهشام يكنى أبا المنذر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head27">308 وممن تفرد بالرواية عنه زيد بن أسلم بالرواية يكنى زيد أبا أسامة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head28">316 وممن تفرد بالرواية عنه أبو إسحاق السبيعي ممن لم يرو عنه أحد سواه</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head29">ومن النساء</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head30">410 وممن تفرد عنه سالم بن أبي الجعد بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head31">414 وممن تفرد عنه عبد الملك بن عمير بالرواية ممن دون الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head32">423 وممن تفرد عنه سماك بن حرب بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head33">460 وممن تفرد عنه الحكم بن عتيبة بالرواية </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head34">465 وممن تفرد عنه حبيب بن أبي ثابت وهو حبيب بن قيس دينار ويكنى أبا يحيى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head35">471 وممن تفرد عنه عمرو بن مرة الحجلي بالرواية عنه ويكنى أبا عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head36">479 وممن تفرد عنه إسماعيل بن أبي خالد البجلي بالرواية وأبو خالد اسمه هرمز ويقال بل اسمه سعد وإسماعيل يكنى أبا عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head37">495 وممن تفرد عنه الأعمش بالرواية واسم الأعمش سليمان بن مهران الكاهلي والأعمش يكنى أبا محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head38">510 وممن تفرد عنه سلمة بن كهيل بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head39">523 وممن تفرد عنه قتادة بن دعامة السدوسي ويكنى أبا الخطاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head40">566 وممن تفرد عنه يحيى بن أبي كثير بالرواية وكان يسكن اليمامة وأصله بصري وكنيته أبو نصر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head41">594 وممن تفرد عنه بكير بن عبد الله بن الأشج بالرواية وبكير أصله في سكن مصر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head42">637 وممن تفرد عنه يعلى بن عطاء الصائغ بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head43">662 وممن تفرد عنه بن عون بالرواية واسم بن عون عبد الله بن عون بن أرطبان ويكنى أبا عون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head44">686 وممن تفرد عنه أيوب بن أبي تميمة السختياني ويكنى أبا بكر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head45">691 وممن تفرد عنه يونس بن عبيد بالرواية ويكنى أبا عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head46">693 وممن تفرد عنه سليمان التيمي بالرواية وهو بن طرخان المدني ويكنى أبا المعتمر تيمي الدار وليس منهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head47">704 وممن تفرد عنه عاصم بن سليمان الأحول بالرواية ويكنى أبا عبد الرحمن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head48">713 وممن تفرد عنه أبو عمران الجوني بالرواية واسمه عبد الملك بن حبيب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head49">719 وممن تفرد عنه خالد الحذاء وهو خالد بن مهران ويكنى أبا المنازل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head50">725 وممن تفرد عنه عمران بن حدير بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head51">744 وممن تفرد عنه أبو بشر جعفر بن أبي وحشية بالرواية ممن دون الصحابة وهو جعفر بن إياس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head52">750 وممن تفرد عنه علي بن زيد بن جدعان التيمي تيم قريش بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head53">756 وممن ms20 تفرد عنه الأسود بن قيس بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head54">761 وممن تفرد عنه حصين بن عبد الرحمن السلمي وحصين يكنى أبا الهذيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head55">771 وممن تفرد عنه داود بن أبي هند بالرواية ويكنى أبا بكر وأبا هند اسمه دينار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head56">775 وممن تفرد عنه مغيرة بن مقسم الضبي بالرواية ومغيرة يكنى أبا هشام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head57">779 وممن تفرد عنه أشعث بن أبي الشعثاء بالرواية وهو أشعث بن سليم بن اسود</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head58">785 وممن تفرد عنه السدي بالرواية وهو إسماعيل بن عبد الرحمن </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head59">796 وممن تفرد عنه منصور بن المعتمر السلمي ومنصور يكنى أبا عتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head60">806 وممن تفرد عنه أبو إسحاق الشيباني بالرواية وهو سليمان بن فيروز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head61">814 وممن تفرد عنه عبد العزيز بن رفيع بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head62">822 وممن تفرد عنه أبو الحكم وهو سياد بن وردان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head63">825 وممن تفرد عنه إسحاق بن عبد الله بن أبي طلحة بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head64">830 وممن تفرد عنه علي بن ربيعة الأسدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head65">833 وممن تفرد عنه أبو البختري الطائي واسم أبي البختري سعيد بن عمران</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head66">836 وممن تفرد عنه أبو عون الثقفي محمد بن عبيد الله بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head67">839 وممن تفرد عنه محمد بن عبد الله بن أبي يعقوب التميمي بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head68">842 وممن تفرد عنه شبيب بن غرقدة بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head69">846 وممن تفرد عنه عبد الله بن عثمان بن خثيم بالرواية وعبد الله يكنى أبا عثمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head70">850 وممن تفرد عنه زياد بن علاقة بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head71">853 وممن تفرد عنه إسماعيل بن سميع الحنفي بالرواية </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head72">860 وممن تفرد عنه عطاء بن السائب بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head73">869 وممن ms23 تفرد عنه الركين بن الربيع بن عميلة الفزاري بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head74">872 وممن تفرد عنه عاصم بن كليب الجرمي بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head75">877 وممن تفرد عنه حميد الطويل بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head76">883 وممن تفرد عنه بن أبي نجيح بالرواية واسمه عبد الله بن يسار ويكنى أبا يسار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head77">887 وممن تفرد عنه أبو الزناد بالرواية وكنيته أبي الزناد وأبو عبد الرحمن وأبو الزناد شبه اللقب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head78">890 وممن تفرد عنه مكحول الدمشقي بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head79">899 وممن تفرد عنه أبو بردة بن أبي موسى بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head80">902 وممن تفرد عنه محمد بن يحيى بن حبان بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head81">905 وممن تفرد عنه أبو قلابة بالرواية واسمه عبد الله بن زيد الجرمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head82">910 وممن تفرد أبو العلاء حيان بن عمير بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head83">913 وممن تفرد عنه حميد بن هلال بالرواية ويكنى أبا نضر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">917 وممن تفرد عنه عبد الله بن بريدة الأسلمي بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head85">922 وممن تفرد عنه هلال بن يساف بالرواية ممن دون الصحابة وهلال يكنى أبا الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head86">929 وممن تفرد عنه ربعي بن خراش بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head87">933 وممن تفرد عنه مجاهد بن جبر أبو الحجاج بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head88">940 وممن تفرد عنه إبراهيم النخعي بالرواية وإبراهيم يكنى أبا عمران</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head89">943 وممن ms25 تفرد عنه سليمان بن يسار بالرواية PageV01P203</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head90">947 وممن تفرد عنه أبو الخير مرثد بن عبد الله اليزني بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head91">950 وممن تفرد عنه أبو جمرة الضبعي بالرواية واسم أبي جمرة نصر بن عمران</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head92">953 وممن تفرد عنه يزيد بن أبي حبيب بالرواية واسم أبي حبيب سويد ويزيد يكنى أبا رجاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head93">970 وممن تفرد عنه عمارة بن أبي حفصة بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head94">973 وممن تفرد عنه عمرو بن يحيى بن عمارة المازني بالرواية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head95">وممن تفرد عنهم من المشهورين بالرواية عمن اشتهر فيما حفظنا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head96">1088 وممن تفرد عنه عبد الملك بن عبد العزيز بن جريج بالرواية وابن جريج له كنيتان أبو الوليد وأبو خالد وهو بأبي الوليد أشهر</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head97">تسمية النساء اللاتي تفرد عنهن عبد الملك بن عبد العزيز بن جريج بالرواية</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head98">1124 وممن تفرد عنه بن أبي ذئب بالرواية وابن أبي ذئب اسمه محمد بن عبد الرحمن بن المغيرة بن الحارث بن أبي ذئب ويكنى أبا الحارث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head99">1165 وممن تفرد عنه مالك بن أنس بالرواية وهو مالك بن أنس بن مالك بن أبي عامر التيمي الأصبحي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head100">1174 وممن تفرد عنه شعبة بن الحجاج بن ورد العتكي بالرواية </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head101">1246 وممن تفرد عنه مسعر بن كدام بالرواية وهو مسعر بن كدام بن ظهير بن عبيدة الهلالي ويكنى أبا سلمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head102">1269 وممن تفرد عنه سفيان بن سعيد بن مسروق الثوري بالرواية وسفيان يكنى أبا عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head103">1287 وممن تفرد عنه حماد بن سلمة بن دينار بالرواية وحماد يكنى أبا ms33 سلمة مولى حمير بن كراثة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head104">1316 وممن تفرد عنه حماد بن زيد بن درهم وحماد يكنى أبا إسماعيل مولى الأزد</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">1 ( المنفردات للنسائي )</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head106">( تسمية من لم يرو عنه غير رجل واحد للنسائي )</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 40629</label><label>author_lat_full_name:  abū al-ḥusayn muslim b. al-ḥaǧǧāǧ b. muslim al-qušayrī al-naysābūrī</label><label>author_lat_shuhra: muslim b. al-ḥaǧǧāǧ</label><label>author_from_uri: Muslim</label><label>tags: MARKDOWN :: CENT0300 :: PPE :: _HADITH :: _SUNNI :: _TABAQAT :: _TARAJIM :: GAL@period-classical :: GAL@literature-islamic :: GAL@0750-1000CE :: GAL@hadith :: GAL@literature-arabic :: JK@كتب الحديث النبوي الشريف وتراجم الرواة :: JK@كتب الضعفاء</label><label>url: https://raw.githubusercontent.com/OpenITI/0275AH/master/data/0261Muslim/0261Muslim.Munfaridat/0261Muslim.Munfaridat.JK000512-ara1.mARkdown</label><label>tok_length: 10528</label><label>status: pri</label><label>id: JK000512</label><label>ed_info: د. عبدالغفار سليمان البنداري :: بيروت :: 1408 - 1988 :: دار الكتب العلمية :: http://www.worldcat.org/oclc/1044628806</label><label>title_lat: al-munfaridāt wa-l-waḥadān :: </label><label>title_ar: المنفردات والوحدان :: </label><label>book: 0261Muslim.Munfaridat</label><label>author_lat: Muslim :: muslim b. al-ḥaǧǧāǧ ::  abū al-ḥusayn muslim b. al-ḥaǧǧāǧ b. muslim al-qušayrī al-naysābūrī</label><label>author_ar: مسلم بن الحجاج ::  أبو الحسين مسلم بن الحجاج بن مسلم القشيري النيسابوري</label><label>date: 0261</label><label>versionUri: 0261Muslim.Munfaridat.JK000512-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["001", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
