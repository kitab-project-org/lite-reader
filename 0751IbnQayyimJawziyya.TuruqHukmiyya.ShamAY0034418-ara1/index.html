<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">AUTO كتاب الطرق الحكمية في السياسة الشرعية لابن القيم الجوزية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">AUTO بسم الله الرحمن الرحيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">AUTO هل للحاكم أن يحكم بالفراسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">AUTO وقد ذهب مالك رحمه الله إلى التوصل بالإقرار بما يراه الحاكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">AUTO كتاب حاطب بن أبي بلتعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">AUTO لمن تدفع اللقطة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">AUTO اللقيط إذا تداعاه اثنان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">AUTO دعوى قتل أبي جهل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">AUTO الفراسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">AUTO السياسه الشرعية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">AUTO الفراسة في السنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">AUTO من الأجوبة الحصيفة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">AUTO وفي الصحيحين عن أنس رضي الله عنه أن رجلا اطلع في بعض حجر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">AUTO الإكراه على الفاحشة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">AUTO ### | AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">AUTO ادرءوا الحدود بالشبهات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">AUTO من عجائب القضاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">AUTO الحبس في الدين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">AUTO الحكم بشهادة الرجل الواحد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">AUTO منزلة السنة من الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">AUTO الحكم بشهادة شاهد واحد بدون يمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">AUTO شهادة النساء منفردات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">AUTO الرسول صلى الله عليه وسلم يجيز شهادة القابلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">AUTO شهادة الرجل الواحد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">AUTO في القضاء بالنكول ورد اليمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">AUTO وهذا الذي اختاره شيخنا رحمه الله هو فصل النزاع في النكول ورد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">AUTO في مذاهب أهل المدينة في الدعاوي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">AUTO في التهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">AUTO في التعزير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">AUTO في الطرق التي يحكم بها الحاكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">AUTO أحدها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">AUTO الطريق الثاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">AUTO الإنكار المجرد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">AUTO ولليمين فوائد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">AUTO الطريق الثالث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">AUTO أن يحكم باليد مع يمين صاحبها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">AUTO الطريق الرابع والخامس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">AUTO الحكم بالنكول وحده أو به مع رد اليمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">AUTO الطريق السادس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">AUTO الحكم بالشاهد الواحد بلا يمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">AUTO الطريق السابع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">AUTO الحكم بالشاهد واليمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">AUTO الطريق الثامن من طرق الحكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">AUTO الطريق التاسع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">AUTO الطريق العاشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">AUTO الطريق الحادي عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">AUTO الطريق الثاني عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">AUTO الطريق الثالث عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">AUTO الطريق الرابع عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">AUTO الطريق الخامس عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">AUTO الطريق السادس عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">AUTO الطريق السابع عشر ms150</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">AUTO الطريق الثامن عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">AUTO الطريق التاسع عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">AUTO الطريق العشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">AUTO الطريق الحادي والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">AUTO الطريق الثاني والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">AUTO الطريق الثالث والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">AUTO الطريق الرابع والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">AUTO الطريق الخامس والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">AUTO الطريق السادس والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">AUTO قيل نعم النسب كان ثابتا بالفراش وكان الناس يقدحون في نسبه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head118">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head119">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head120">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head121">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head122">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head123">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head124">AUTO في التسعير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head125">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head126">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head127">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head128">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head129">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head130">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head131">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head132">AUTO القرعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head133">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head134">AUTO في كيفية القرعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head135">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head136">AUTO في مواضع القرعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head137">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head138">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head139">AUTO ومن مواضع القرعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head140">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head141">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head142">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head143">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head144">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head145">AUTO فصل</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 343776</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibn Qayyim Jawziyya</label><label>tags:  :: ShamAY@كتب ابن القيم</label><label>url: https://raw.githubusercontent.com/OpenITI/0775AH/master/data/0751IbnQayyimJawziyya/0751IbnQayyimJawziyya.TuruqHukmiyya/0751IbnQayyimJawziyya.TuruqHukmiyya.ShamAY0034418-ara1</label><label>tok_length: 83200</label><label>status: sec</label><label>id: ShamAY0034418</label><label>ed_info: د. محمد جميل غازي :: مطبعة المدني - القاهرة</label><label>title_lat: Turuq Hukmiyya</label><label>title_ar: الطرق الحكمية في السياسة الشرعية :: الطرق الحكمية - مطبعة المدني</label><label>book: 0751IbnQayyimJawziyya.TuruqHukmiyya</label><label>author_lat: Ibn Qayyim Jawziyya</label><label>author_ar: ابن القيم :: أبو عبد الله محمد بن أبي بكر بن أيوب بن سعد، شمس الدين، ابن قيم الجوزية :: محمد بن أبي بكر أيوب الزرعي ابن القيم أبو عبد الله</label><label>date: 0751</label><label>versionUri: 0751IbnQayyimJawziyya.TuruqHukmiyya.ShamAY0034418-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["001", "003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "386", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "462", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "474", "475", "476"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
