<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">في الماء الذي خالطته نجاسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">فيما يموت في البئر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">في سؤر الكلب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">في سؤر الهر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">في سؤر الحمار والبغل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">6 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">في سؤر الطير </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">في المحبوس في المصر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">80 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">في القيء </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">113 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">في غسل الميت </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">183 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">في سجود القرآن </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">في تغميض المصلي عينيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">في المسجد يكون فوقه أو تحته بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">360 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">في كسوف القمر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">361 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">في الإستسقاء </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">366 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">إذا كبر الإمام خمسا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">في معنى قوله لا يجمع بين متفرق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">398 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">في الحملان </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">في الزرع الذي مات صاحبه قبل أداء العشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">في أحكام بني تغلب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">في مقدار صدقة الفطر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head0">483 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head1">في حد البلوغ </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head2">502 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head3">في الشيخ الكبير </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head4">520 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head5">في الحقنة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head6">الإحرام قبل الميقات </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head7">581 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head8">في حمل المحرم على رأسه شيئا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head9">113 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head10">632 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head11">فيمن صام بعد إحرام العمرة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head12">ى 697 من أفسد حجة أو عمرة وترك السعي بين الصفا والمروة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head13">706 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head14">قال إن فعلت كذا فأنا أحج بفلان </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head15">770 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head16">إذا اختلفا في قبض الصداق </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head17">812 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head18">في لبن الفحل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head19">829 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head20">في الحربية تخرج إلينا مسلمة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head21">847 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head22">في المريض يعتق أمته ثم يتزوجها </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head23">854 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head24">في العربي يتزوج الأمة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head25">874 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head26">فيمن تزوج أختين في عقدتين </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head27">تتمة 833 زيادة في المسبية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head28">تتمة 825 قول مالك في المفقود</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head29">886 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head30">في التي يرتفع حيضها </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head31">923 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head32">في البتة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head33">924 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head34">في الخيار </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head35">995 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head36">ب) في الاختلاف في الخلع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head0">1079 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head1">في السلم في السمك </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head2">أول البيوع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head3">1163 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head4">فيمن باع بدينار إلا درهم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head5">1296 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head6">في الحمار الوحشي إذا دجن </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head7">4</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head8">1349 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head9">في الكسوة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head10">1377 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head11">فيمن حلف لا يساكن رجلا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head12">1434 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head13">فيمن شتم رجلا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head14">2 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head15">1642 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head16">في الربا في دار الحرب </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head17">1655 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="03.html#head18">في المرتد يقتل رجلا خطأ </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head0">1740 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head1">في المضاربة الفاسدة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head2">في الظئر تريد فسخ الإجارة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head3">1875 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head4">في رجلين يغصبان شيئا واحدا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head5">2017 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head6">في بيع الرهن </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head7">2065 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head8">في إحفاف الشارب </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head9">2105 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head10">في كتابة المكاتب </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="04.html#head11">2114 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head0">في الوصية بأكثر من الثلث إذا أجازها الورثة [في حياة الموصي]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head1">2202 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head2">فيمن اشترى ابنه في مرضه </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head3">2209 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head4">في الوصي يوصي إلى غيره </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head5">ملحقة 2180 زيادة في مسألة الوصية بما بقي من الثلث وقد تقدمت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head6">2227 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head7">فيما دون الموضحة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head8">2242 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head9">في شعر الرأس واللحية </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head10">2258 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head11">فيمن عض ذراع رجل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head12">2266 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head13">في رمحة الدابة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head14">2267 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head15">في الفارسين يصطدمان </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head16">2279 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head17">في الحائط المائل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head18">2293 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head19">في العبد يوجد قتيلا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head20">2300 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="05.html#head21">في جنين الأمة </a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 1423393</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Abu Jacfar Tahawi</label><label>tags: CENT0400 :: _FIQH :: GAL@nodata :: Shamela@فقه عام</label><label>url: https://raw.githubusercontent.com/OpenITI/0325AH/master/data/0321AbuJacfarTahawi/0321AbuJacfarTahawi.MukhtasarIkhtilafCulama/0321AbuJacfarTahawi.MukhtasarIkhtilafCulama.Shamela0006222-ara1</label><label>tok_length: 361433</label><label>status: sec</label><label>id: Shamela0006222</label><label>ed_info: د. عبد الله نذير أحمد :: دار البشائر الإسلامية - بيروت</label><label>title_lat: Mukhtasar Ikhtilaf Culama</label><label>title_ar: مختصر اختلاف العلماء</label><label>book: 0321AbuJacfarTahawi.MukhtasarIkhtilafCulama</label><label>author_lat: Abu Jacfar Tahawi</label><label>author_ar: أبو جعفر أحمد بن محمد بن سلامة بن عبد الملك بن سلمة الأزدي الحجري المصري المعروف بالطحاوي (المتوفى: 321هـ)</label><label>date: 0321</label><label>versionUri: 0321AbuJacfarTahawi.MukhtasarIkhtilafCulama.Shamela0006222-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "115", "116", "117", "118", "119", "120", "000", "000", "000", "124", "000", "000", "127", "000", "000", "000", "000", "132", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "151", "000", "000", "000", "000", "000", "000", "000", "159", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "175", "000", "000", "000", "000", "000", "000", "000", "183", "000", "000", "000", "000", "188", "000", "000", "000", "000", "000", "194", "195", "000", "197", "000", "000", "000", "000", "000", "000", "000", "205", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "220", "221", "000", "000", "000", "000", "000", "000", "228", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "249", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "263", "000", "265", "000", "267", "000", "000", "000", "000", "272", "000", "000", "000", "000", "000", "000", "000", "280", "000", "000", "000", "000", "000", "286", "000", "000", "000", "290", "000", "000", "000", "000", "000", "000", "000", "298", "000", "300", "000", "000", "000", "000", "000", "306", "000", "000", "000", "310", "000", "000", "000", "314", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "328", "000", "000", "000", "332", "000", "000", "000", "000", "000", "000", "000", "000", "000", "342", "000", "000", "000", "000", "347", "000", "000", "350", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "367", "368", "000", "000", "000", "000", "000", "000", "000", "000", "377", "000", "000", "000", "381", "000", "000", "000", "000", "000", "387", "000", "000", "000", "000", "392", "000", "000", "000", "000", "397", "000", "000", "400", "000", "000", "000", "000", "000", "000", "000", "000", "409", "000", "000", "000", "414", "415", "416", "000", "000", "000", "420", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "444", "000", "000", "000", "000", "449", "000", "451", "452", "000", "000", "000", "000", "000", "458", "000", "460", "000", "000", "463", "464", "465", "000", "467", "000", "000", "000", "000", "000", "000", "000", "475", "000", "000", "000", "479", "000", "000", "000", "000", "000", "485"], "02": ["000", "000", "006", "000", "000", "000", "010", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "022", "000", "000", "000", "000", "027", "000", "000", "000", "000", "000", "033", "000", "035", "000", "000", "000", "000", "000", "000", "000", "043", "000", "000", "046", "000", "000", "000", "000", "051", "052", "000", "000", "000", "056", "000", "058", "000", "000", "061", "000", "063", "064", "000", "066", "000", "000", "069", "000", "000", "000", "073", "074", "000", "076", "000", "078", "000", "080", "000", "000", "000", "084", "085", "000", "000", "000", "089", "090", "000", "092", "093", "000", "095", "000", "097", "000", "099", "000", "000", "000", "000", "000", "000", "106", "000", "000", "109", "000", "000", "000", "000", "000", "115", "116", "117", "000", "000", "000", "000", "122", "123", "124", "000", "126", "127", "000", "000", "130", "000", "132", "000", "000", "000", "136", "137", "138", "139", "140", "000", "142", "000", "144", "000", "000", "000", "000", "149", "150", "151", "000", "000", "000", "155", "000", "157", "000", "000", "000", "000", "000", "000", "000", "000", "166", "000", "000", "000", "000", "000", "000", "000", "000", "175", "000", "000", "000", "000", "180", "000", "000", "000", "000", "000", "000", "000", "188", "189", "000", "191", "000", "000", "000", "000", "196", "000", "000", "199", "000", "000", "000", "000", "000", "000", "000", "000", "208", "209", "000", "000", "000", "000", "000", "000", "000", "000", "000", "219", "000", "000", "000", "000", "000", "225", "000", "000", "228", "000", "000", "000", "232", "233", "234", "000", "000", "000", "000", "000", "240", "241", "000", "243", "000", "245", "000", "248", "249", "000", "000", "000", "000", "000", "000", "000", "000", "258", "000", "000", "261", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "276", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "297", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "311", "000", "000", "000", "315", "316", "317", "000", "000", "000", "000", "000", "323", "324", "000", "000", "000", "328", "000", "330", "331", "000", "000", "000", "000", "336", "337", "338", "000", "340", "000", "000", "000", "344", "000", "346", "000", "000", "349", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "368", "000", "000", "000", "372", "373", "000", "376", "000", "000", "000", "000", "381", "000", "000", "000", "000", "000", "000", "000", "000", "000", "391", "000", "000", "000", "000", "396", "000", "000", "000", "000", "000", "000", "000", "000", "405", "000", "000", "408", "000", "000", "000", "000", "000", "414", "415", "000", "000", "418", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "431", "000", "000", "000", "000", "000", "437", "000", "439", "000", "441", "000", "000", "000", "000", "000", "000", "448", "000", "000", "000", "000", "000", "000", "000", "000", "457", "458", "459", "000", "000", "000", "463", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "474", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "486", "000", "000", "000", "000", "000", "492", "000", "000", "495", "000", "000", "000", "000", "000", "000", "000", "000", "504"], "03": ["000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "013", "000", "000", "016", "017", "000", "000", "000", "000", "022", "000", "000", "000", "000", "000", "000", "000", "030", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "045", "000", "047", "048", "000", "000", "000", "052", "000", "000", "000", "000", "000", "000", "059", "000", "000", "000", "000", "064", "000", "000", "067", "000", "000", "000", "000", "000", "073", "000", "075", "076", "077", "078", "000", "080", "081", "000", "000", "000", "000", "000", "000", "000", "089", "000", "000", "092", "000", "000", "000", "000", "000", "000", "099", "000", "101", "000", "103", "000", "000", "000", "000", "000", "000", "000", "111", "000", "000", "114", "115", "000", "000", "118", "000", "000", "121", "122", "123", "000", "000", "000", "000", "000", "000", "000", "131", "132", "133", "134", "135", "000", "000", "138", "000", "000", "000", "000", "143", "000", "000", "000", "000", "000", "000", "000", "151", "152", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "163", "164", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "175", "000", "177", "178", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "193", "000", "195", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "206", "000", "000", "000", "000", "000", "212", "000", "000", "215", "000", "000", "000", "000", "000", "221", "000", "223", "000", "000", "000", "227", "000", "000", "000", "231", "000", "233", "234", "000", "236", "000", "238", "000", "000", "000", "000", "000", "000", "245", "000", "000", "000", "000", "250", "251", "000", "000", "000", "000", "256", "257", "000", "000", "000", "261", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "275", "000", "278", "000", "280", "000", "000", "000", "000", "000", "000", "000", "000", "000", "290", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "301", "000", "000", "000", "305", "000", "000", "000", "000", "000", "000", "000", "000", "314", "000", "000", "000", "000", "000", "000", "000", "000", "000", "324", "325", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "341", "000", "000", "000", "000", "000", "347", "000", "000", "000", "000", "000", "000", "354", "000", "000", "000", "358", "359", "000", "000", "000", "000", "364", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "377", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "389", "000", "391", "392", "000", "394", "000", "000", "000", "398", "399", "000", "000", "000", "000", "000", "000", "406", "000", "000", "000", "000", "000", "000", "000", "000", "415", "000", "000", "000", "000", "000", "000", "422", "423", "000", "426", "427", "000", "429", "000", "000", "000", "433", "000", "000", "000", "000", "438", "439", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "457", "000", "459", "000", "461", "000", "000", "000", "000", "000", "000", "000", "000", "470", "000", "000", "000", "000", "000", "000", "477", "000", "479", "000", "481", "000", "483", "000", "485", "000", "000", "000", "000", "000", "000", "000", "493", "000", "000", "000", "000", "000", "499", "500", "000", "502", "503", "000", "505", "000", "000", "000", "000", "510", "000", "512", "513", "514", "000", "516", "517", "000", "519"], "04": ["000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "022", "023", "024", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "056", "000", "000", "059", "060", "061", "000", "000", "000", "000", "000", "068", "000", "000", "000", "000", "000", "000", "000", "000", "077", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "091", "000", "000", "000", "000", "000", "097", "000", "000", "100", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "117", "000", "000", "000", "000", "000", "000", "000", "000", "000", "127", "000", "000", "000", "000", "000", "000", "000", "000", "000", "138", "000", "000", "000", "000", "143", "144", "000", "000", "147", "148", "149", "000", "151", "000", "153", "154", "155", "000", "158", "000", "000", "000", "162", "000", "164", "000", "000", "000", "168", "000", "000", "000", "172", "173", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "186", "000", "188", "000", "000", "000", "000", "000", "000", "000", "000", "000", "198", "000", "000", "000", "000", "000", "000", "205", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "224", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "235", "000", "000", "238", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "254", "000", "256", "257", "258", "000", "000", "000", "000", "000", "000", "000", "266", "000", "000", "000", "000", "271", "272", "000", "274", "000", "000", "277", "278", "000", "280", "000", "000", "283", "000", "285", "286", "000", "288", "000", "000", "000", "000", "000", "000", "295", "000", "000", "298", "299", "000", "301", "000", "000", "000", "000", "000", "000", "308", "000", "310", "311", "312", "313", "000", "000", "000", "000", "000", "000", "000", "000", "323", "000", "000", "326", "000", "000", "000", "330", "331", "000", "333", "334", "000", "336", "337", "338", "339", "340", "341", "342", "000", "000", "000", "346", "000", "348", "000", "000", "000", "000", "000", "000", "356", "000", "000", "000", "360", "361", "362", "000", "364", "000", "366", "000", "368", "000", "370", "000", "372", "373", "374", "000", "376", "377", "000", "380", "000", "000", "383", "000", "385", "000", "000", "388", "000", "000", "000", "392", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "405", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "428", "000", "000", "000", "000", "433", "000", "000", "436", "437", "438", "000", "000", "441", "000", "000", "000", "445", "000", "000", "000", "000", "000", "451", "452", "453", "000", "455", "000", "457", "458", "459", "000", "000", "462", "463", "464", "465", "466", "467", "000", "000", "470", "471", "000", "473", "474", "475", "476", "000", "478", "000", "480", "000", "482"], "05": ["005", "006", "007", "000", "000", "010", "000", "000", "013", "014", "015", "000", "000", "000", "000", "020", "000", "000", "023", "024", "000", "026", "000", "000", "029", "030", "000", "000", "000", "000", "000", "000", "000", "000", "000", "040", "000", "000", "000", "044", "045", "046", "000", "048", "049", "000", "000", "000", "000", "000", "000", "056", "000", "000", "000", "060", "000", "000", "063", "064", "000", "066", "000", "000", "000", "000", "000", "000", "000", "000", "075", "000", "000", "000", "079", "000", "081", "000", "083", "084", "000", "086", "087", "088", "089", "090", "000", "092", "000", "094", "095", "000", "000", "098", "099", "000", "101", "102", "000", "000", "000", "000", "000", "000", "000", "110", "111", "000", "000", "000", "000", "000", "117", "000", "000", "000", "000", "000", "123", "000", "000", "000", "127", "000", "129", "000", "000", "000", "133", "000", "000", "136", "000", "138", "000", "140", "000", "142", "000", "000", "000", "000", "000", "148", "000", "000", "000", "000", "000", "000", "000", "156", "000", "158", "000", "000", "000", "000", "163", "000", "165", "166", "000", "000", "000", "170", "171", "000", "173", "000", "175", "000", "000", "178", "179", "180", "181", "182", "183", "000", "185", "186", "187", "000", "000", "190", "191", "000", "000", "194", "000", "196", "000", "000", "199", "200", "000", "000", "000", "000", "000", "206", "000", "208", "000", "000", "000", "212", "213", "000", "216", "217", "218", "219", "220", "000", "222", "223", "000", "000", "000", "228", "229", "230", "000", "232", "000", "000", "000", "236", "000", "000", "239"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
