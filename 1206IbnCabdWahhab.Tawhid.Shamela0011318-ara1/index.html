<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">كتاب التوحيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">باب فضل التوحيد وما يكفر الذنوب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">باب (2) من حقق التوحيد دخل الجنة بغير حساب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">باب (3) الخوف من الشرك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">باب (4) الدعاء إلى شهادة أن لا إله إلا الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">باب (5) تفسير التوحيد وشهادة أن لا إله إلا الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">باب (6) من الشرك: لبس الحلقة والخيط ونحوهما لرفع البلاء أو دفعه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">باب (7) ما جاء في الرقى والتمائم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">باب (8) من تبرك بشجر أو حجر ونحوهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">باب (9) ما جاء في الذبح لغير الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">باب (10) لا يذبح لله بمكان يذبح فيه لغير الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">باب (11) من الشرك: النذر لغير الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">باب (12) من الشرك: الاستعاذة بغير الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">باب (13) من الشرك أن يستغيث بغير الله أو يدعو غيره</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">باب (14) قول الله تعالى: {أيشركون ما لا يخلق شيئا وهم يخلقون ولا يستطيعون لهم نصرا ولا أنفسهم ينصرون} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">باب (15) قول الله تعالى: {حتى إذا فزع عن قلوبهم قالوا ماذا قال ربكم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">باب (16) الشفاعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">باب (17) قول الله تعالى: {إنك لا تهدي من أحببت </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">باب (18) ما جاء أن سبب كفر بني آدم وتركهم دينهم هو الغلو في الصالحين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">باب (19) ما جاء ms21 من التغليظ فيمن عبد الله عند قبر رجل صالح، فكيف إذا عبده؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">باب (20) ما جاء أن الغلو في قبور الصالحين يصيرها أوثانا تعبد من دون الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">باب (21) ما جاء في حماية المصطفى صلى الله عليه وسلم جناب التوحيد </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">باب (22) ما جاء أن بعض هذه الأمة تعبد الأوثان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">باب (23) ما جاء في السحر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">باب (24) بيان شيء من أنواع السحر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">باب (25) ما جاء في الكهان ونحوهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">باب (26) ما جاء في النشرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">باب (27) ما جاء في التطير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">باب (28) ما جاء في التنجيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">باب (29) ما جاء في الاستسقاء بالأنواء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">باب (30) قول الله تعالى: {ومن الناس من يتخذ من دون الله أندادا يحبونهم كحب الله} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">باب (31) قول الله تعالى: {إنما ذلكم الشيطان يخوف أولياءه فلا تخافوهم وخافون إن كنتم مؤمنين} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">باب (32) قول الله تعالى: {وعلى الله فتوكلوا إن كنتم مؤمن} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">باب (33) قول الله تعالى: {أفأمنوا مكر الله فلا يأمن مكر الله إلا القوم الخاسرون} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">باب (34) من الإيمان بالله: الصبر على أقدار الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">باب (35) ما جاء في الرياء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">باب (36) من الشرك: إرادة الإنسان بعمله الدنيا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">باب (37) من أطاع العلماء والأمراء في تحريم ما أحل الله أو تحليل ما حرم الله فقد اتخذهم أربابا من دون الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">باب (38) قول الله تعالى: {ألم تر إلى الذين يزعمون أنهم آمنوا بما أنزل إليك </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">باب (39) من جحد شيئا من الأسماء والصفات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">باب (40) قول الله تعالى: {يعرفون نعمت الله ثم ينكرونها وأكثرهم الكافرون} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">باب (41) قول الله تعالى: {فلا تجعلوا لله أندادا وأنتم تعلمون} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">باب (42) ما جاء فيمن لم يقنع بالحلف بالله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">باب (43) قول: ما شاء الله وشئت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">باب (44) من سب الدهر فقد آذى الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">باب (45) التسمي بقاضي القضاة ونحوه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">باب (46) احترام أسماء الله تعالى وتغيير الاسم لأجل ذلك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">بلب من هزل بشيء فيه ذكر الله أو القرآن أو الرسول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">باب (48) قول الله تعالى: {ولئن أذقناه رحمة منا من بعد ضراء مسته ليقولن هذا لي </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">باب (49) قول الله تعالى: {فلما آتاهما صالحا جعلا له شركاء فيما آتاهما فتعالى الله عما يشركون} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">باب (50) قول الله تعالى: {ولله الأسماء الحسنى فادعوه بها وذروا الذين يلحدون في أسمائه} </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">باب (51) لا يقال: السلام على الله ms43</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">باب (51) قول: اللهم اغفر لي إن شئت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">باب (53) لا يقول: عبدي وأمتي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">باب لا يرد من سأل الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">باب (55) لا يسأل بوجه الله إلا الجنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">باب ما جاء في "لو"</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">باب (57) النهي عن سب الريح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">باب (58) قول الله تعالى: {يظنون بالله غير الحق ظن الجاهلية يقولون هل لنا من الأمر من شيء </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">باب: ما جاء في منكري القدر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">باب (60) ما جاء في المصورين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">باب (61) ما جاء في كثرة الحلف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">باب (62) ما جاء في ذمة الله وذمة نبيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">باب (63) ما جاء في الإقسام على الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">باب (64) لا يستشفع بالله على خلقه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">باب (65) ما جاء في حماية النبي صلى الله عليه وسلم حمى التوحيد وسده طرق الشرك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">باب ما جاء في قول الله تعالى: {وما قدروا الله حق قدره والأرض جميعا قبضته يوم القيامة </a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 65141</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibn Cabd Wahhab</label><label>tags: CENT1300 :: _CAQAID :: _MILAL :: _SUNNI :: GAL@literature-islamic :: GAL@hanbalis :: GAL@period-decline :: GAL@1518-1798CE :: GAL@period-ottoman :: GAL@wahhabis :: GAL@arabia-north :: GAL@arabia :: Shamela@العقيدة</label><label>url: https://raw.githubusercontent.com/OpenITI/1225AH/master/data/1206IbnCabdWahhab/1206IbnCabdWahhab.Tawhid/1206IbnCabdWahhab.Tawhid.Shamela0011318-ara1</label><label>tok_length: 15780</label><label>status: sec</label><label>id: Shamela0011318</label><label>ed_info: عبد العزيز بن عبد الرحمن السعيد وغيره :: جامعة الأمام محمد بن سعود، الرياض، المملكة العربية السعودية</label><label>title_lat: Tawhid</label><label>title_ar: كتاب التوحيد (مطبوع ضمن مؤلفات الشيخ محمد بن عبد الوهاب، الجزء الأول)</label><label>book: 1206IbnCabdWahhab.Tawhid</label><label>author_lat: Ibn Cabd Wahhab</label><label>author_ar: محمد بن عبد الوهاب بن سليمان التميمي النجدي (المتوفى: 1206هـ)</label><label>date: 1206</label><label>versionUri: 1206IbnCabdWahhab.Tawhid.Shamela0011318-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
