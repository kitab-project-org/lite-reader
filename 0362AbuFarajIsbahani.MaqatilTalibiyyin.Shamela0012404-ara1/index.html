<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">خطبة الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">عصر النبي والخلفاء الأولين</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head2">1- جعفر بن أبي طالب</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head3">ذكر مقتل جعفر بن أبي طالب والسبب فيه وبعض أخباره</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head4">2- محمد بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head5">3- علي بن أبي طالب</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head6">ثم ms026 نعود إلى ذكر خبر مقتله والسبب فيه</a>
</li>
</ul>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">عصر بني أمية</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head8"> 4- الحسن بن علي</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head9">ذكر الخبر ms039 في بيعته بعد وفاة أمير المؤمنين علي (ع) وتسليمه الأمر إلى معاوية والسبب في وفاته</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">5- الحسين</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head11">ذكر خبر الحسين  بن علي «3» بن أبي طالب ومقتله ومن قتل معه من أهله</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head12">فمنهم مسلم بن عقيل بن أبي طالب عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head13">وعلي بن الحسين وهو علي الأكبر ولا عقب له</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head14">وعبد الله بن علي بن أبي طالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head15">وجعفر بن علي بن أبي طالب- عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head16">وعثمان بن علي بن أبي طالب- عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head17">والعباس بن ms060 علي بن أبي طالب- عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head18">ومحمد الأصغر بن علي ms061 بن أبي طالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head19">وأبو بكر بن علي بن أبي طالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head20">وأبو بكر ... بن الحسين بن علي بن أبي طالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head21">والقاسم بن الحسن بن علي بن أبي طالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head22">(وعبد الله بن الحسن بن علي بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head23">(وعبد الله بن الحسين بن علي بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head24">(وعون بن عبد الله بن جعفر بن أبي طالب الأكبر) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head25">(ومحمد بن عبد الله بن جعفر بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head26">(وعبيد الله بن عبد الله بن جعفر بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head27">(وعبد الرحمن بن عقيل بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head28">(وجعفر بن عقيل بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head29">(وعبد الله الأكبر بن عقيل بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head30">(ومحمد بن مسلم بن عقيل بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head31">(وعبد الله بن مسلم بن عقيل بن أبي طالب) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head32">(ومحمد بن أبي سعيد الأحول بن عقيل بن أبي طالب) </a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head33">(ثم نرجع إلى ذكر خبر الحسين بن علي ومقتله) صلوات الله عليه </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head34">(رجع الحديث إلى مقتله صلوات الله عليه) </a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head35">6- أبو بكر بن عبد الله بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head36">7- عون بن عبد الله بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head37">8- عبيد الله بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head38">9- عبد الله بن محمد بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head39">10- زيد بن علي</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head40">(مقتل زيد بن علي والسبب فيه) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head41">(تسمية من عرف ممن خرج مع زيد بن علي) من أهل العلم ونقلة الآثار والفقهاء </a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head42">11- يحيى بن زيد</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head43">(ذكر السبب في مقتله)</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head44">12- عبد الله بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head45">13- عبد الله بن المسور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head46">14- عبد الله بن معاوية</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head47">(ذكر السبب في خروجه ومقتله) </a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head48">15- عبيد الله بن الحسين</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">ذكر من قتل منهم في الدولة العباسية</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head50">أيام أبي العباس السفاح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head51">أيام أبي جعفر المنصور ومن قتل منهم فيها</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head52">16- عبد الله بن الحسن بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head53">17- الحسن بن الحسن بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head54">18- إبراهيم بن الحسن بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head55">19- علي بن الحسن بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head56">20- عبد الله بن الحسن بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head57">21- العباس بن الحسن بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head58">22- اسماعيل بن إبراهيم بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head59">23- محمد بن إبراهيم بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head60">24- علي بن محمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head61">25- محمد بن عبد الله بن عمرو</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head62">ذكر السبب في أخذ عبد الله بن الحسن</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head63">26- ابن محمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head64">27- محمد بن عبد الله بن الحسن</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head65">باب ما ذكر في تسميته بالمهدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head66">ذكر إنكار عبد الله بن الحسن وأهله (وغيرهم أن يكون محمد المهدي، وقولهم فيه إنه النفس الزكية رضوان الله عليه وسلامه) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head67">إظهار محمد بن عبد الله بن الحسن (الدعوة لنفسه) </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head68">أمر محمد بن عبد الله ومقتله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head69">ذكر من عرف ممن خرج مع محمد بن عبد الله ابن الحسن من أهل العلم، ونقلة الآثار ومن رأى الخروج معه وأفتى الناس</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head70">27- الحسن بن معاوية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head71">28- عبد الله الأشتر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head72">29- إبراهيم بن عبد الله بن الحسن</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head73">خبر بشير الرحال في خروجه مع إبراهيم بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head74">وصول مقتل محمد بن عبد الله إلى أخيه إبراهيم، وحركته للنهوض إلى باخمري، وتوجيه أبي جعفر القواد إليه ومقتله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head75">تسمية من خرج مع إبراهيم بن عبد الله ابن الحسن بن الحسن من أهل العلم والفقهاء ونقلة الآثار</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head76">30- الحسين بن زيد بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head77">31- موسى بن عبد الله بن الحسن</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head78">خبر موسى بن عبد الله «2» بن الحسن  بن الحسن بن علي بن أبي طالب حين ضربه المنصور بالسياط </a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head79">32- علي بن الحسن بن زيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head80">33- حمزة بن إسحاق بن علي</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head81">ذكر أيام المهدى محمد بن عبد الله ومن قتل فيها أو حبس أو توارى فمات حال تواريه</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head82">34- علي بن العباس بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head83">35- عيسى بن زيد بن علي</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">أيام موسى الهادي ابن محمد المهدى بن أبى جعفر المنصور ومن قتل منهم فيها</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head85">36- الحسين بن علي بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head86">37- سليمان بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head87">38- الحسن بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head88">39- عبد الله بن إسحاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head89">ثم نرجع الخبر الآن إلى أخبار الحسين بن علي بن الحسن صاحب فخ</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head90">(ذكر مقتله رضوان الله عليه ورحمته)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head91">ذكر من خرج مع الحسين صاحب فخ</a>
</li>
</ul>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head92">أيام الرشيد هارون بن المهدى بن أبى جعفر المنصور ومن قتل منهم فيها</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head93">40- يحيى بن عبد الله بن الحسن</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head94">ذكر الخبر عن مقتله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head95">تسمية من خرج مع يحيى بن عبد الله ابن الحسن من أهل العلم والحديث</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head96">41- إدريس بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head97">42- عبد الله بن الحسن</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head98">ذكر الخبر عن مقتله</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head99">43- محمد بن يحيى بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head100">44- الحسين بن عبد الله بن اسماعيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head101">45- العباس بن محمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head102">46- موسى بن جعفر بن محمد</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head103">(ذكر السبب في أخذه وحبسه)</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head104">47- إسحاق بن الحسن بن زيد</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head105">ذكر أيام محمد الأمين ابن الرشيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head106">ذكر أيام المأمون ابن الرشيد</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head107">48- محمد بن محمد بن زيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head108">49- الحسن بن الحسين بن زيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head109">50- الحسن بن إسحاق بن علي بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head110">51- محمد بن الحسين بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head111">52- علي بن عبد الله بن محمد</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head112">ذكر السبب في خروج أبي السرايا</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head113">53- محمد بن جعفر بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head114">رجع الحديث إلى خبر أبي السرايا</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head115">(ذكر من خرج معه وبايعه)</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head116">54- عبد الله بن جعفر بن إبراهيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head117">55- علي بن موسى بن جعفر</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head118">ذكر الخبر في ذلك</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head119">56- محمد ms321 بن عبد الله بن الحسن</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head120">ذكر أيام المعتصم ومن ظهر فيها</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head121">57- محمد «1» بن القاسم بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head122">58- عبد الله بن الحسين بن عبد الله</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head123">أيام الواثق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head124">أيام المتوكل ومن ظهر فيها فقتل أو حبس</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head125">59- محمد بن صالح بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head126">60- محمد بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head127">61- القاسم بن عبد الله بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head128">62- أحمد بن عيسى بن زيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head129">63- عبد الله بن موسى</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head130">أيام المنتصر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head131">أيام المستعين</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head132">64- يحيى بن عمر بن الحسين «1»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head133">65- الحسين بن محمد بن حمزة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head134">66- محمد بن جعفر بن الحسن</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head135">أيام المعتز</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head136">67- اسماعيل بن يوسف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head137">68- الحسن بن يوسف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head138">69- جعفر بن عيسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head139">70- أحمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head140">71- عيسى بن إسماعيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head141">72- جعفر بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head142">73- إبراهيم بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head143">74- أحمد بن محمد</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head144">أيام المهتدى</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head145">75- علي بن زيد بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head146">76- محمد بن القاسم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head147">77- طاهر بن أحمد بن القاسم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head148">78- الحسين بن محمد بن حمزة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head149">79- يحيى بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head150">80- محمد بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head151">81- جعفر بن إسحاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head152">82- موسى بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head153">83- عيسى بن اسماعيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head154">84- محمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head155">85- علي بن موسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head156">86- محمد بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head157">87- علي بن موسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head158">88- إبراهيم بن موسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head159">89- عبد الله بن محمد</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head160">أيام المعتمد</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head161">90- أحمد بن محمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head162">91- أحمد بن محمد بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head163">92- عبيد الله بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head164">93- علي بن إبراهيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head165">94- محمد بن أحمد بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head166">95- حمزة بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head167">96- حمزة بن عيسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head168">97- محمد وإبراهيم ابنا الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head169">98- الحسن بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head170">99- اسماعيل بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head171">100- محمد بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head172">101- موسى بن موسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head173">102- محمد بن أحمد بن عيسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head174">103- أحمد بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head175">104- الحسين بن إبراهيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head176">105- محمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head177">106- علي وعبد الله ابنا موسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head178">107- علي بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head179">108- محمد بن عبد الله</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head180">أيام المعتضد</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head181">109- محمد بن زيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head182">110- محمد بن عبد الله</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head183">أيام المكتفي</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head184">111- محمد بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head185">112- علي بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head186">113- زيد بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head187">114- محمد بن حمزة</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head188">أيام المقتدر</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head189">115- العباس بن إسحاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head190">116- المحسن بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head191">117- طاهر بن يحيى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l3" href="01.html#head192">وذكر محمد بن علي بن حمزة، مقاتل جماعة من الطالبيين</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head193">118- الحسن بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head194">119- عبد الله بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head195">120- علي بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head196">121- القاسم بن زيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head197">122- محمد بن عبد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head198">123- محمد بن أحمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head199">124- علي بن موسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head200">125- القاسم بن يعقوب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head201">126- جعفر بن صالح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head202">127- عبد الرحمن بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head203">128- أحمد بن القاسم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head204">129- الحسين بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head205">130- محمد بن أحمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head206">131- محمد بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head207">132- القاسم بن أحمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head208">133- جعفر بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head209">134- الحسين بن الحسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head210">135- أحمد بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head211">136- زيد بن عيسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head212">137- علي بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head213">138- جعفر بن إسحاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head214">139- محمد بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head215">140- أحمد بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head216">141- داود بن محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head217">142- أيوب بن القاسم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head218">143- جعفر بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head219">144- الحسين بن أحمد الكوكبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head220">145- عبيد الله بن الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head221">146- الحسن بن محمد العقيقي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head222">147- الحسن بن عيسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head223">148- محمد بن حمزة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head224">149- ابن داود بن إبراهيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head225">150- إدريس بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head226">151- سليمان بن علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l4" href="01.html#head227">152- أحمد بن عيسى</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 503296</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Abu Faraj Isbahani</label><label>tags: COMPLETED :: CENT0400 :: _HADITH :: _SHICI :: _TARIKH :: GAL@history-cultural :: GAL@historiography :: GAL@period-classical :: GAL@literature-islamic :: GAL@history :: GAL@0750-1000CE :: GAL@literature-arabic :: GAL@history-literary :: Shamela@التاريخ</label><label>url: https://raw.githubusercontent.com/OpenITI/0375AH/master/data/0362AbuFarajIsbahani/0362AbuFarajIsbahani.MaqatilTalibiyyin/0362AbuFarajIsbahani.MaqatilTalibiyyin.Shamela0012404-ara1.completed</label><label>tok_length: 128873</label><label>status: pri</label><label>id: Shamela0012404</label><label>ed_info: السيد أحمد صقر :: دار المعرفة، بيروت :: http://www.worldcat.org/oclc/956924055</label><label>title_lat: Maqatil Talibiyyin</label><label>title_ar: مقاتل الطالبيين</label><label>book: 0362AbuFarajIsbahani.MaqatilTalibiyyin</label><label>author_lat: Abu Faraj Isbahani</label><label>author_ar: علي بن الحسين بن محمد بن أحمد بن الهيثم المرواني الأموي القرشي، أبو الفرج الأصبهاني (المتوفى: 356هـ)</label><label>date: 0362</label><label>versionUri: 0362AbuFarajIsbahani.MaqatilTalibiyyin.Shamela0012404-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "475", "476", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488", "489", "490", "491", "492", "493", "494", "495", "496", "497", "498", "499", "500", "501", "502", "503", "504", "505", "506", "507", "508", "509", "510", "511", "512", "513", "514", "515", "516", "517", "518", "519", "520", "521", "522", "523", "524", "525", "526", "527", "528", "529", "530", "531", "532", "533", "535", "536", "537", "538", "539", "540", "541", "542", "543", "545", "546", "547", "548", "549", "550", "551", "552", "553", "554", "555", "556", "557", "558", "559", "560", "561", "562", "563", "564", "565", "569", "570", "571", "572", "573", "574", "575", "576", "577", "578", "579", "580", "581", "582", "583", "584", "585", "586", "587", "588", "589", "590", "591", "592", "593", "594", "595", "596", "597", "598", "599", "600", "601", "602", "603", "604", "605", "606", "607", "608", "609", "610", "611", "612", "613", "614", "615", "616", "617", "618", "619", "620", "621", "622", "623", "624", "625", "626", "627", "628", "629", "630", "631", "632", "633", "634", "635", "636", "637", "638", "639", "640", "641", "642", "643", "644", "645", "646", "647", "648", "649", "650", "651", "652", "653", "654", "655", "656", "657", "658", "659", "660", "661", "662", "663"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
