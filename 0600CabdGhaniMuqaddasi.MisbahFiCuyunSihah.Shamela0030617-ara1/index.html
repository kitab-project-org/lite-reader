<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">أقيموا صفوفكم وليؤمكم أحدكم فإذا كبر فكبروا وإذا قال: {ولا الضالين} فقولوا آمين يجبكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">صلى على جنازة , فقال: «اللهم اغفر له وارحمه واعف عنه وعافه وأكرم نزله ووسع مدخله واغسله </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">يصلي على ميت فسمعت , يقول في دعائه: «اللهم اغفر له وارحمه واعف عنه وعافه وأكرم نزله ووسع </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">بينا أنا في الحجر وقريش تسألني، عن إسرائي إلى بيت المقدس، قال: فسألوني عن أشياء في بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">: يتنزل الله تبارك وتعالى كل ليلة، حين يمضي ثلث الليل، يقول: «أنا الملك أنا الملك من ذا الذي </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">: «لأدفعن الراية غدا إلى رجل يحب الله ورسوله، يفتح الله عليه» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">اتركوني ما تركتم فإنما هلك من كان قبلكم بكثرة مسائلهم واختلافهم على أنبيائهم، فما نهيتكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">اللهم بارك لنا في ثمرنا، وبارك لنا في مدينتنا، وبارك لنا في صاعنا، وبارك لنا في مدنا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">: «الدال على الخير كفاعله» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">الله عز وجل يعذب يوم القيامة من يعذب الناس في الدنيا» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">لا وفاء لنذر في معصية الله ولا فيما لا يملك ابن آدم» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">نهى عن بيع الذهب بالذهب والفضة بالفضة والبر بالبر والشعير بالشعير والتمر بالتمر والملح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">أعتق ستة أعبد له عند موته لم يكن له مال غيرهم فبلغ ذلك رسول الله صلى الله عليه وسلم، فقال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">لا حسد إلا في اثنتين رجل علمه الله القرآن فهو يتلوه آناء الليل والنهار فسمعه جار له ,</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">لا تدخلوا الجنة حتى تؤمنوا، ولا تؤمنوا حتى تحابوا أولا أدلكم على شيء إذا فعلتموها تحاببتم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">في الجنة لسوقا يأتونها كل جمعة فتهب ريح الشمال فتحثو في وجوههم وثيابهم فيزدادون جمالا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">إذا خرجوا إلى المقابر , قال: قائلهم يقول: «السلام عليكم أهل الديار من المؤمنين، أو </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">أتى على المقابر فقال: السلام عليكم أهل الديار من المؤمنين والمسلمين وإنا إن شاء الله بكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">الله ليرضى عن العبد أن يأكل الأكلة أو يشرب الشربة فيحمده عليها» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">الله لا ينظر إلى صوركم وأموالكم وإنما ينظر إلى قلوبكم فأعمالكم» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">: «من أحب لقاء الله أحب الله لقاءه» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">سبحان ms10 الذي سخر لنا هذا وما كنا له مقرنين وإنا إلى ربنا منقلبون , اللهم إنا نسألك في سفرنا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">إذا نزل أحدكم منزلا فليقل: أعوذ بكلمات التامات من شر ما خلق فإنه لا يضره شيء حتى يرتحل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">إذا توضأ العبد المسلم أو المؤمن فغسل وجهه خرجت من وجهه كل خطيئة نظر إليها بعينه مع الماء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">تفتح أبواب الجنة يوم الأثنين والخميس فيغفر لكل عبد لا يشرك بالله شيئا إلا رجل كانت بينه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">: «إذا سمعت الرجل يقول هلك الناس فهو أهلكهم» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">بينما امرأتان معهما ابنا لهما إذ جاء الذئب فذهب بأحدهما فقالت هذه لصاحبتها: إنما ذهب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">كل مال أنحلته عبدي فهو له حلال، وإني خلقت عبادي حنفاء كلهم، فأتتهم الشياطين فاجتالتهم عن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">بعثتك لأبتليك وأبتلي بك، وأنزل عليك كتابا لا يغسله الماء، تقرؤه نائما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">أحرق قريشا، قال: فقلت: رب إذا يثلغوا رأسي حتى يذروه كأنه خبزة، قال: فقال:، استغزهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">أهل الجنة ثلاثة: ذو سلطان مقتصد موفق، ورجل رحيم رقيق القلب بكل ذي قربى ومسلم، ورجل عفيف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">........... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">كل مال نحلته عبادي فهو لهم حلال وأني خلقت عبادي حنفاء كلهم فأتتهم الشياطين فاجتالتهم عن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">الله نظر إلى أهل الأرض فمقتهم عربهم وعجمهم إلا بقايا من أهل الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">بعثتك لأبتليك وأبتلي بك وقد أنزلت عليك كتابا لا يغسله الماء تقرؤه في المنام واليقظة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">أهل الجنة ثلاثة إمام مسقط ورجل رحيم رقيق القلب لكل ذي قربى ومسلم، ورجل غني عفيف متصدق،</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">سألت الله لآجال مضروبة وآثار مبلوغة وأرزاق مقسومة لا يتعجل منها شيء قبل حله ولا يؤخر منها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">الله لم يهلك قوما فجعل لهم نسلا ولا عاقبة إن القردة والخنازير كانت قبل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">: «لما دفن النبي صلى الله عليه سلم جعلوا في لحده قطيفة حمراء» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">الله كتب الإحسان علي كله فإذا قتلتم فأحسنوا القتلة، وإذا ذبحتم فأحسنوا الذبح وليحد أحدكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">...... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">لله عز وجل أشد فرحا بتوبة عبده حين يتوب إليه من أحدكم كان على راحلة بأرض فلاة فانفلتت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">: «إذا جلس بين شعبها الأربع، ومس الختان الختان وجب الغسل» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">من نام عن حزبه أو عزا شيء منه وقرأه فيما بين صلاة الفجر إلى صلاة الظهر كتب له كأنما قرأه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">ما من صاحب إبل ولا بقر ولا غنم لا يؤدي حقها إلا وقف لها يوم القيامة، بقاع تطأه ذات ظلف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">يقبر إنسان ليلا إلا أن يضطر إلى ذلك ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">إذا سافر: «اللهم إني أعوذ بك من وعثاء السفر وكآبة المنقلب ومن الحور بعد الكون ودعوة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">........ </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">لا تزال طائفة من أمتى يقاتلون على الحق ظاهرين إلى يوم القيامة، قال: فينزل عيسى بن مريم،</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">: يا أصحاب السمرة يا أصحاب سورة البقرة ".</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">الكافر يشرب في سبعة أمعاء وإن المؤمن يشرب في معاء واحد» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">تصدق بناقة مخطومة، في سبيل الله، فقال رسول الله صلى الله عليه وسلم: «لتأتين يوم القيامة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">انطلق إلى أم أيمن نزورها كما كان يفعل رسول الله صلى الله عليه وسلم , يزورها فلما انتهينا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">نبيا من الأنبياء كان أعجب بأمته، فقال: من يقوم لهؤلاء؟ فأوحى الله عز وجل إليه أن خيرهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">كان ملك من الملوك، وكان لذلك الملك كاهن يتكهن له، فقال ذلك الكاهن: انظروا لي غلاما فطنا،</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">: «إذا أتى أحدكم أهله فإذا أراد أن يعود فليتوضأ وضوءه للصلاة» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">عدو الله إبليس جاء بشهاب من نار ليجعله في وجهي , فقلت: أعوذ بالله منك , ثلاث مرات، ثم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">الله لا ينام ولا ينبغي له أن ينام يخفض القسط ويرفعه يرفع إليه عمل الليل قبل النهار، وعمل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">الله تعالى يبسط يده بالنهار ليتوب مسيء الليل، ويبسط يده بالليل ليتوب مسيء النهار، حتى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">أنا أحمد، ومحمد، وأنا الحاشر، وأنا العاقب، وأنا المقفي , ونبي الرحمة , ونبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">إذا شرب تنفس في الإناء ثلاثا، ويقول: «إنه أهنأ، وأمرأ، وأبرأ» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">: " آتي يوم القيامة باب الجنة فاستفتح فيقول لي الخازن: من أنت؟ فأقول: «محمد» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">لما نزلت على النبي صلى الله عليه وسلم {إنا فتحنا لك فتحا مبينا} إلى آخر الآية مرجعه من</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">أريت ما يعمل، يعني الناس ويكدحون فيه أشيء قد قضى عليهم أو مما يستقبلونه أم مما آتاهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">قلت بعدك أربع كلمات ثلاث مرات لو وزن بجميع ما قلت لوزنتهن، سبحان الله وبحمده عدد خلقه </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">ليغان على قلبي، وإني استغفر الله تبارك وتعالى في اليوم مائة مرة» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">....... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">...... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">توبوا إلى ربكم فإني أتوب في كل يوم مائة مرة» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">، يمسح مناكبنا في الصلاة، ويقول: «لا تختلفوا فتختلف قلوبكم، وليليني منكم ألو الأحلام والنهى، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">: «رأيت موسى قائما يصلي في قبره» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">أنزلت علي آنفا { [سورة فقرأ بسم الله الرحمن الرحيم] إنا أعطيناك الكوثر فصل لربك وانحر إن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">نزلت علي آنفا { [سورة بسم الله الرحمن الرحيم] إنا أعطيناك الكوثر فصل لربك وانحر إن شانئك</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 34458</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Cabd Ghani Muqaddasi</label><label>tags: CENT0600 :: _HADITH :: _MAKHTUTAT :: GAL@literature-islamic :: GAL@1000-1258CE :: GAL@iraq :: GAL@hadith :: GAL@arabia :: GAL@literature-arabic :: GAL@jazira :: GAL@period-postclassical :: GAL@syria :: Shamela@مخطوطات حديثية</label><label>url: https://raw.githubusercontent.com/OpenITI/0600AH/master/data/0600CabdGhaniMuqaddasi/0600CabdGhaniMuqaddasi.MisbahFiCuyunSihah/0600CabdGhaniMuqaddasi.MisbahFiCuyunSihah.Shamela0030617-ara1</label><label>tok_length: 8861</label><label>status: sec</label><label>id: Shamela0030617</label><label>ed_info: مخطوط نشر في برنامج جوامع الكلم المجاني التابع لموقع الشبكة الإسلامية</label><label>title_lat: Misbah Fi Cuyun Sihah</label><label>title_ar: الثاني من المصباح في عيون الصحاح</label><label>book: 0600CabdGhaniMuqaddasi.MisbahFiCuyunSihah</label><label>author_lat: Cabd Ghani Muqaddasi</label><label>author_ar: عبد الغني بن عبد الواحد بن علي بن سرور المقدسي الجماعيلي الدمشقي الحنبلي، أبو محمد، تقي الدين (المتوفى: 600هـ)</label><label>date: 0600</label><label>versionUri: 0600CabdGhaniMuqaddasi.MisbahFiCuyunSihah.Shamela0030617-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
