<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">الفصل الأول في تعريف الحديث وأنواعه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">تعريف مصطلح الحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">الموقوف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">المقطوع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">الحديث والأثر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">المرفوع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">الخبر والحديث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">الرفع قسمان صريح وحكمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">القولي الصريح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">الفعلي الصريح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">التقريري الصريح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">القولي الحكمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">الفعلي الحكمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">التقريري الحكمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">الفصل الثاني في تعريف السند و</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">المتن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">السند</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">الإسناد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">المتصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">المنقطع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">المعلق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">تعليقات البخاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">حكم التعليق بصيغة المعلوم والمجهول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">المرسل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">حكم المرسل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">المعضل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">المنقطع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">طريق معرفة الانقطاع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">المدلس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">تعريف التدليس ms03 اصطلاحا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">تعريف التدليس لغة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">وجه التسمية به</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">حكم المدلس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">حكم التدليس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">حكم رواية المدلس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">أسباب التدليس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">تدليس الأكابر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">المضطرب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">حكم المضطرب من الروايات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">المدرج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">تنبيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">الرواية بالمعنى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">رواية اللفظ أولى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">العنعنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">المعنعن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">شروط العنعنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">المسند</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">الفصل الثالث في الشاذ و</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">المنكر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">الشاذ لغة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">الشاذ اصطلاحا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">المحفوظ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">المنكر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">حكم المعروف والمنكر والشاذ والمحفوظ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">المعروف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">تعريف آخر للشاذ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">تعريف ثالث للشاذ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">تعريف آخر للمنكر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">المعلل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">المتابع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">فائدة المتابعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">درجات المتابعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">متى يستعمل مثله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">استعمال نحوه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">شرط المتابعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">الشاهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">تعريف آخر للمتابع والشاهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">تعريف ثالث لهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">الاعتبار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">الفصل الرابع في الصحيح والحسن والضعيف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">الصحيح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">الصحيح لذاته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">الصحيح لغيره</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">الحسن لذاته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">الحسن لغيره</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">الضعيف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">النقصان المعتبر في الحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">الفصل الخامس في العدالة ووجوه الطعن المتعلقة بها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">العدالة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">المروءة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">التقوى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">المروءة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">عدل الرواية أعم من عدل الشهادة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">الضبط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">الضبط قسمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">ضبط الصدر وضبط الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">وجوه الطعن المتعلقة بالعدالة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">1 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">1 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">الموضوع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">حكم متعمد الكذب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">الكذب </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">المراد بالموضوع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">مسألة الحكم بالوضع ظنية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">2 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">اتهام الراوي بالكذب </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">المتروك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">حكم المتهم بالكذب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">حكم من يكذب نادرا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">3 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">الفسق </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">4 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">جهالة الراوي </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">المبهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">حكم المبهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">5 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">البدعة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">حكم حديث المبتدع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">وجوه الطعن المتعلقة بالضبط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">1 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">مخالفة الثقات </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">3 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">مخالفة الثقات </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">4 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">الوهم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">غموض علم العلة ودقته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">5 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">سوء الحفظ </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head118">حكم سيىء الحفظ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head119">المختلط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head120">حكم المختلط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head121">الفصل السادس في الغريب و</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head122">العزيز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head123">المتواتر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head124">الغريب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head125">المشهور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head126">المتواتر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head127">الفرد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head128">الفرد النسبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head129">الفرد المطلق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head130">المراد بكون الراوي اثنين أو أكثر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head131">لا تنافي بين الغرابة والصحة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head132">الغريب بمعنى الشاذ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head133">الفصل السابع في تعدد مراتب الضعيف والصحيح وغيره وبعض اصطلاحات الترمذي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head134">الضعيف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head135">تعدد أقسام الضعيف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head136">تعدد مراتب الصحيح والحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head137">أصح الأسانيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head138">اصطلاحات الترمذي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head139">إشكال اجتماع الغرابة والحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head140">جواب الإشكال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head141">الفصل الثامن في الاحتجاج بالحديث الصحيح والحسن والضعيف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head142">الاحتجاج بالصحيح والحسن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head143">الاحتجاج بالضعيف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head144">الفصل التاسع في مراتب الصحيح وعدد الصحاح وكتبها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head145">صحيح البخاري أعلى الصحاح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head146">وجه ترجيح صحيح مسلم عند بعض المغاربة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head147">المتفق عليه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head148">عدد الأحاديث المتفق عليها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head149">درجات الصحاح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head150">2 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head151">3 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head152">4 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head153">5 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head154">6 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head155">7 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head156">معنى شرط البخاري ومسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head157">البخاري ومسلم لم يستوعبا الصحاح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head158">مستدرك الحاكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head159">الطعن بقلة الأحاديث الصحيحة ورده</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head160">صحيح ابن خزيمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head161">صحيح ابن حبان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head162">صحيح الحاكم المستدرك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head163">المختارة للمقدسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head164">صحاح أخرى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head165">الفصل العاشر في الكتب الستة المشهورة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head166">الكتب الستة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head167">1 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head168">أحاديث الكتب الأربعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head169">اصطلاح البغوي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head170">كتاب الدارمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head171">مصادر السيوطي في جمع الجوامع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head172">جماعة من الأئمة المتقنين</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 20093</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Cabd Haqq Dihlawi</label><label>tags: CENT1100 :: _CULUM :: _HADITH :: _MUSTALAHAT :: GAL@nodata :: Shamela@علوم الحديث</label><label>url: https://raw.githubusercontent.com/OpenITI/1075AH/master/data/1052CabdHaqqDihlawi/1052CabdHaqqDihlawi.MuqaddimaFiUsulHadith/1052CabdHaqqDihlawi.MuqaddimaFiUsulHadith.Shamela0005988-ara1</label><label>tok_length: 4515</label><label>status: pri</label><label>id: Shamela0005988</label><label>ed_info: سلمان الحسيني الندوي :: دار البشائر الإسلامية - بيروت - لبنان</label><label>title_lat: Muqaddima Fi Usul Hadith</label><label>title_ar: مقدمة في أصول الحديث</label><label>book: 1052CabdHaqqDihlawi.MuqaddimaFiUsulHadith</label><label>author_lat: Cabd Haqq Dihlawi</label><label>author_ar: عبد الحق بن سيف الدين بن سعد الله البخاري الدهلوي الحنفي (المتوفى: 1052هـ)</label><label>date: 1052</label><label>versionUri: 1052CabdHaqqDihlawi.MuqaddimaFiUsulHadith.Shamela0005988-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "000", "000", "000", "000", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "083", "084", "085", "086", "087", "000", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
