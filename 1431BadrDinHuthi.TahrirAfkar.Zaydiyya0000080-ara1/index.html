<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">AUTO تحرير الأفكار</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head1">AUTO مقدمة المؤلف</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">AUTO المبحث الأول علماء الزيدية ومؤلفاتهم</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head3">AUTO بيان فساد تجهيل مقبل للعلماء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head4">AUTO علماء السنة من هم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head5">AUTO تعريضه بالموقعين على فتوى الصيلمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head6">AUTO مقبل يعيب التقليد وهو مقلد</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">AUTO المبحث الثاني فيما يعد قبوله تقليدا وقبول المراسيل</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head8">AUTO في الجرح والتعديل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head9">AUTO جرح الراوي بسبب تشيعه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">AUTO الجرح والتعديل وطريقهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head11">AUTO رجال الحديث والجرح والتعديل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head12">AUTO العلماء والجرح المطلق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head13">AUTO أقوال العلماء في الحديث المرسل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head14">AUTO التحذير من اتباع الهوى وعلى من ينطبق</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">AUTO المبحث الثالث في بيان الفرقة الناجية</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head16">AUTO بيان أهل الحديث وأنهم أهل البيت(عليهم السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head17">AUTO افتراء مقبل على أهل صعدة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head18">AUTO الاصطلاح في معنى ( السيد )</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head19">AUTO رمي مقبل للشيعة بالابتداع والحقد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head20">AUTO سلسلة الكذب على الزيدية ( التلون )</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">AUTO المبحث الرابع في أدلة منع الكلام في الصلاة</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head22">AUTO محنة البخاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head23">AUTO دعوى الإجماع على العمل بكتابي البخاري ومسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head24">AUTO نبذة من مخالفات البخاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head25">AUTO معنى الآية ] محمد رسول الله والذين معه... [</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head26">AUTO معنى الحديث: ( خير القرون قرني... )</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head27">AUTO سلسلة الاتهامات قبول أو رد رواية الصحابي بمجرد الهوى</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">AUTO المبحث الخامس تنقيصه لكتب الزيدية ورواتهم والرد عليه</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head29">AUTO الرد على كلامه في عدد من رواة الزيدية(1)[59])</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head30">AUTO 1 أبو خالد الواسطي:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head31">AUTO خصوصية فضائل الإمام علي(عليه السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head32">AUTO 2 جابر الجعفي:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head33">AUTO 3 الحسين بن علوان:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head34">AUTO 4 عمرو بن شمر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head35">AUTO 5 عبد السلام بن صالح الهروي:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head36">AUTO 6 علي بن مهدي القاضي:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head37">AUTO 7 عامر الطائي:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head38">AUTO 8 داود بن سليمان:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head39">AUTO 9 الحارث الهمداني:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head40">AUTO متابعة للطريقة الخاطئة في الجرح والتعديل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head41">AUTO 10 إسحاق بن محمد الأحمر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head42">AUTO 11 كادح بن جعفر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head43">AUTO 12 حسين بن عبدالله بن ضميرة:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head44">AUTO 13 الحسين بن عبدالله بن عباس:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head45">AUTO الكذب على ابن الوزير في تحريم الأخذ من كتب الزيدية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head46">AUTO الرد على ابن الوزير PageV01P118 أما محمد بن إبراهيم الوزير فقد أجاب عنه الإمام المنصور بالله محمد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head47">AUTO كتاب جامع البخاري ورواته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head48">AUTO أبو هريرة والحديث PageV01P127 قال مقبل: أحاديث التأمين، فذكر حديث أبي هريرة: « إذا أمن الإمام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head49">AUTO زيادة توضيح أحاديث التأمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head50">AUTO تفنيد زعم ابن تيمية جهل علي(عليه السلام) في عدة الحامل ومهر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head51">AUTO حديث: ( أنا مدينة العلم وعلي بابها )</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head52">AUTO بيان أهل البيت الواجب اتباعهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head53">AUTO الأدلة على أن أهل البيت(عليهم السلام) حجة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head54">AUTO بحث في طرق حديث الثقلين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head55">AUTO بحث في حديث السفينة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head56">AUTO عودة إلى البحث في التأمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head57">AUTO بحث في ذكر الغضب لغضب فاطمة(عليها السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head58">AUTO بحث في دعوى صلاة أبي بكر بالمسلمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head59">AUTO بحث الكلام في سند مجموع زيد بن علي(عليه السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head60">AUTO بحث في [ بسم الله الرحمن الرحيم ]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head61">AUTO بحث في جدال القوم في بعض الرواة وكلام في جرحهم للشيعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head62">AUTO بحث في بعض أحاديث الفضائل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head63">AUTO بحث في حديث: ( علي خير البشر )</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head64">AUTO بحث في كتب الزيدية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head65">AUTO بحث في الكتب والخلاف فيما ينبغي الاطلاع عليه منها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head66">AUTO بحث في مسألة الضم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head67">AUTO بحث في المرتضى محمد بن الهادي وبقية البحث في الضم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head68">AUTO حديث تعيين محل الضم والتوضيح لرواته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head69">AUTO المخالفة للسنة النبوية طاعة للأمراء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head70">AUTO سند مجموع زيد بن علي وبقية في الضم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head71">AUTO لماذا منع مقبل من الخطبة في جامع الإمام الهادي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head72">AUTO بحث في لعن معاوية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head73">AUTO بحث في الاحتجاج بالمرسل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head74">AUTO طريقة ابن المبارك وأمثاله في الجرح والتعديل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head75">AUTO عدم التخطئة في المسائل الفرعية وأنها طريقة للوحدة الاسلامية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head76">AUTO بحث في حديث العرض على كتاب الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head77">AUTO بحث في قول بعضهم إن السنة حاكمة على القرآن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head78">AUTO بحث في الدعاء في الصلاة يتعلق بالتأمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head79">AUTO بحث في الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head80">AUTO معنى ( الصحابي ) ومن يطلق عليه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head81">AUTO بحث في أحاديث: ( إنك لا تدري ما أحدثوا بعدك )</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head82">AUTO بحث في طعن القوم في ذرية رسول الله(صلى الله عليه وآله وسلم)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head83">AUTO معاوية وأحاديث الفضائل ومحاربته لأهل البيت وشيعتهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">AUTO ترجمة المدائني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head85">AUTO ترجمة مؤلف « تفريج الكروب »</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head86">AUTO بحث في معاوية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head87">AUTO تحامل مقبل على علماء أهل البيت(عليهم السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head88">AUTO نسبته الجهل للأئمة: الهادي والقاسم وأبي طالب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head89">AUTO بحث نسبة ابن الأمير الضم إلى بعض علماء العترة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head90">AUTO بحث في دعواه أن المحدثين يحبون أهل البيت(عليهم السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head91">AUTO البخاري وأهل البيت(عليهم السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head92">AUTO بحث في ذكر عبدالله بن سبأ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head93">AUTO بحث في الأذان ب « حي ms409 على خير العمل »</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head94">AUTO علي بن الحسين(عليهما السلام) وابن عمر وأبو أمامة مبتدعون عند مقبل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head95">AUTO عودة لطريقة المخالفين في تضعيف الشيعة وبقية في حي على خير العمل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head96">AUTO بحث انتماء الزيدية إلى أهل البيت(عليهم السلام)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head97">AUTO عودة إلى ذكر طريقة المخالفين في جرح الشيعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head98">AUTO بحث الكلام في الحسين بن القاسم العياني</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 530058</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Badr Din Huthi</label><label>tags:  :: Zaydiyya@مباحث وردود وفتاوى</label><label>url: https://raw.githubusercontent.com/OpenITI/1450AH/master/data/1431BadrDinHuthi/1431BadrDinHuthi.TahrirAfkar/1431BadrDinHuthi.TahrirAfkar.Zaydiyya0000080-ara1</label><label>tok_length: 129839</label><label>status: pri</label><label>id: Zaydiyya0000080</label><label>ed_info: السيد جعفر الحسيني :: الأولى :: المجمع العالمي لأهل البيت(ع) قم</label><label>title_lat: Tahrir Afkar</label><label>title_ar: تحرير الأفكار</label><label>book: 1431BadrDinHuthi.TahrirAfkar</label><label>author_lat: Badr Din Huthi</label><label>author_ar: العلامة بدر الدين الحوثي</label><label>date: 1431</label><label>versionUri: 1431BadrDinHuthi.TahrirAfkar.Zaydiyya0000080-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["001", "002", "003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "386", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "462", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "474", "475", "476", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488", "489", "490", "491", "492", "493", "494", "495", "496", "497", "498", "499", "500", "501", "502", "503", "504", "505", "506", "507", "508", "509", "510", "511", "512", "513", "514", "515", "516", "517", "518", "519", "520", "521", "522", "523", "524", "525", "526", "527", "528", "529", "530", "531", "532", "533", "534", "535", "536", "537", "538", "539", "540", "541", "542", "543", "544", "545", "546", "547", "548", "549", "550", "551", "552", "553", "554", "555", "556", "003", "005", "009", "010", "014", "029", "030", "031", "033", "034", "037", "038", "039", "041", "042", "043", "044", "046", "048", "049", "051", "053", "055", "056", "058", "060", "061", "062", "063", "064", "066", "070", "072", "075", "081", "085", "086", "087", "092", "106", "110", "113", "114", "115", "128", "130", "131", "132", "133", "135", "137", "139", "141", "143", "144", "146", "147", "148", "152", "153", "154", "155", "157", "160", "165", "167", "174", "178", "179", "189", "190", "201", "209", "221", "224", "229", "234", "236", "242", "245", "246", "247", "248", "250", "255", "261", "268", "274", "287", "291", "295", "297", "301", "308", "315", "317", "319", "322", "327", "328", "335", "336", "337", "338", "339", "340", "341", "342", "344", "346", "349", "350", "352", "354", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "367", "368", "369", "373", "375", "377", "379", "381", "382", "383", "384", "385", "386", "387", "389", "392", "394", "404", "405", "406", "407", "409", "410", "412", "413", "418", "419", "425", "426", "427", "439", "443", "445", "451", "455", "463", "464", "466", "467", "470", "471", "472", "473", "474", "475", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488", "489", "491", "492", "493", "496", "498", "500", "501", "502", "503", "504", "507", "512", "514", "519", "521", "522", "523", "524", "525", "526", "527", "528", "531", "533", "536", "537", "538", "547", "548", "550", "554", "555"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
