<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">1 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">: «إني لأقبلك وأعلم أنك حجر لا تضر ولا تنفع، ولولا أني رأيت رسول الله صلى الله عليه وسلم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">2 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">: «خير صفوف الرجال أولها، وشرها آخرها، وخير صفوف النساء آخرها، وشرها </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">3 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">: «الحرب خدعة» ، تفرد به أبو ياسر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">4 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">: «ما فعل النغير، ما فعل النغير؟» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">5 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">: «المستشار مؤتمن» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">6 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">«تصلي في السفر أربعا المكتوبة» ، فغضب عروة، وقال: «والله ما كذبت، ولا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">7 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">: «زر غبا تزدد حبا»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">8 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">: «من أرخى إزاره خيلاء تحت كعبه كان كمن أجاز الكعب في النار» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">9 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">، أمره أن يثني الأذان، ويفرد الإقامة»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">10 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">: «الأذنان من الرأس» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">11 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">: «ينادي ملك من بطنان العرش يوم القيامة، يا أمة محمد إن الله عز وجل قد عفا عنكم جميعا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">12 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">: «لعن الله اليهود حرمت عليهم الشحوم فجملوها وباعوها»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">13 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">، أعاد الوضوء في مجلس، فسألوه عن ذلك؟ فقال: «إني كنت حككت ذكري»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">14 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">: «يتوضأ من مس الذكر» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">15 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">: من صلى علي صلاة من قبل نفسه جعل الله من تلك الكلمة ملكا رجلاه في تخوم الأرض، وعنقه ملوي </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">16 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">17 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">فتوضأ في الحضر، وفي ms04 السفر، فمسح على خفيه»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">18 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">: «من قاتل دون ماله فقتل فهو شهيد، ومن قاتل دون داره فهو شهيد، ومن قاتل دون أهله فهو شهيد، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">19 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">: " لا حسد إلا في اثنتين: رجل أتاه الله القرآن فهو يقوم به آناء الليل وآناء النهار، ورجل أتاه </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">20 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">: «إن الله عز وجل تصدق عليكم بثلث أموالكم، وأخذ لكم وراثة أعمالكم في </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">21 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">: «لا تؤذني في عائشة، وإنه والله ما أتاني الوحي في لحاف امرأة منكن إلا في لحاف </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">22 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">: " سبعة يظلهم الله يوم لا ظل إلا ظله: الإمام العادل، وشاب نشأ في عبادة الله، ورجل قلبه معلق </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">23 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">: " فرضت على النبي صلى الله عليه وسلم ليلة أسري به الصلوات خمسين، ثم نقصت حتى جعلت خمسا، ثم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">24 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">: «من صلى صلاة لم يقرأ فيها بأم القرآن، فهي خداج، فهي خداج، فهي خداج، غير </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">25 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">، «فمسح على الخفين، بعد ما أنزلت المائدة»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">26 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">: «اتقوا النار ولو بشق تمرة، فإن لم يجد أحدكم فبكلمة طيبة»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">27 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">: «ما آمن بالقرآن من استحل محارمه»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">28 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">إن كنت ألممت بخطيئة فتوبي إلى الله واستغفري، فإن كفارة الذنب ندامة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">29 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">: «إنما الدين النصيحة» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">30 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">: «بعثت داعيا ومبلغا، وليس لي من الهدى شيء، وخلق إبليس مزينا وليس إليه من الضلالة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">31 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">: «ما أدري تبعا أنبيا كان أم لا، وما أدري عزيرا نبيا كان أم لا، وما أدري الحدود كفارات </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">32 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">: «الصائم بالخيار ما بينه وبين نصف النهار»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">33 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">، يوحى إليه ورأسه في حجر علي رضي الله عنه، فلم يصل العصر حتى غربت الشمس، فقال رسول الله صلى </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">34 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">يرفع يديه إذا افتتح الصلاة، وإذا ركع، وإذا رفع رأسه من الركوع»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">35 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">: «مطل الغني ظلم»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">36 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">: «من ms08 كنت مولاه , فعلي مولاه»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">37 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">: «ربنا آتنا في الدنيا حسنة وفي الآخرة حسنة وقنا عذاب النار» ، قال شعبة: فذكرت ذلك لقتادة، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">38 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">: «إنما يلبس الحرير من لا خلاق له»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">39 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">: «أول من تشق الأرض عنه أنا، ثم أبو بكر، ثم عمر، ثم آتي البقيع , فينشق عنهم، ثم أنتظر أهل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">40 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">: «من كانت لأخيه عنده مظلمة في دم أو مال جاءه , فاستحله من قبل أن يؤخذ منه، وليس ثم دينار </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">41 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">: «أيام التشريق أيام طعم وذكر»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">42 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">: «لئن يأخذ أحدكم أحبله فينطلق , فيأتي بحزمة حطب على ظهره، فيبيعها فيكف الله بها وجهه خير من </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">43 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">: «لا يحل لرجل مسلم أن يبيت ليلة وعنده مال إلا ووصيته مكتوبة عنده»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">44 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">: " اذكروا الله فإن العبد إذا قال: سبحان الله وبحمده كتب له بها عشر , ومن عشر إلى مائة، ومن </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">45 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">اخفضن أبصاركم إذا سجد الرجال، لا ترين عورات الرجال من ضيق الأزر»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">46 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">: «إذا كفن أحدكم أخاه فليحسن كفنه»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">47 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">: «لولا أن أشق على أمتي لأمرتهم بالسواك عند كل صلاة» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">48 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">: «كان السواك من النبي صلى الله عليه وسلم، بمنزلة القلم من الكاتب»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">49 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">: «من صلى علي يوم الجمعة مائة صلاة قضيت له مائة حاجة، ثلاثون من أمر الدنيا وسبعون من أمر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">50 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">: «من ترك بسم الله الرحمن الرحيم فقد ترك آية، وقد عد علي فيما عد في أم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">51 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">: {يوم يقوم الناس لرب العالمين} [المطففين: 6] .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">52 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">: «أنا لكم خير رب لن أرضى لكم إلا بالكثير الجزيل، ورضيت منكم بالقليل اليسير، أعطيتكم فضلا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">53 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">: «أرأيتم لو كان لأحدكم عسل وله إناءان أين كان يجعل عسله؟» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">54 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">: «من أكل ما تحت مائدته أمن من الفقر» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">55 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">: اللهم رب الأرواح الفانية، والأجساد السالية أسألك بطاعة الأرواح التي ألحقتها إلى أجسادها، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">56 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">: «تعلموا العلم ثم اعملوا به، فوالله لا تؤجروا حتى تعملوا به، إن العلماء سمتهم الرعاية، وإن </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">57 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">: «ما أخذ الله ms14 على أهل الجهل أن يتعلموا، حتى أخذ على أهل العلم أن يعلموا» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">58 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">59 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">60 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">61 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">62 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head118">63 - </a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 16588</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Abu Cuthman Buhayri</label><label>tags: CENT0500 :: _HADITH :: _MAKHTUTAT :: GAL@nodata :: Shamela@مخطوطات حديثية</label><label>url: https://raw.githubusercontent.com/OpenITI/0475AH/master/data/0451AbuCuthmanBuhayri/0451AbuCuthmanBuhayri.Fawaid/0451AbuCuthmanBuhayri.Fawaid.Shamela0029951-ara1</label><label>tok_length: 4405</label><label>status: sec</label><label>id: Shamela0029951</label><label>ed_info: مخطوط نشر في برنامج جوامع الكلم المجاني التابع لموقع الشبكة الإسلامية</label><label>title_lat: Fawaid</label><label>title_ar: الثالث من فوائد أبي عثمان البحيري</label><label>book: 0451AbuCuthmanBuhayri.Fawaid</label><label>author_lat: Abu Cuthman Buhayri</label><label>author_ar: أبو عثمان سعيد بن محمد ابن أبي الحسين أحمد بن محمد بن جعفر بن محمد بن بحير البحيري، النيسابوري (المتوفى: 451هـ)</label><label>date: 0451</label><label>versionUri: 0451AbuCuthmanBuhayri.Fawaid.Shamela0029951-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "001"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
