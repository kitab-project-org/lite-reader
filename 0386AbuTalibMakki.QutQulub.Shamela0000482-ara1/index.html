<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">بسم الله الرحمن الرحيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">الفصل ms0004 الأول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">الفصل الثاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">الفصل الثالث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">من فرائض الأوامر وفضائل النوادب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">الفصل الرابع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">وقراءة الآي المندوب إليها بعد التسليم من صلاة الصبح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">الفصل الخامس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">الفصل السادس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">الفصل السابع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">الفصل الثامن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">الفصل التاسع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">الفصل العاشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">الفصل الحادي عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">ذكر ما جاء في صلاة النهار من الفضائل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">ذكر صلاة يوم الأحد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">ذكر صلاة يوم الاثنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">ذكر صلاة يوم الثلاثاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">ذكر صلاة يوم الأربعاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">ذكر صلاة يوم الخميس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">ذكر صلاة يوم الجمعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">ذكر صلاة يوم السبت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">فضل صلاة الجماعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">ذكر ما جاء في صلوات الليل وما دخل فيه من الصلاة بين العشائين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">فصل صلاة ليلة الاثنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">ذكر صلاة ليلة الثلاثاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">صلاة ليلة الأربعاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">فضل صلاة ليلة الخميس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">فضل صلاة ليلة الجمعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">فضل صلاة ليلة السبت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">ذكر فضل الصلاة بين العشاءين وما يختص به ذلك الوقت في كل ليلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">الفصل الثاني عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">الفصل الثالث عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">للتهجد وفي يقظته عند الصباح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">ذكر ما يستحب من القول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">ذكر هيئة العبد عند النوم وأهبته للمضجع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">بيان آخر من الاعتبار لأهل التبصرة والتذكار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">ذكر ما يستحب من القول عند القيام إلى التهجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">الفصل الرابع عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">ووصف القائمين والمتهجدين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">ذكر من روي عنه أنه أحيا الليل كله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">الفصل الخامس عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">والصلاة في اليوم والليلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">ذكر صلاة التسبيح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">ذكر صلاة التسبيح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">الفصل السادس عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">للقرآن حق تلاوته بقيام الشهادة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">ذكر أحزاب القرآن وكيف حزبه الصحابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">الفصل السابع عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">وفيه مدح العالمين وذم الغافلين عنه وتفسيرالغريب والمشكل من القرآن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">الفصل الثامن عشر ms0128</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">الفصل التاسع عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">ما في ذلك من النيات وتفصيل حكم الجهر والإخفات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">الفصل العشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">إحياؤها وذكر مواصلة الأوراد في الأيام الفاضلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">الفصل الحادي والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">وذكر هيئاتها وآدابها وذكر مايستحب للمريد في يوم الجمعة وليلتها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">صلى الله عليه وسلم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">صلى الله عليه وسلم: </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">ذكر دعاء إدريس النبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">ذكر دعاء إبراهيم بن أدهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">الفصل الثاني والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">وترتيبه ووصف الصائمين وذكر مايستحب للعبد من الصيام وطرقات الصائمين في</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">ذكر صوم الخصوص من الموقنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">الفصل الثالث والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">الفصل الرابع والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">ووصف حال العارف بالمزيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">ذكر الأوراد وما يرجى بها من الازدياد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">الفصل الخامس والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">الفصل السادس والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">الفصل السابع والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">الفصل الثامن والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">ذكر المقام الأول من المراقبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">ذكر المقام الثاني من المراقبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">ذكر المقام الثالث من المراقبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">ذكر المقام الرابع من مراقبة الموقنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">ذكر المقام الخامس من مراقبة الموقنين من المقربين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">ذكر المقام السادس من مشاهدة المقربين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">ذكر المقام السابع من مشاهدة الموقنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">الفصل التاسع والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">وتمييز أهل الغفلة المبعدين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">الفصل الثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">وصفة القلب وتمثيله بالأنوار والجواهر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">ذكر نوع آخر من البيان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">ذكر بيان آخر من تفصيل المعاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">ذكر تقسيم الخواطر وتفصيل أسمائها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">باب آخر من البيان والتفصيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">الفصل الحادي والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">ذكر فضل علم المعرفة واليقين على سائر العلوم وكشف طريق علماء السلف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">المقام الثالث من اليقين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">ذكر بيان تفضيل علوم الصمت وطريق الورعين في العلوم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">بيان آخر في فضل علم الباطن على الظاهر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">باب ذكر الفرق بين علماء الدنيا وعلماء الآخرة وذم علماء السوء الآكلين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">ذكر وصف العلم وطريقة السلف وذم ما أحدث المتأخرون من القصص والكلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">ذكر ما أحدث الناس من القول والفعل فيما بينهم مما ms0370 لم يكن عليه السلف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">ذكر تفصيل العلوم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">باب تفضيل علم الإيمان واليقين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">على سائر العلوم والتحذير من الزلل فيه ووبيان ما ذكرناه:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">باب تفضيل الأخبار وبيان طريق الأرشاد وذكر الرخصة والسعة في النقل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">الفصل الثاني والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">ذكر فروض التوبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">شرح مقام الصبر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">بيان آخر من تفضيل الصبر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">بيان آخر من فضل الصبر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">وجه آخر من بيان التفضيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">نوع آخر من الاستدلال على فضل الصابر وتفضيل الصبر جملة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">شرح مقام الشكر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">شرح مقام الرجاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">شرح مقام الخوف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">بيان آخر في معنى الخوف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">ذكر تفصيل هذه المخاوف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">شرح مقام الزهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">ذكر ماهية الزهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">بيان آخر الزهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">وصف آخر من البيان والتفصيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">ذكر بيان حقيقة الزهد وتفصيل أحكامه ووصف الزاهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">بيان آخرمستنبط من الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">ذكر وصف الزاهد وفضل الزهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head118">ذكر ماهية الدنيا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head119">فصل آخر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head120">شرح مقام التوكل ووصف أحوال المتوكلين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head0">وهو المقام السابع من مقامات اليقين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head1">ذكر إثبات الأسباب والأواسط لمعاني الحكمة ونفي أنها تحكم وتجعل لثبوت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head2">ذكر التكسب والتصرف في المعايش</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head3">ذكر الادخار مع التوكل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head4">ذكر التداوي وتركه للمتوكل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head5">بيان آخر من التمثيل في التداوي وتركه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head6">ذكر استواء شهادة المتوكل مع اختلاف ظهور الأسباب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head7">ذكر تشبيه التوكل بالزهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head8">ذكر كتم الأمراض وجواز إظهارها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head9">ذكر فضل التارك للتكسب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head10">ذكر حكم المتوكل إذا كان ذا بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head11">ذكر بيان آخر من أحكام المتوكل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head12">ذكر بيان آخر من فضيلة المتوكل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head13">ذكر بيان آخر من وصف المتوكلين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head14">ذكر بيان آخر في التوكل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head15">ذكر أحكام مقام الرضا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head16">ذكر أحكام المحبة ووصف أهلها وهو المقام التاسع من مقامات اليقين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head17">ذكر مخاوف المحبين ومقاماتهم في الخوف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head18">الفصل الثالث والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head19">التي بني عليها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head20">صلى الله عليه وسلم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head21">ذكر فرض شهادة الرسول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head22">ذكر فضائل شهادة الرسول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head23">ذكر فضائل شهادة التوحيد ووصف توحيد الموقنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head24">شرح ثاني ما بني الإسلام عليه من الخمس: وهو</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head25">ذكر فرائض الاستنجاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head26">ذكر فرائض الوضوء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head27">ذكر فرائض الطهارة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head28">ذكر سنن الوضوء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head29">ذكر فضائل الطهارة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head30">صفة الغسل من الجنابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head31">كتاب الصلاة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head32">ذكر سنن الصلاة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head33">ذكر أحكام الصلاة في الإدراك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head34">ذكر هيئات الصلاة وآدابها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head35">ذكر فضائل الصلاة وآدابها وما يزكو به أهلها ووصف صلاة الخاشعين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head36">ذكر الحث على المحافظة على الصلاة وطريقة المصلين من الموقنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head37">ذكر أحكام الخواطر في الصلاة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head38">شرح ثالث ما بني ms0853 الإسلام عليه وهو</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head39">كتاب الزكاة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head40">ذكر فضائل الصدقة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head41">شرح رابع ما بني الإسلام عليه: وهو</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head42">ذكر فرائض الصيام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head43">ذكر فضائل الصوم ووصف الصائمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head44">شرح خامس ما بني الإسلام عليه:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head45">ذكر فرائض الحج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head46">ذكر فضائل الحج وآدابه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head47">ذكر فضائل الحج والحاجين لوجه الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head48">ذكر فضائل البيت الحرام وما جاء فيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head49">ذكر من كره المقام بمكة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head50">الفصل الرابع والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head51">وعقود شرح معاملة القلب من مذاهب أهل الجماعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head52">شرح معاملة القلب من العلم الظاهر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head53">الفصل الخامس والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head54">ذكر اتصال الإيمان بالإسلام في المعنى والحكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head55">باب ذكر تفضيل بيان ما نقل عن المحدثين من التفرقة بينهما وما جاء في</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head56">ذكر الاستثناء في الإيمان والإشفاق من النفاق وطريقة السلف في ذلك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head57">الفصل السادس والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head58">وطرق السلف من الأئمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head59">ذكر عري الإيمان وجمل الشريعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head60">ذكر شرط المسلم الذي يكون به مسلما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head61">ذكر حسن إسلام المرء وعلامات محبة الله تعالى له</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head62">ذكر حق ms0932 المسلم على المسلم وهو وجوب حرمة الإسلام على المسلمين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head63">ذكر سنن الجسد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head64">ذكر ما في اللحية من المعاصي والبدع المحدثة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head65">ذكر ما جاء في فعل بعض ذلك واستحبابه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head66">باب ما ذكر من نوافل الركوع وما يكره من النقصان منه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head67">ال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head68">فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head69">وتوبق العمال وتفصيل ذلك ومنازل أهلها فيها ومسألة محاسبة الكفار:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head70"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head71">فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head72"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head73">فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head74">فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head75">مسألة محاسبة الكفار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head76">الفصل الثامن والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head77">والأمر بتحسينها في تصريف الأحوال والتحذير من دخول الآفات عليها في</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head78">تفسير قوله نية المرء خير من عمله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head79">الفصل التاسع والثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head80">بالنقصان منها أو بزيادة الأوقات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head81">ذكر رياضة المريدين في المأكول وفضل الجوع وطريقة السلف في التقلل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head82">الفصل الأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head83">وذكر ما يجمع الأكل من السنن والآداب وما يشتمل على الطعام من الكراهة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head84">ذكر أخبار جاءت في الآثار ms1037 رويناها منثورة في الأطعمة والأكل من بين نقص</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head85">ذكر أخبار جاءت في التقلل والحمية وذم البطنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head86">الفصل الحادي والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head87">وفرائضه ونعت عموم الفقراء وخصوصهم وتفصيل قبول العطاء ورده وطريقة السلف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head88">ذكر حكم من لا معلوم له من الأسباب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head89">ذكر اختلافهم في إخفاء العطاء وإظهاره ومن رأى أن الإظهار أفضل وتفضيل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head90">نوع آخر من التفضيل في الآخذ للفقير:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head91">النوع الرابع من التفضيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head92">الفصل الثاني والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head93">الفصل الثالث والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head94">الفصل الرابع والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head95">تبارك وتعالى، والصحبة والمحبة للإخوان فيه، وأحكام المؤاخاة وأوصاف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head96">الفصل الخامس والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head97">وتركه أيهما أفضل ومختصر أحكام النساء في ذلك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head98">الفصل السادس والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head99">الفصل السابع والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head100">وما يجب على التاجر من شروط العلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head101">ذكر ما روينا من الآثار في البيوع والصنائع وطريقة الورعين من السلف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head102">الفصل الثامن والأربعون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head103">وما بينهما من الشبهات وفضل الحلال وذم الشبهة وتمثيل ذلك بصور الألوان:</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 1587232</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Abu Talib Makki</label><label>tags: CENT0300 :: CENT0400 :: _ADAB :: _ADHKAR :: _AKHLAQ :: _CHRONOMULTIPLE :: _RAQAIQ :: _TASAWWUF :: GAL@period-classical :: GAL@literature-islamic :: GAL@0750-1000CE :: GAL@literature-arabic :: GAL@sufism :: GAL@mysticism :: Shamela@الرقاق والآداب والأذكار</label><label>url: https://raw.githubusercontent.com/OpenITI/0400AH/master/data/0386AbuTalibMakki/0386AbuTalibMakki.QutQulub/0386AbuTalibMakki.QutQulub.Shamela0000482-ara1</label><label>tok_length: 382239</label><label>status: pri</label><label>id: Shamela0000482</label><label>ed_info: د. عاصم إبراهيم الكيالي :: دار الكتب العلمية - بيروت / لبنان</label><label>title_lat: Qut Qulub</label><label>title_ar: قوت القلوب في معاملة المحبوب ووصف طريق المريد إلى مقام التوحيد</label><label>book: 0386AbuTalibMakki.QutQulub</label><label>author_lat: Abu Talib Makki</label><label>author_ar: محمد بن علي بن عطية الحارثي، أبو طالب المكي (المتوفى: 386هـ)</label><label>date: 0386</label><label>versionUri: 0386AbuTalibMakki.QutQulub.Shamela0000482-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "386", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449"], "02": ["003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "386", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "462", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "474", "475", "476", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
