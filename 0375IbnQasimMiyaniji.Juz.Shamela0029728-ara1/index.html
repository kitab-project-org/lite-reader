<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">1 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">«يستحب أن يفطر على تمرات»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">2 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">: «من سره أن يمد الله له في عمره ويوسع له في رزقه ويدفع عنه ميتة السوء فليتق الله وليصل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">3 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">: «حججنا مع رسول الله صلى الله عليه وسلم ومعنا النساء والصبيان، فلبينا عن الصبيان، ورمينا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">4 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">«أن ثلاثة نفر انطلقوا فأصابتهم السماء , وذكر حديث الغار»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">5 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">: «إذا أبق العبد إلى العدو فقد برئت منه الذمة»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">6 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">: «أفطر الحاجم والمحجوم»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">7 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">: «طاف رسول الله يوم فتح مكة وعلى رأسه المغفر , واستلم الركن بمحجن»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">8 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">: كان اسم أبي عزيزا , فسماه رسول الله صلى الله عليه وسلم عبد الرحمن.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">9 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">: «الحياء من الإيمان»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">10 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">: " {خذوا زينتكم عند كل مسجد} [الأعراف: 31] ، قال: صلوا في نعالكم "</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">11 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">: «توفي رسول الله صلى الله عليه ودرعه مرهونة عند يهودي»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">12 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">طاف سبعا لأنه أحب أن يرى الناس قوته»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">13 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">الدين النصيحة، أو الدين النصيحة.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">14 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">: «يذهب الصالحون أسلافا , ويبقى أهل الريب من لا يعرف معروفا ولا ينكر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">15 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">: «ماء زمزم لما شرب» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">16 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">: «حرمت الخمر يوم حرمت وإن عامة شرابهم الفضيح» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">17 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">: خير هذه الأمة بعد نبيها صلى الله عليه أبو بكر وعمر رضوان الله عليهما , وقلنا: ثالثا , لو </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">18 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">: «أنت مني بمنزلة هارون من موسى»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">19 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">النبي لا يورث، إنما ميراثه في سبيل الله»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">20 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">«أتى سباطة قوم فبال قائما» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">21 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">أتى سباطة قوم فبال قائما»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">22 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">«نهى عن قيل وقال، وكثرة السؤال , وإضاعة المال» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">23 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">" خلل لحيته في الوضوء , وقال: بهذا أمرني ربي "</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">24 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">: " إن الدين النصيحة.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">25 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">: «إذا لقيتموهم في طريق فلا تبدءوهم بالسلام، واضطروهم إلى أضيقها» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">26 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">: «لا يدخل الجنة من لا يأمن جاره بوائقه»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">27 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">: «من كانت هجرته إلى الله ورسوله فهجرته إلى الله ورسوله، ومن كانت هجرته إلى مال يأخذه أو </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">28 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">: " للمؤمن على المؤمن ست خصال: يعوده إذا مرض ويشهده إذا مات، ويجيبه إذا دعاه، ويسلم عليه إذا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">29 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">: «المرء مع من أحب ms05»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">30 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">هذان سيدا كهول أهل الجنة من الأولين والآخرين، إلا النبيين والمرسلين , لا تخبرهما يا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">31 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">: «مروا بالمعروف وانهوا عن المنكر , قبل أن تدعوني فلا أجيبكم، وتسألوني فلا أعطيكم، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">32 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">: " يجاء بالمتكبرين يوم القيامة ذرا مثل صورة الرجال يعلوهم كل شيء من الذلة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">33 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">: «لا نكاح إلا بولي»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">34 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">: «لا نكاح إلا بولي»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">35 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">: «لا نكاح إلا بولي»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">36 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">: إني والإنس والجن في نبإ عظيم، أخلق ويعبد غيري، وأرزق ويشكر غيري "</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">37 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">: «لا تزال طائفة من أمتي يقاتلون على الحق ظاهرين إلى يوم القيامة، وأومأ بيده إلى </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">38 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">: «العمرى لمن وهبت له»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">39 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">: حضرت العيد مع رسول الله صلى الله عليه , فلما فرغ من صلاته قال: «من شاء أن ينصرف فلينصرف، </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">40 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">أعاذك الله من إمارة السفهاء.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">41 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">: «استقيموا ولن تحصوا، واعلموا أن خير أعمالكم الصلاة , ولا يحافظ على الوضوء إلا </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">42 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">«كوى سعد بن معاذ مرتين»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">43 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">«اللهم اعف عنه وعافه , وأكرم نزله ووسع مدخله , واغسله بماء وثلج وبرد، ونقه من الخطايا كما </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">44 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">خذوا مناسككم لعلي لا أحج بعد عامي هذا»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">45 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">: إني امرأة أطيل ذيلي وأمشي مشيا في المكان القذر , فقالت أم سلمة: قال رسول الله صلى الله </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">46 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">: «اثبت أحد فليس عليك إلا نبي وصديق وشهيدان» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">47 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">: " وبعض حديثكم نحو بعض , والمعنى واحد والألفاظ متقاربة , إن خلق أحدهم يجمع في بطن أمه أربعين </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">48 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">: " إن العبد ليدخل الجنة فترفع له الدرجة، فيقول: يا رب أنى لي هذه.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">49 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">: " إذا مات المؤمن انقطع عمله إلا من ثلاث: صدقة جارية، أو علم ينتفع به، أو ولد صالح يدعو </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">50 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">: «يعلمني الأعراب بالصلاة , والله إني لأركد الأوليين , وأحذف الأخريين , وإنه لحبيب إلي ما </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">51 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">«نهى عن القران بين التمرتين إلا أن يستأمر أصحابه»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">52 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">: «صاحب سري علي بن أبي طالب رضي الله عنه»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">53 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">" أي الشهداء أكرم على الله عز وجل؟ قال: رجل قام إلى رجل وال جائر فأمره بالمعروف ونهاه عن </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">54 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">: «قاتلوا , قاتل الله اليهود اتخذوا قبور أنبيائهم مساجد , لا يجتمع دينان في جزيرة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">55 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">«لا يدخر شيئا لغد»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">56 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">رمل من الحجر إلى الحجر»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">57 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">: «امرؤ القيس صحاب لواء الشعراء إلى النار»</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">58 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head118">: «أما أنا فلا آكل متكئا» .</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head119">59 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head120">: " ألا أخبركما بأشقى الناس رجلين.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head121">60 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head122">: «اللهم اعف عنه وعافه، وأكرم نزله، ووسع مدخله، واغسله بماء وثلج وبرد، ونقه من الخطايا كما </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head123">61 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head124">: " مررت ليلة أسري بي برائحة طيبة , فقلت: ما هذه الرائحة يا جبريل؟ قال: هذه ماشطة بنت فرعون </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head125">62 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head126">: " اذكروا الله عز وجل , فإن العبد إذا قال: سبحان الله وبحمده، كتب له بها عشر حسنات، ومن عشر </a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 15299</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibn Qasim Miyaniji</label><label>tags: CENT0400 :: _HADITH :: _MAKHTUTAT :: GAL@nodata :: Shamela@مخطوطات حديثية</label><label>url: https://raw.githubusercontent.com/OpenITI/0375AH/master/data/0375IbnQasimMiyaniji/0375IbnQasimMiyaniji.Juz/0375IbnQasimMiyaniji.Juz.Shamela0029728-ara1</label><label>tok_length: 3934</label><label>status: pri</label><label>id: Shamela0029728</label><label>ed_info: مخطوط نشر في برنامج جوامع الكلم المجاني التابع لموقع الشبكة الإسلامية</label><label>title_lat: Juz</label><label>title_ar: جزء القاضي أبي القاسم الميانجي</label><label>book: 0375IbnQasimMiyaniji.Juz</label><label>author_lat: Ibn Qasim Miyaniji</label><label>author_ar: يوسف بن القاسم بن يوسف بن فارس بن سوار، أبو بكر الميانجي (المتوفى: 375هـ)</label><label>date: 0375</label><label>versionUri: 0375IbnQasimMiyaniji.Juz.Shamela0029728-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "001"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
