<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">CHECK [الغلاف]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">AUTO بسم الله الرحمن الرحيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">AUTO 1 - باب أي مسجد وضع أولا؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">AUTO 2 - باب أن الله تعالى وصل مكة بالمدينة والمدية ببيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">AUTO 3 - باب أن الله تعالى خلق مكة والمدينة وبيت المقدس من زبدة واحدة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">AUTO 4 - باب ما جاء في أمر الله تعالى لداود -عليه السلام- ببناء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">AUTO 5 - باب أن سليمان -عليه السلام- بنى مسجد بيت المقدس على أساس قديم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">AUTO 6 - باب ما قال الله لداود -عليه السلام- لما علا المحراب على</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">AUTO 7 - باب ما جاء في بنى سليمان -عليه السلام- لبيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">AUTO 8 - باب الدعاء الذي دعا به سليمان -عليه السلام- لما انغلقت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">AUTO 9 - باب ذكر خراب بيت المقدس وما فعل بها بخت نصر لما غير أهلها وبدلوا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">AUTO 10 - باب ما بشر به رسول الله صلى الله عليه وسلم من فتح بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">AUTO 11 - باب فتوح أمير المؤمنين عمر -رضي الله عنه- القدس على</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">AUTO 12 - باب بناء عبد الملك بن مروان الصخرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">AUTO 13 - باب ما يستحب من الدعاء إذا دخل من باب المسجد وإذا خرج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">AUTO 14 - باب ما يستحب من الدعاء إذا دخل الصخرة المقدسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">AUTO 15 - باب ما يستحب من الدعاء على مقام النبي صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">AUTO 16 - باب ما يستحب من الدعاء عند قبة السلسلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">AUTO 17 - باب ما يستحب من الدعاء عند قبة المعراج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">AUTO 18 - باب ما يستحب من الدعاء عند قبة النبي صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">AUTO 19 - باب قول النبي صلى الله عليه وسلم: ((لا تشد الرحال إلا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">AUTO 20 - باب فضل الصلاة [فيه] ودعاء سليمان -عليه السلام- لمن أتاه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">AUTO 21 - باب كم صلى النبي صلى الله عليه وسلم والمسلمون إلى بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">AUTO 22 - باب ما جاء في الصخرة وأنها من الجنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">AUTO 23 - باب ما جاء في الصخرة وأنها تحول يوم القيامة مرجانة بيضاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">AUTO 24 - باب ما جاء في المياه وأنها تخرج من أصل الصخرة وأنها على</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">AUTO 25 - باب أن الصخرة أقرب البقاع إلى السماء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">AUTO 26 - باب ما جاء في تواضع الصخرة لله تعالى وما قاله الله تعالى لها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">AUTO 27 - باب قول الله تعالى: {يوم يناد المناد من مكان قريب} وأنه الصخرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">AUTO 28 - باب فضل البلاطة السوداء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">AUTO 29 - باب كيف يدخل إلى الصخرة؟ والملك الذي ينادي عليها وغير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">AUTO 30 - باب في فضل الصخرة ليلة الرجفة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">AUTO 31 - باب ما جاء في قبة المعراج وصعود النبي صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">AUTO 32 - باب ذكر ما جلى الله لرسول صلى الله عليه وسلم في بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">AUTO 33 - باب أخذ النبي صلى ms085 الله عليه وسلم اللبن في بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">AUTO 34 - باب فضل قبة النبي صلى الله عليه وسلم وصلاته بالأنبياء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">AUTO 35 - باب فضل قبة السلسلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">AUTO 36 - باب ذكر السلسلة التي كانت على الصخرة وما كان عليها معلق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">AUTO 37 - باب فضل الصخور التي في مؤخر المسجد المقدس وما جاء فيها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">AUTO 38 - باب فضل كرسي سليمان صلى الله عليه وسلم الذي بين يدي قبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">AUTO 39 - باب ذكر ما جاء في باب الرحمة وسور المسجد المقدس ووادي جهنم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">AUTO 40 - باب ذكر ما جاء في محراب عمر رضي الله عنه وهو المحراب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">AUTO 41 - باب ما جاء في جب الورقة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">AUTO 42 - باب ما جاء في محراب مريم عليها السلام ونذر امرأة عمران</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">AUTO 43 - باب ما جاء في محراب زكريا عليه السلام وخدمة يحيى صلى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">AUTO 44 - باب ما جاء في باب حطة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">AUTO 45 - باب قبة آدم عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">AUTO 46 - باب مسكن الخضر عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">AUTO 47 - باب فضل من أسرج مسجد بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">AUTO 48 - باب فضل من أهدى إلى المسجد زيتا وأمر النبي صلى الله عليه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">AUTO 49 - باب ما جاء في الخلوق وما فيه من الأثر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">AUTO 50 - باب تسبيح الملائكة في مسجد بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">AUTO 51 - باب ما جاء في الصخرة التي تسمى بخ بخ وهي التي تحت المقام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">AUTO 52 - باب ذكر العجائب التي كانت في بيت المقدس مما صنعه الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">AUTO 53 - باب حنين الجنة إلى بيت المقدس وأنها صرة الأرض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">AUTO 54 - باب ما جاء أن الله تعالى يحب بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">AUTO 55 - باب بشارة الله تعالى لبيت المقدس وأن بابا مفتوحا من</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">AUTO 56 - باب أن بيت المقدس صفوة الله من بلاده وكنزه ومقامه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">AUTO 57 - باب ما جاء في أن بيت المقدس شكا إلى الله تعالى الخراب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">AUTO 58 - باب فضل الأذان في مسجد بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">AUTO 59 - باب فضل الإحرام بالحج والعمرة من بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">AUTO 60 - باب فضل من سكن بيت المقدس وأن أهلها لا يضرهم خذلان من خذلهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">AUTO 61 - باب ما جاء في الملائكة الذين ينزلون كل ليلة إلى بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">AUTO 62 - باب فضل من جمع الصلاة في المساجد الثلاثة وما يكره من</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">AUTO 63 - باب أن بيت المقدس من مدائن الجنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">AUTO 64 - باب أن بيت المقدس بلد محفوظ وأن نور رب العزة ينزل ويصعد إليه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">AUTO 65 - باب ما جاء أن النبي صلى الله عليه وسلم نهى أن يستقبل بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">AUTO 66 - باب ما جاء أن بيت المقدس عمرته الأنبياء وأن ما فيه موضع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">AUTO 67 - باب [فضل] من أنفق في عمارته واستغفر للمؤمنين والمؤمنات فيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">AUTO 68 - باب ذكر ما رد الله تعالى من تابوت السكينة إلى بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">AUTO 69 - باب أن القدس يقدس في السموات السبع بمقداره في الأرض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">AUTO 70 - باب من نذر أن يمشي إلى بيت المقدس وما يلزمه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">AUTO 71 - باب من مشى إلى بيت المقدس شكرا لله تعالى لما كشف عنه من</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">AUTO 72 - باب ذكر ما ظهر من الآية في بيت المقدس يوم قتل علي وولده</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">AUTO 73 - باب ذكر من زار بيت المقدس من الأئمة والصالحين ومن كان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">AUTO 74 - باب نزول المائدة على عيسى صلى الله عليه وسلم في أرض بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">AUTO 75 - باب فضل ماء بيت المقدس وما فيه من المنفعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">AUTO 76 - باب فضل من مات في بيت المقدس وما جاء في فضل زيتون الملة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">AUTO 77 - باب سؤال موسى -عليه السلام- ربه أن يدنيه من بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">AUTO 78 - باب حمل الريح لسليمان صلى الله عليه وسلم من بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">AUTO 79 - باب كم ببيت المقدس من الأنبياء مقبور؟ ومن كان بها من</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">AUTO 80 - باب صفة ما يضرب على بيت المقدس من الأسوار في آخر الزمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">AUTO 81 - باب ما جاء أن الكعبة تحشر إلى بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">AUTO 82 - باب ما جاء أن البيت المقدس تضاعف فيه الحسنات والسيئات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">AUTO 83 - باب أن البيت المقدس معقل من الدجال في آخر الزمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">AUTO 84 - باب ما جاء أن بيت المقدس مهاجر المهدي وأنه يقتل السفياني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">AUTO 85 - باب الرايات السود التي ذكر الله رسول الله صلى الله عليه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">AUTO 86 - باب ما جاء أن الجنة على أجاجير بيت المقدس والملائكة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">AUTO 87 - باب غضب عيسى -عليه السلام- على بني إسرائيل لما رآهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">AUTO 88 - باب ما جاء أن بيت المقدس كأس من ذهب وما وعد الله تعالى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">AUTO 89 - باب ما جاء أن الله تعالى أقسم بمسجد بيت المقدس وذكر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">AUTO 90 - باب ذكر الساهرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">AUTO 91 - باب ما جاء أن أهل بيت المقدس مرابطون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">AUTO 92 - باب أن بيت المقدس أرض المحشر وأنها وسط الدنيا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">AUTO 93 - باب أن من في بيت المقدس يزار ولا يزور وما وهب جبل قاسيون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">AUTO 94 - باب من رأى أن يدور يصلي في سائر المواضع التي ببيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">AUTO 95 - باب ما جاء في محراب داود عليه السلام وقبر مريم عليها السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">AUTO 96 - باب ما جاء في ذكر الأخماس ومن اشتراهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">AUTO 97 - باب ما جاء في الموضع الذي شد فيه جبريل -عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">AUTO 98 - باب فضل عين سلوان وذكر العين التي كانت عندها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">AUTO 99 - باب فضل الصدقة في بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">AUTO 100 - باب ما جاء في بيت لحم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">AUTO 101 - باب فضل الصيام في بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">AUTO 102 - باب النهي عن دخول الكنائس التي في وادي جهنم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">AUTO 103 - باب لا يعد من الخلفاء إلا من ملك المسجدين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">AUTO 104 - باب جامع للفضائل من كل فن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">AUTO 150 - باب فضل من بنى مسجدا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">AUTO 106 - باب فضل من كنس مسجدا أو أزال عنه الأذى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">AUTO 107 - باب فضل المشي إلى المساجد وغير ذلك من فضائل المساجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">AUTO 108 - باب فضل أول من يدخل المسجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">AUTO 109 - باب إثم من تنخم في المسجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">AUTO 110 - باب فضل من رد ريقه إعظاما للمسجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">AUTO 111 - باب كفارة البصاق في المسجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">AUTO 112 - باب أن أهل المساجد هم أهل الله تعالى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">AUTO 113 - باب أن ms212 خير البقاع المساجد وشرها الأسواق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">AUTO 114 - باب جامع في فضل المساجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">AUTO 1 - فصل في منع النساء من المساجد وغير ذلك من فضلها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">AUTO 115 - باب جامع في فضائل الشام</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 314004</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibn Murajja Maqdisi</label><label>tags:  :: ShamAY@الأجزاء الحديثية</label><label>url: https://raw.githubusercontent.com/OpenITI/0500AH/master/data/0492IbnMurajjaMaqdisi/0492IbnMurajjaMaqdisi.FadailBaytMaqdis/0492IbnMurajjaMaqdisi.FadailBaytMaqdis.ShamAY0033632-ara1</label><label>tok_length: 79300</label><label>status: pri</label><label>id: ShamAY0033632</label><label>ed_info: أيمن نصر الدين الأزهري :: الأولى 1422 ه - 2002 م :: دار الكتب العلمية</label><label>title_lat: Fadail Bayt Maqdis</label><label>title_ar: فضائل بيت المقدس لابن المرجى المقدسي :: فضائل بيت المقدس ¶ المؤلف: أبو المعالي المشرف بن المرجى بن إبراهيم المقدسي (492 ه) ¶ المحقق: أيمن نصر الدين الأزهري ¶ الناشر: دار الكتب العلمية ¶ الطبعة: الأولى 1422 ه - 2002 م ¶ عدد الأجزاء: 1 ¶ ملاحظات: [موافق للمطبوع - مقابل على المطبوع- إمكانية الإنتقال للصفحة] ¶ مصدر الكتاب: [مكتبة يا باغي الخير أقبل - ملتقى أهل الحديث] ¶ ملاحظة: [هذا الكتاب من كتب المستودع بموقع المكتبة الشاملة] :: فضائل بيت المقدس</label><label>book: 0492IbnMurajjaMaqdisi.FadailBaytMaqdis</label><label>author_lat: Ibn Murajja Maqdisi</label><label>author_ar: ابن المرجى :: أبو المعالي المشرف بن المرجى بن إبراهيم المقدسي (492 ه)</label><label>date: 0492</label><label>versionUri: 0492IbnMurajjaMaqdisi.FadailBaytMaqdis.ShamAY0033632-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "386", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "462", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "474", "475", "476", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488", "489", "490", "491", "492", "493"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
