<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">كتاب المدبر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">مدخل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">ثم اختلفوا في صفة القول الذي إذا وجد من القائل لعبده حكم للمقول له ذلك من عبيده بأنه مدبر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">واختلفوا في قول القائل لمملوكه أنت حر.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">ثم اختلفوا في حكم العبد يعتق إلى أجل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">ثم اختلفوا في عتق المدبر إذا مات سيده قبل رجوعه عن تدبيره أمن جميع ما له عتقه أم من الثلث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">ثم اختلفوا في السيد هل له أن يرجع عن تدبيره ببيع أو قول أو غير ذلك من وجوه الرجوع؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">واختلفوا في بيع خدمة المدبر من نفسه أو من غيره</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">واختلفوا في حكم العبد بين اثنين يدبره أحدهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">ثم اختلفوا في حكم ما في بطنها إن أفردها السيد بالتدبير أو أفرد ما في بطنها أو حدث لها ولد بعد التدبير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">واختلفوا في حكم البيع إذا عقد إلى أجلين مختلفين بثمنين مختلفين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">حكم الخيار في البيوع: ثم ms022 اختلفوا في معنى الفرقة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">واختلف القائلون إن التفرق بالأبدان في حكم ما أحدث أحدهم في السلعة قبل تفرقهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">واختلفوا في جواز اشتراط الخيار أكثر من ثلاثة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">واختلف الذين أبطلوا البيع باشتراط الخيار أكثر من ثلاثة أيام إذا اختير في الثلاث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">واختلف مجيزو اشتراط الخيار إذا حدث بالمشروط ذلك له حدث منعه من خياره حتى جازت المدة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">واختلفوا في حكم السلعة تتلف قبل أن يقضي المشروط له الخيار فيها في أيام حياته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">واختلفوا في حكم الذي له الخيار إذا أراد فسخ البيع بغير محضر من صاحبه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">واختلفوا في الحكم في ذلك ان رضيه من اشترط خياره وخالف أحد المتبايعين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">واختلفوا في حكمها إذا تناقضا البيع والخيار لاحداهما أو لهما فهلك في يدي المشتري قبل ان يقبضه البائع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">واختلفوا في حكم الرجل يشتري عدلا من متاع برأس المال ولم يخبره البائع برأس المال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">واختلفوا في حكم البيع يعقد على المشتري إن لم ms032 ينقده الثمن إلى أيام فلا بيع بينهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">ثم اختلفوا في الربح الذي يجوز به البيع على المرابحة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">واختلفوا في حكم الرجل يشتري سلعة بثمن في بلد فيبيعها مرابحة ببلد غيره أو يبيعها مرابحة وقد دخلها نقص</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">الصرف في تراب المعدن والصاغة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">واختلفوا في بيع العطاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">واختلفوا في شراء العبد من سيده الدرهم بالدرهمين والمعاملة في دار الحرب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">واختلفوا في رجلين لكل واحد منهما على صاحبه لواحد ذهب وللآخر فضه فيتصارفان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">واختلفوا في المتصارفين يبعثان أو أحدهما من1 يرى أحد الثمنين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">واختلفوا في الأجرة على صياغة الذهب والفضة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">واختلفوا في مراطلة الذهب الجيدة والرديئة بالذهب الرديئة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">كتاب السلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">ذكر اختلاف العلماء في بيع الغائب المضمون بالصفة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">ذكر اختلاف مجوزي السلم في فروعه: واختلفوا في الثمن هل يجوز أن يكون مجهولا؟</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">واختلفوا في السلم إلى الأجل المجهول وفي الشي حالا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">واختلفوا فيه إذا لم يبين المكان الذي يقضي فيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">واختلفوا فيه إذا أصيب في الثمن شيء رديء بعد التفرق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">واختلفوا فيمن أسلم في صنفين من الأشياء ولم يبين كل واحد منهما أو في صنف واحد إلى أجلين مختلفين بثمن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">ثم واختلفوا في ذلك إن أصاب بعضا ولم يصب بعضا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">واختلفوا فيه إذا أسلم إليه في جنس فحل عليه فقضاه أجود مما أسلم إليه من جنسه أو أردأ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">واختلفوا إذا كان السلم غير الطعام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">واختلفوا في المسلم يشرك بعد وجوب السلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">واختلفوا في الرهن والكفيل في السلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">واختلفوا فيما يجوز فيه السلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">واختلفوا في أشياء من الموزون والمكيل فمن ذلك السلم في الفاكهة الرطبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">واختلفوا في السلم فيما خلط بغيره</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">واختلفوا في السلم فيما بعد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">واختلفوا في السلم في ms067 السمك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">واختلفوا في السلم في اللحم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">واختلفوا في السلم في الرؤوس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">واختلفوا في السلم في اللؤلؤ والزبرجد والياقوت والحجارة التي تكون حليا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">كتاب المزارعة والمساقاة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">مدخل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">ثم اختلفوا في الرجل يدفع نقله إلى رجل يقوم عليه من سقيه وإصلاحه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">واختلفوا في كراء الأرض البيضاء بشيء من جنس المكترى له بعد إجماعهم على أنها إذا اكتريت بالذهب والورق فجائز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">واختلفوا في حكم المزارع على الأرض البيضاء إذا حاكم رب الأرض وقد زرع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">وأجمع الذين أجازوا المساقاة ms077 على إجازتها في النخل والكرم ثم اختلفوا في إجازتها في غيرهما من الغروس والزرع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">واختلفوا في المعاملة ببعض تمر المساقى عليه بعد بدو الصلاح ووقت جواز البيع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">واختلفوا في حكمها إذا دفع إليه نخلا أو شجرا قد علق في الأرض ولم يطعم على أن ما خرج من شيء فبينهما على ما اشترطا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">واختلفوا في حكم الدافع أرضه إلى رجل على أن يغرس المدفوعة إليه الأرض على أن ما أخرج الله من غرس فبينهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">واختلف الذين أجازوا المعاملة على النخل والأصول فيما يجوز اشتراطه على العدل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">ثم اختلفوا في فسخ ما تعاقدا من ذلك بينهما إذا كان المريد للفسخ أحدهما دون صاحبه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">واختلفوا في حكمهما إن باعا الثمرة قبل الجداد أو مات أحدهما استحقت الثمرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">كتاب الغصب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">مدخل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">واختلفوا في حكم المغصوب يجني عليه في يد الغاصب أو1 يجني أو2 يصيبها ما ينقصها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">واختلفوا في حكم غلة المغصوب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">واختلفوا في حكم المغصوب إذا خلطه الغاصب بشيء لا يتميز من ماله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">واختلفوا ms094 حكم الغاصب يتلف ما غصب بسببه على يدي مالكه أو في مال مالكه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">واختلفوا في حكم المسلم يتلف خمر الذمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">كتاب الضمان والكفالة والحوالة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">مدخل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">القول في الكفالة بالمال إلى الأجال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">القول في الجماعة يضمنون عن رجل عليه لاخر مال ثم يضمن ذلك الضمناء له بعضهم عن بعض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">أحكام الكفالة بالنفس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">واختلف موجبو اخذ الكفيل بالنفس بالمكفول به إذا طلب ذلك المكفول له بما يجوز الكفالة بالنفس فيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">واختلف القائلون بإجازة الكفالة بالنفس 1فيما يكون براءة للكفيل بالنفس من كفالته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">واختلفوا في الرجل يكفل1 بنفس غريم له على انه يوافيه به في وقت يسميه له مما عليه من شيء فهو عليه أفعليه كذا من المال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">واختلفوا في اللازم كفيلا بنفس رجل لرجل على أن يدفعه إليه في موضع يسميه له أو في وقت يوقته له إذا خالف ما شرط عليه من ذلك وما الذي يبرئه إذا لم يشرط عليه ذلك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">واختلفوا في حكم الرجل يكفل بنفس رجل لرجل عليه حق والمكفول له به غير حاضر.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">القول في الألفاظ التي تصح بها1 الكفالة وتلزم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">واختلفوا في حكمه إن قال له بايعه فما وجب لك عليه من شيء فهو لك علي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">القول في حكم الرجل يأمر رجلا أن ينقد رجلا عنه مالا محدود المبلغ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">القول في كفالة العبد بنفس رجل لرجل وضمانه له مالا له عليه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">القول في كفالة متكفل بنفس صبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">القول في كفالة العبد عن سيده</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">القول في الكفالة عن المكاتب وكفالة المكاتب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">واختلفوا في حكم كفالة جماعة من المكاتبين كوتبوا كتابة واحدة فكفل بعضهم عن بعض ما لسيدهم عليهم من مال الكتابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">القول في العبد يكون بين اثنين فيداينه أحدهما ويأخذ منه كفيلا أو يداين العبد أحدهما ويأخذ منه كفيلا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">القول في كفالة أهل الذمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">القول في كفالة المرتد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">القول في حكم كفالة الحربي المستأمن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">القول في حكم الرجل يأمر رجلا بضمان ms174 مال لآخر ثم يختلف في ذلك الآمر والمضمون له</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">القول في حكم المدعي قبل رجل حقا إذا سأل القاضي امر المدعى عليه بإعطائه كفيلا إلى حين إحضاره البينة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">القول في صلح الكفيل المكفول له في السلم عما كفل له</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">القول في حكم كفالة المريض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">القول في حكم الرجل يبيع الرجل سلعه بثمن إلى أجل على أن يكفل له بثمنها كفيل بعينه أو بغير عينه أو يقرض رجل رجلا على ذلك من الشرط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">القول في حكم الكفالة عن مجهول أو لمجهول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">القول في الكفالة بالحيوان والعروض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">واختلفوا في الأستمناء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">واختلفوا في إتيان النساء في أدبارهن</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 232038</label><label>author_lat_full_name: none Abū Ǧaʿfar Muḥammad b. Ǧarīr b. Yazīd al-Ṭabarī</label><label>author_lat_shuhra: al-Ṭabarī</label><label>author_from_uri: Tabari</label><label>tags: CENT0400 :: _FIQH :: GAL@historiography :: GAL@period-classical :: GAL@literature-islamic :: GAL@history :: GAL@history-imperial :: GAL@0750-1000CE :: GAL@literature-arabic :: GAL@history-world :: Shamela@فقه عام</label><label>url: https://raw.githubusercontent.com/OpenITI/0325AH/master/data/0310Tabari/0310Tabari.IkhtilafFuqaha/0310Tabari.IkhtilafFuqaha.Shamela0007492-ara1</label><label>tok_length: 59947</label><label>status: pri</label><label>id: Shamela0007492</label><label>ed_info: دار الكتب العلمية</label><label>title_lat: Ikhtilaf Fuqaha</label><label>title_ar: اختلاف الفقهاء</label><label>book: 0310Tabari.IkhtilafFuqaha</label><label>author_lat: Tabari :: al-Ṭabarī :: none Abū Ǧaʿfar Muḥammad b. Ǧarīr b. Yazīd al-Ṭabarī</label><label>author_ar: الطبري :: نoنe أبو جعفر محمد بن جرير بن يزيد الطبري</label><label>date: 0310</label><label>versionUri: 0310Tabari.IkhtilafFuqaha.Shamela0007492-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "023", "024", "025", "026", "027", "028", "028", "029", "030", "031", "032", "033", "034", "034", "035", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "045", "046", "047", "047", "048", "049", "050", "051", "052", "053", "054", "054", "055", "056", "056", "057", "058", "059", "059", "060", "061", "062", "062", "063", "063", "064", "065", "065", "066", "067", "068", "068", "069", "070", "071", "071", "072", "072", "072", "073", "074", "075", "075", "076", "077", "077", "078", "079", "080", "080", "081", "081", "082", "083", "083", "084", "084", "085", "085", "086", "087", "087", "088", "089", "090", "091", "093", "094", "095", "095", "096", "096", "097", "098", "098", "099", "099", "100", "101", "101", "102", "103", "104", "104", "105", "106", "107", "107", "108", "109", "110", "111", "112", "113", "114", "115", "115", "116", "117", "118", "119", "120", "121", "122", "122", "123", "124", "125", "125", "126", "127", "128", "128", "129", "130", "131", "132", "132", "133", "133", "134", "135", "136", "136", "137", "138", "138", "139", "140", "141", "141", "142", "143", "144", "145", "146", "147", "148", "148", "149", "149", "150", "151", "152", "153", "154", "155", "155", "156", "157", "157", "158", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "167", "168", "169", "170", "171", "172", "172", "173", "174", "175", "176", "176", "177", "178", "178", "179", "180", "181", "181", "182", "183", "184", "184", "185", "186", "187", "188", "189", "190", "191", "191", "192", "193", "194", "195", "196", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "208", "209", "210", "211", "212", "213", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "232", "233", "234", "235", "236", "237", "238", "238", "239", "240", "241", "242", "243", "244", "245", "245", "246", "247", "248", "248", "249", "250", "251", "252", "253", "253", "254", "255", "256", "257", "257", "258", "259", "260", "260", "261", "261", "262", "263", "264", "265", "266", "267", "267", "268", "268", "269", "270", "270", "271", "272", "273", "273", "274", "274", "275", "276", "276", "277", "278", "279", "280", "281", "281", "282", "283", "284", "285", "286", "286", "287", "288", "289", "290", "291", "291", "292", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "303", "304", "304", "305"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
