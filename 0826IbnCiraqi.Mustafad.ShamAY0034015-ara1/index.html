<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">CHECK [الغلاف]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">CHECK [المجلد الأول]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">AUTO بسم الله الرحمن الرحيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">AUTO كتاب الإيمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">AUTO كتاب العلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">AUTO كتاب الطهارة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">AUTO كتاب الصلاة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">AUTO باب الجمعة والعيدين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">AUTO كتاب الجنائز</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head9">AUTO فصل فيمن تكلم بعد الموت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">AUTO فصل في الصبر على موت الأولاد ونحوه</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">AUTO كتاب الزكاة</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head12">AUTO فائدة</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">AUTO كتاب الصيام</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head14">AUTO فصل في ليلة القدر</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">AUTO كتاب الحج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">AUTO باب الأضحية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">AUTO باب الأطعمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">AUTO باب الأشربة وآداب الأكل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">AUTO باب الطب والرقى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">AUTO باب التوكل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">AUTO باب اللباس والزينة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">AUTO باب النذر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">CHECK [المجلد الثاني]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">AUTO كتاب البيوع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">AUTO باب الربا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">AUTO باب الرهن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">AUTO باب المزارعة والمخابرة وفضل الزرع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">AUTO باب القرض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">AUTO باب الشفعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">AUTO باب الغصب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">AUTO باب الجعالة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">AUTO باب المناضلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">AUTO باب إحياء الموات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">AUTO باب اللقطة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">AUTO باب الهبة والعمرى ونحوهما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">AUTO باب الوصية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">AUTO باب العتق وصحبة المماليك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">AUTO باب الكتابة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">AUTO كتاب الفرائض</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">AUTO كتاب النكاح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">AUTO باب الوليمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">AUTO باب حق الزوج على زوجته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">AUTO باب عشرة النساء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">AUTO باب الخلع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">AUTO باب الطلاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">AUTO باب الظهار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">AUTO باب اللعان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">AUTO كتاب العدد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">AUTO باب لحاق النسب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">AUTO باب إثبات القائف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">AUTO كتاب الأيمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">AUTO باب الرضاع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">AUTO باب الحضانة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">AUTO كتاب الحدود</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">AUTO باب حد الزنا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">AUTO باب حد السرقة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">AUTO باب حد الشرب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">AUTO باب حد المحاربة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">AUTO باب حد الساب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">AUTO كتاب القصاص</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">AUTO باب الديات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">AUTO كتاب السير</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head63">AUTO فصل في الفيء والغنيمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head64">AUTO فصل في الشهداء</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">AUTO باب الإمارة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">CHECK [المجلد الثالث]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">AUTO كتاب القضاء والشهادات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">AUTO كتاب الأدب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">AUTO كتاب الزهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">AUTO كتاب التفسير وأسباب النزول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">AUTO كتاب القرآن وفضل القرآن وأدب القراءة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">AUTO كتاب الرؤيا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">AUTO كتاب الفتن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">AUTO كتاب بر الوالدين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">AUTO كتاب الأدعية والذكر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">AUTO كتاب علامات النبوة وذكر شيء من أخلاقه صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">AUTO كتاب المناقب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">AUTO كتاب أخبار الأولين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">AUTO كتاب ذكر القيامة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">AUTO باب الجدة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">AUTO باب من روى عن أبيه ولم يسم الأب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">AUTO باب الأم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">AUTO باب العم والعمة</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">AUTO قال أبو القاسم البغوي: اسم والد مجيبة الباهلية: عبد الله بن</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">AUTO باب الابن</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head86">AUTO فصل</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">AUTO باب آخر من المبهمات</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head88">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head89">AUTO فصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head90">AUTO فصل في قولهم فلان عن أبيه ms114 عن جده</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head91">AUTO فصل في قولهم ابن فلان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head92">AUTO فصل في العبادلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head93">AUTO فصل في بيان الفقهاء السبعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head94">AUTO فصل</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 136487</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibn Ciraqi</label><label>tags:  :: ShamAY@علوم الحديث</label><label>url: https://raw.githubusercontent.com/OpenITI/0850AH/master/data/0826IbnCiraqi/0826IbnCiraqi.Mustafad/0826IbnCiraqi.Mustafad.ShamAY0034015-ara1</label><label>tok_length: 35455</label><label>status: pri</label><label>id: ShamAY0034015</label><label>ed_info: الدكتور عبد الرحمن عبد الحميد البر :: الأولى 1414 ه - 1994 م :: دار الوفاء - دار الأندلس الخضراء</label><label>title_lat: Mustafad</label><label>title_ar: المستفاد من مبهمات المتن والإسناد :: المستفاد من مبهمات المتن والإسناد ¶ المؤلف: أبو زرعة أحمد بن عبد الرحيم العراقي (826 ه) ¶ المحقق: الدكتور عبد الرحمن عبد الحميد البر ¶ الناشر: دار الوفاء - دار الأندلس الخضراء ¶ الطبعة: الأولى 1414 ه - 1994 م ¶ عدد الأجزاء: 3 ¶ ملاحظات: [موافق للمطبوع - مقابل على المطبوع- إمكانية الانتقال للصفحة ورقم الحديث] ¶ مصدر الكتاب: [مكتبة يا باغي الخير أقبل - ملتقى أهل الحديث] ¶ ملاحظة: [هذا الكتاب من كتب المستودع بموقع المكتبة الشاملة]</label><label>book: 0826IbnCiraqi.Mustafad</label><label>author_lat: Ibn Ciraqi</label><label>author_ar: أحمد بن عبد الرحيم بن الحسين الكردي الرازياني ثم المصري، أبو زرعة ولي الدين، ابن العراقي :: ولي الدين بن العراقي :: أبو زرعة أحمد بن عبد الرحيم العراقي (826 ه)</label><label>date: 0826</label><label>versionUri: 0826IbnCiraqi.Mustafad.ShamAY0034015-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["091", "092", "093", "094", "095", "096", "097", "099", "101", "102", "110", "112", "113", "119", "121", "123", "127", "130", "131", "134", "137", "139", "141", "145", "147", "150", "152", "154", "156", "158", "161", "163", "165", "167", "169", "172", "174", "176", "177", "179", "183", "186", "189", "192", "195", "200", "205", "209", "213", "215", "216", "217", "219", "221", "222", "223", "226", "228", "229", "231", "233", "234", "235", "238", "239", "241", "242", "243", "244", "245", "247", "249", "251", "255", "256", "257", "260", "265", "268", "271", "277", "280", "281", "284", "286", "287", "290", "295", "296", "298", "299", "301", "304", "308", "311", "316", "319", "321", "323", "325", "327", "329", "331", "333", "335", "338", "339", "340", "342", "343", "346", "347", "349", "350", "351", "353", "355", "357", "359", "360", "364", "365", "367", "368", "369", "371", "373", "374", "375", "377", "379", "380", "381", "383", "384", "386", "390", "391", "393", "394", "396", "397", "399", "401", "402", "408", "410", "411", "415", "417", "419", "421", "423", "426", "428", "431", "432", "434", "436", "437", "438", "441", "444", "445", "446", "449", "450", "452", "453", "454", "456", "457", "458", "460", "461", "463", "465", "467", "469", "471", "472", "475", "477", "479", "481", "483", "489", "490", "493", "494", "497", "499", "501", "504", "505", "507", "509", "510", "511", "513", "516", "518", "519", "523", "530", "531", "535", "538", "539", "544", "549", "551", "556", "558", "560", "563", "567", "569", "571", "573", "575", "576", "577", "580", "581", "583", "585", "590", "593", "597", "602", "603", "607", "609", "613", "619", "620", "621", "625", "626", "628", "630", "631", "633", "635", "638", "641", "642", "644", "646", "649", "650", "651", "655", "656", "657", "658", "663", "666", "669", "673", "676", "678", "680", "683", "684", "686", "692", "695", "696", "700", "702", "705", "706", "707", "708", "709", "711", "716", "718", "719", "722", "723", "724", "726", "729", "731", "732", "735", "739", "742", "743", "745", "746", "747", "750", "753", "755", "757", "760", "763", "764", "767", "773", "776", "778", "780", "782", "783", "784", "787", "790", "792", "794", "796", "799", "800", "801", "805", "809", "812", "816", "817", "819", "822", "823", "825", "827", "829", "833", "837", "839", "841", "843", "847", "853", "855", "858", "859", "862", "865", "867", "871", "874", "878", "879", "881", "883", "884", "885", "886", "888", "891", "893", "894", "895", "899", "902", "908", "913", "919", "923", "924", "930", "933", "936", "939", "942", "945", "947", "948", "950", "952", "955", "956", "957", "959", "960", "963", "968", "970", "973", "976", "978", "979", "983", "984", "987", "992", "996", "999", "1001", "1009", "1012", "1014", "1016", "1017", "1019", "1020", "1025", "1027", "1028", "1031", "1035", "1039", "1045", "1052", "1055", "1060", "1066", "1069", "1073", "1076", "1078", "1081", "1083", "1087", "1089", "1091", "1093", "1095", "1097", "1098", "1101", "1104", "1107", "1109", "1111", "1113", "1116", "1119", "1120", "1124", "1127", "1129", "1131", "1134", "1136", "1138", "1139", "1140", "1144", "1146", "1148", "1149", "1151", "1154", "1157", "1159", "1161", "1163", "1169", "1171", "1174", "1177", "1180", "1182", "1184", "1187", "1188", "1196", "1197", "1200", "1203", "1205", "1208", "1211", "1214", "1217", "1219", "1221", "1223", "1226", "1229", "1231", "1233", "1236", "1238", "1240", "1243", "1246", "1247", "1249", "1251", "1253", "1254", "1256", "1262", "1264", "1267", "1268", "1271", "1272", "1273", "1275", "1277", "1278", "1283", "1287", "1290", "1292", "1295", "1296", "1298", "1300", "1302", "1303", "1306", "1307", "1310", "1313", "1314", "1316", "1319", "1320", "1322", "1323", "1324", "1325", "1326", "1327", "1329", "1330", "1333", "1337", "1341", "1342", "1344", "1346", "1348", "1350", "1351", "1357", "1360", "1363", "1364", "1365", "1367", "1369", "1371", "1373", "1375", "1376", "1377", "1379", "1380", "1383", "1385", "1387", "1390", "1391", "1394", "1399", "1400", "1401", "1402", "1404", "1407", "1409", "1411", "1413", "1414", "1416", "1418", "1420", "1421", "1422", "1423", "1424", "1425", "1428", "1429", "1430", "1431", "1433", "1435", "1437", "1441", "1443", "1445", "1447", "1448", "1451", "1454", "1455", "1457", "1458", "1459", "1461", "1464", "1468", "1472", "1475", "1476", "1478", "1480", "1482", "1486", "1488", "1491", "1494", "1497", "1504", "1505", "1506", "1509", "1511", "1515", "1518", "1520", "1521", "1524", "1525", "1528", "1531", "1532", "1534", "1537", "1539", "1542", "1546", "1549", "1552", "1554", "1556", "1559", "1561", "1563", "1565", "1567", "1571", "1574", "1576", "1579", "1581", "1582", "1585", "1589", "1590", "1593", "1596", "1598", "1599", "1601", "1602", "1603", "1604", "1606", "1608", "1610", "1611", "1613", "1615", "1618", "1620", "1622", "1626", "1628", "1629", "1631", "1634", "1636", "1637", "1640", "1641", "1643", "1645", "1646", "1649", "1650", "1652", "1655", "1658", "1660", "1664", "1666", "1668", "1670", "1673", "1674", "1677", "1678", "1680", "1682", "1683", "1684", "1687", "1688", "1690", "1691", "1694", "1695", "1697", "1698", "1701", "1702", "1703", "1704", "1706", "1708", "1709", "1713", "1715", "1717", "1719", "1722", "1723", "1726", "1730", "1732", "1734", "1735", "1737", "1738", "1739", "1742", "1743", "1744", "1747", "1749", "1751", "1754", "1756", "1761", "1766", "1769", "1772", "1775", "1776", "1777", "1778", "1779", "1780", "1781", "1782", "1783", "1784", "1785", "1786", "1787", "1788", "342"], "02": [], "03": []}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
