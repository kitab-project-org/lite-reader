<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">كتاب عقاب الأعمال للشيخ الصدوق أعلى الله مقامه ودرجاته </a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head1">[عقاب من أتى الله من غير بابه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head2">[عقاب المتهاون بأمر الله سبحانه] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head3">[عقاب من أبغض أهل بيت النبي صلى الله عليه وآله]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head4">[عقاب من جهل حق أهل البيت عليهم السلام]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head5">[عقاب من مات لا يعرف إمامه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head6">[عقاب من أطاع إماما جائرا ليس من الله عز وجل]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head7">[عقاب من أم قوما وفيهم من هو أعلم منه وأفقه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head8">[عقاب من صلى وترك الصلاة على النبي صلى الله عليه وآله ومن ذكر عنده النبي صلى الله عليه وآله] ولم يصل عليه </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head9">[عقاب الناصب والجاحد لأمير المؤمنين عليه السلام والشاك فيه والمنكر له]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">[عقاب القدرية]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head11">[عقاب من ادعى الإمامة وليس بإمام]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head12">[عقاب ابن آدم الذي قتل أخاه ونمرود الذي حاج إبراهيم عليه السلام الخ]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head13">[عقاب من قتل الحسين عليه السلام]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head14">[عقاب في أن الدنيا دار عقوبة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head15">[عقاب البغي وقطيعة الرحم واليمين الكاذبة والزنا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head16">[عقاب المتكبر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head17">[عقاب من ترك التأديب على المعصية]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head18">[عقاب من صور صورة ومن كذب في منامه ومن استمع على قوم وهم] له كارهون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head19">[عقاب من أذنب وهو ضاحك]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head20">[عقاب من عمل لغير الله عز وجل]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head21">[عقاب من أطاع امرأته]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head22">[عقاب من صلى بغير وضوء ومر على ضعيف فلم ينصره] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head23">[عقاب من قرب الأصنام] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head24">[عقاب الشاهد بالزور والكاتم الشهادة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head25">[عقاب من يحلف بالله كاذبا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head26">[عقاب من تهاون بالبول]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head27">[عقاب من استخف بصلاته]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head28">[عقاب من ترك غسل الجنابة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head29">[عقاب من خفف سجوده]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head30">[عقاب من التفت في صلاته ثلاث مرات]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head31">[عقاب من صلى الصلاة لغير وقتها]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head32">[عقاب من قرأ خلف إمام يأتم به]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head33">[عقاب من ترك إقامة الصف خلف الامام]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head34">[عقاب من ترك صلاة فريضة أو تهاون بها متعمدا] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head35">[عقاب من أخر صلاة العصر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head36">[عقاب من نام عن العشاء إلى نصف الليل]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head37">[عقاب من ترك ms045 الجماعة والجمعة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head38">[عقاب من أتى الكبائر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head39">[عقاب أكل مال اليتيم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head40">[عقاب مانع الزكاة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head41">[عقاب ms049 من ترك الزكاة وقد وجبت له]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head42">[عقاب من أفطر يوما من شهر رمضان]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head43">[عقاب من ترك الحج]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head44">[عقاب اللسان]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head45">[عقاب من مضت له ثلاثة أيام لم يقرأ فيهن قل هو الله أحد]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head46">[عقاب من مضت له جمعة لم يقرأ فيها قل هو الله أحد]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head47">[عقاب من أصابه مرض أو شدة فلم يقرأ فيها قل هو الله أحد]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head48">[عقاب من صلى خمسين صلاة ولم يقرأ فيهن قل هو الله أحد]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head49">[عقاب من نسي سورة من القرآن]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head50">[عقاب من أذل مؤمنا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head51">[عقاب من خذل مؤمنا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head52">[عقاب من طعن على المؤمنين أو رد عليهم قولهم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head53">[عقاب من طعن في عين مؤمن] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head54">[عقاب من حجب المؤمن]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head55">[عقاب من ربح على المؤمن]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head56">[عقاب من كان الرهن عنده أوثق من أخيه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head57">[عقاب من منع مؤمنا شيئا من عنده أو من عند غيره]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head58">[عقاب من حبس حق المؤمن]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head59">[عقاب من بهت مؤمنا ms053 أو مؤمنة بما ليس فيهما]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head60">[عقاب من روى على مؤمن رواية يريد بها شينه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head61">[عقاب من منع مؤمنا سكنى داره]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head62">[عقاب من تتبع عورة المؤمن]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head63">[عقاب المجتري على الله عز وجل]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head64">[عقاب من ينوي الذنب]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head65">[عقاب السيئة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head66">[عقاب من عمل عملا يطلب به وجه الله فادخل فيه رضى الناس]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head67">[عقاب قطيعة الرحمن واختلاف القلوب]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head68">[عقاب الخيانة والسرقة وشرب الخمر ms055 والزنا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head69">[عقاب آكل الطين]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head70">[عقاب من خضع لصاحب سلطان أو لمن يخالفه على دينه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head71">[عقاب من ترك فريضة من فرائض الله وارتكب كبيرة من الكبائر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head72">[عقاب الذين يريدون أن تشيع الفاحشة في الذين آمنوا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head73">[عقاب من مات وفي عنقه أموال الناس، وعقاب من لا يبالي أين أصاب] البول من جسده، وعقاب من يحاكي ويغتاب ويمشي بالنميمة </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head74">[عقاب من تعرض لسلطان جائر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head75">[عقاب من أتاه أخوه في حاجة فلم يقضها له]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head76">[عقاب من مشى في حاجة أخيه المؤمن ولم ينصحه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head77">[عقاب من استعان به المؤمن فلم يعنه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head78">[عقاب من اكتسى مؤمن عاري]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head79">[عقاب من أشبع مؤمن جائع]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head80">[عقاب من حقر مؤمنا واستخف به وأذله]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head81">[عقاب من اغتيب عنده المؤمن فلم ينصره]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head82">[عقاب العجب]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head83">[عقاب من تضام عن سائله وتبختر في مشيه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">[عقاب التباغض والتخاون]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head85">[عقاب المعاصي]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head86">[عقاب العلماء الفجرة والقراءة الفسقة والجبابرة الظلمة والوزراء الخونة] والعرفاء الكذبة والناكثين </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head87">[عقاب حب الدنيا وعبادة الطاغوت]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head88">[عقاب المرائي]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head89">[عقاب من صنع شيئا للمفاخرة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head90">[عقاب من ترك الامر بالمعروف والنهي عن المنكر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head91"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head92">[عقاب من أمن رجلا على دمه ثم قتله]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head93">[عقاب من اغتاب غازيا في طاعة الله أو أذاه أو خلفه في أهله بسوء]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head94">[عقاب من روع مؤمنا بسلطان ليصيب منه مكروها]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head95">[عقاب من أذى المؤمنين ونصب لهم وعاندهم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head96">[عقاب من ابتدع دينا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head97"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head98">[عقاب الشك والمعصية] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head99">[عقاب المرأة تتطيب لغير زوجها وتخرج من بيته بغير إذنه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head100">[عقاب من سمع واعية أهل البيت عليهم السلام ورأي سوادهم فلم يجبهم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head101">[عقاب من ولى عشرة فلم يعدل فيهم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head102">[عقاب من ولى شيئا من أمور المسلمين فضيعهم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head103">[عقاب الظلمة وأعوانهم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head104">[عقاب من اقترب من سلطان جائر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head105">[عقاب من سود اسمه في ديوان الجبارين]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head106">[عقاب الوالي يحتجب عن حوائج الناس]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head107">[عقاب من قرب المنكر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head108">[عقاب الزاني والزانية]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head109"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head110">[عقاب اللوطي والذي يمكن من نفسه واللواطي مع اللواتي] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head111">[عقاب الكذب على الله عز وجل وعلى رسوله وعلى الأئمة عليهم السلام]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head112">[عقاب من كان ذا وجهين ms080 وذا لسانين]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head113">[عقاب من يلعن غير مستحق اللعنة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head114">[عقاب المكر والخديعة] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head115">[عقاب سفك الدماء وإدمان الخمر والمشي بالنميمة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head116">[عقاب من يغضب] </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head117">[عقاب من شهد على مؤمن بكفر]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head118">[عقاب من مكر أو خدع]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head119">[عقاب من ظلم]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head120">[عقاب الجبار]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head121">[عقاب من مشى على الأرض اختبالا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head122">[عقاب البغي]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head123">[عقاب من سأل الناس وعنده قوت ثلاثة أيام]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head124">[عقاب من سأل الناس من غير حاجة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head125">[عقاب من قتل نفسه متعمدا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head126">[عقاب من أعان على قتل مؤمن بشطر كلمة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head127">[عقاب من قتل نفسا متعمدا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head128">[عقاب من شرك في دم امرء مسلم أو رضى به]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head129">[عقاب من أحدث حدثا أو آوى محدثا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head130">[عقاب المستأكل بالقرآن]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head131">[عقاب من ضرب القرآن بعضه ببعض]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head132">[عقاب من صلى في السفر أربع ركعات متعمدا]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head133">[عقاب مجمع عقوبات الأعمال]</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 126037</label><label>author_lat_full_name:  Abū Ǧaʿfar Muḥammad b. ʿAlī b. al-Ḥusayn b. Mūsā b. Bābawayh al-Qummī</label><label>author_lat_shuhra: Ibn Bābawayh, al-Šayḫ al-Ṣadūq</label><label>author_from_uri: Ibn Babawayh</label><label>tags: COMPLETED ::  :: Shia@مصادر الحديث الشيعية ـ قسم الفقه</label><label>url: https://raw.githubusercontent.com/OpenITI/0400AH/master/data/0381IbnBabawayh/0381IbnBabawayh.CiqabAcmal/0381IbnBabawayh.CiqabAcmal.Shia001138BK2-ara1.completed</label><label>tok_length: 32544</label><label>status: pri</label><label>id: Shia001138BK2</label><label>ed_info: تقديم : السيد محمد مهدي السيد حسن الخرسان :: 1368 ش</label><label>title_lat: Ciqab Acmal</label><label>title_ar: ثواب الأعمال</label><label>book: 0381IbnBabawayh.CiqabAcmal</label><label>author_lat: Ibn Babawayh :: Ibn Bābawayh, al-Šayḫ al-Ṣadūq ::  Abū Ǧaʿfar Muḥammad b. ʿAlī b. al-Ḥusayn b. Mūsā b. Bābawayh al-Qummī</label><label>author_ar: إبن بابويه، الشيخ الصدوق ::  أبو جعفر محمد بن علي بن الحسين بن موسا بن بابويه القمي</label><label>date: 0381</label><label>versionUri: 0381IbnBabawayh.CiqabAcmal.Shia001138BK2-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["001", "002", "003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
