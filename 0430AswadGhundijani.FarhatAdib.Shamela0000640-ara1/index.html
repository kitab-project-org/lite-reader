<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">بسم الله الرحمن الرحيم وبه نستعين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">قال ابن السيرافي قال مزاحم العقيلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">باب المصادر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">قال ابن السيرافي قال سيبويه في باب المصادر، قال المرار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">قال ابن السيرافي قال الأخوص اليربوعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">قال ابن السيرافي قال الجعدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">وقال ابن السيرافي قال أبو الأسود الدؤلي رضي الله عنه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">قال ابن السيرافي قال المرار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">قال ابن السيرافي قال مسكين الدارمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">قال ابن السيرافي قال الأعشى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">قال ابن السيرافي وقال الأعشى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">قال ابن السيرافي قال حميد الأرقط - وكان يهجو الضيف إذا نزل به</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">قال ابن السيرافي وقال طفيل الغنوي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">قال ابن السيرافي قال شقيق بن جزء الباهلي، يرد على جحل بن نضلة الباهلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">قال ابن السيرافي قال سيبويه قالت درني بنت عبعبة من بني قيس بن ثعلبة،</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">قال ابن السيرافي قال جرير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">قال ابن السيرافي قال الراجز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">قال ابن السيرافي قال ثروان بن فزارة بن عبد يغوث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">قال ابن السيرافي قال الزرافة الباهلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">قال ابن السيرافي قال منذر بن درهم الكلبي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">قال ابن السيرافي قال قيس بن ذريح ms16</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">قال ابن السيرافي قال عامر بن الطفيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">قال ابن السيرافي قال خفاف بن ندبة، ويقال عباس بن مرداس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">قال ابن السيرافي قال تليد العبشمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">قال ابن السيرافي قال أبو سدرة الأسدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">قال ابن السيرافي قال الراجز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">قال ابن السيرافي قال الشاعر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">قال ابن السيرافي قالت الخنساء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">قال ابن السيرافي قال حبر بن عبد الرحمن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">قال ابن السيرافي قال جرير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">قال ابن السيرافي قال عمرو بن معد يكرب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">قال ابن السيرافي قال شقيق بن جزء بن رياح الباهلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">قال ابن السيرافي قال العجير السلولي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">قال ابن السيرافي قال عامر بن جوين الطائي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">قال ابن السيرافي قال الشماخ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">قال ابن السيرافي قالت ليلى الأخيلية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">قال ابن السيرافي قال حميد بن ثور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">قال ابن السيرافي قال حريث بن جبلة العذري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">قال ابن السيرافي قال عمرو بن قميئة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">قال ابن السيرافي قال ضابئ بن الحارث البرجمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">قال ابن السيرافي قال شاعر من همدان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">قال ابن السيرافي قال الشاعر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">قال ابن السيرافي قال الراجز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">قال ابن السيرافي قال رجل من خثعم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">قال ابن السيرافي قال جرير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">قال ابن السيرافي قال الشاعر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">قال ابن السيرافي قال الشماخ ms34</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">قال ابن السيرافي قال مضرس الأسدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">قال ابن السيرافي قال رؤبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">قال ابن السيرافي قال امرؤ القيس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">قال ابن السيرافي قال الفرزدق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">قال ابن السيرافي قال لبيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">قال ابن السيرافي قال قيس بن ذريح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">قال ابن السيرافي قال العجير السلولي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">قال ابن السيرافي قالت الخنساء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">قال ابن السيرافي قال حسان بن ثابت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">قال ابن السيرافي قال زيد الخيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">قال السيرافي قال أبو الخثارم البجلي - في منافرة بجيلة وكلب، فتحاكموا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">قال ابن السيرافي قال ضرار بن الأزور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">قال ابن السيرافي قال قيس بن الخطيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">قال ابن السيرافي قال حسان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">قال ابن السيرافي قال العجير السلولي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">قال ابن السيرافي قال الكلحبة واسمه هبيرة بن عبد الله من بني عرين بن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">قال ابن السيرافي قال رؤبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">قال ابن السيرافي قال عتر بن دجاجة، وربما وقع في النسخ عنز بن دجاجة بن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">قال ابن السيرافي قال سعد بن المتنحر وهو جاهلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">باب إن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">قال ابن السيرافي قال دجاجة بن عبد القيس في باب إن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">قال ابن السيرافي قال الأخزم بن قارب الطائي، ويقال المقعد بن عمرو</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">قال ms58 ابن السيرافي قال يزيد بن سنان بن أبي حارثة المري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">قال ابن السيرافي قال الحطم القيسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">قال ابن السيرافي قال نصيب الأسود - ونصيب هذا ليس بنصيب الأسود المرواني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">قال ابن السيرافي قال عوف بن عطية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">قال ابن السيرافي قال الأغلب العجلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">قال ابن السيرافي قالت ليلى الأخيلية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">قال ابن السيرافي قال الشاعر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">قال ابن السيرافي قال الشماخ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">قال ابن السيرافي قال سيبويه في الجمع المكسر، قال حكيم بن معية الربعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">قال ابن السيرافي قال زبان بن سيار الفزاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">قال ابن السيرافي قال السليك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">قال ابن السيرافي قال الراجز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">قال ابن السيرافي قال عمرو بن العاص في يوم صفين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">قال ابن السيرافي قال مزاحم العقيلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">قال ابن السيرافي قال الجعدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">قال ابن السيرافي قال جرير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">قال ابن السيرافي قال المرار الفقعسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">قال ابن السيرافي قال حصين بن يزيد الحارثي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">قال ابن السيرافي قال ذو الرمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">قال ابن السيرافي قال طفيل الغنوي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">قال ابن السيرافي قال النجاشي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">قال ابن السيرافي قال شريح بن عمران من بني قريظة، ويقال إن الشعر لمالك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">قال ابن السيرافي قال دريد بن الصمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">قال ابن السيرافي قال ابن مقبل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">قال ابن السيرافي في قول النابغة الجعدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">قال ابن السيرافي قال جندل الطهوي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">قال ابن السيرافي قال مقاس العائذي، واسمه النعمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">قال ابن السيرافي قال رؤبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">قال ابن السيرافي قال أبو ثروان، ويروى للمعلوط ابن بدل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">قال ابن السيرافي قال العجاج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">قال ابن السيرافي قال الملبد بن حرملة من بني أبي ربيعة بن ذهل بن شيبان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">قال ابن السيرافي قال ابن الزبير الأسدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">قال ابن السيرافي قال الأغلب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">قال ابن السيرافي قال الشاعر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">قال ابن السيرافي في تفسير قوله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">قال ابن السيرافي قال مالك بن الريب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">قال ابن السيرافي قال أبو محجن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">قال ابن السيرافي قال سالم بن دارة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">قال ابن السيرافي قال الأشهب بن رميلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">قال ابن السيرافي قال حضرمي بن عامر بن مجمع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">قال ابن السيرافي قال الأخطل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">قال ابن السيرافي قال فروة بن مسيك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">قال ابن السيرافي قال النابغة الجعدي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">قال ابن السيرافي قال الأعشى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">قال ابن السيرافي قال معاوية بن مالك بن جعفر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">قال ابن السيرافي قال رؤبة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">قال ابن السيرافي قال خداش بن زهير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head118">قال ابن السيرافي قال زياد بن واصل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head119">آخر نسخة الأصل، وهي التي رمزت إليها ب أ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head120">وآخر نسخة البغدادي، وهي التي رمزت إليها ب ب</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 113849</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Aswad Ghundijani</label><label>tags: CENT0500 :: _ADAB :: _BALAGHA :: _QISAS :: _TARAIF :: GAL@period-classical :: GAL@literature-islamic :: GAL@0750-1000CE :: GAL@literature-arabic :: GAL@philology :: Shamela@الأدب والبلاغة - مرقم آليا</label><label>url: https://raw.githubusercontent.com/OpenITI/0450AH/master/data/0430AswadGhundijani/0430AswadGhundijani.FarhatAdib/0430AswadGhundijani.FarhatAdib.Shamela0000640-ara1</label><label>tok_length: 28199</label><label>status: sec</label><label>id: Shamela0000640</label><label>ed_info: </label><label>title_lat: Farhat Adib</label><label>title_ar: فرحة الأديب في الرد على ابن السيرافي شرح أبيات سيبويه (يتعقب المؤلف على ابن السيرافي (المتوفى: 368 هـ) , في شرحه لبعض أبيات كتاب سيبويه (المتوفى: 180 هـ))</label><label>book: 0430AswadGhundijani.FarhatAdib</label><label>author_lat: Aswad Ghundijani</label><label>author_ar: أبو محمد الحسن بن أحمد الأعرابي الملقب بالأسود الغندجاني (المتوفى: نحو 430هـ)</label><label>date: 0430</label><label>versionUri: 0430AswadGhundijani.FarhatAdib.Shamela0000640-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "001", "002", "003", "004", "005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
