<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">CHECK [شمائل النبوة للقفال]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">AUTO المقدمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">AUTO ونبدأ بذكر نسب الله صلى الله عليه وسلم، ومبلغ سنه، كما قدمنا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">AUTO وهذا باب في ذكر تاريخ مولد رسول الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">AUTO ذكر الخبر في تاريخ مبعث رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">AUTO ذكر الخبر في مدة مقام رسول الله صلى الله عليه وسلم بمكة بعدما نبيء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">AUTO ذكر مدة مقام رسول الله صلى الله عليه وسلم بالمدينة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">AUTO ذكر تاريخ وفاة رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">AUTO وهذه أبواب في ذكر صفات النبي عليه السلام في [بدنه]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">AUTO في وصف قامة رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">AUTO ذكر أخبار في لون رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">AUTO ذكر أخبار في شعر رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">AUTO ومما روي في شيب رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">AUTO ومما روي في عدد الشعرات البيض من رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">AUTO ومما روي في مواضع الشيب من رسول الله صلى الله عليه وسلم</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head15">AUTO - وممن قال: لم يكن يخضب، وإنما كان يغسله بالحناء والسدر:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head16">AUTO - وممن روى أنه كان يخضب:</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">AUTO باب صفة خلقة رأس رسول الله صلى الله عليه وسلم وحسنه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">AUTO باب صفة خلقة وجهه وحسنه صلى الله عليه [وسلم] ويدخل فيه صفة عرقه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">AUTO باب ذكر صفة جبين النبي عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">AUTO ذكر صفة جاجبيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">AUTO ذكر صفة عينيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">AUTO ذكر الخبر في صفة أنفه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">AUTO ذكر ms049 الخبر في صفة فمه وأسنانه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">AUTO ومما روي في طيب نكهته صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">AUTO وفي صفة خده صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">AUTO وفي وصف أذنيه عليه الصلاة والسلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">AUTO في صفة لحيته صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">AUTO في صفة عنقه صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">AUTO في صفة صدره وبطنه صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">AUTO في صفة يديه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">AUTO في صفة كتفيه ومنكبيه وظهره صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">AUTO في صفة إبطه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">AUTO في صفة ساقه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">AUTO في صفة قدميه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">AUTO في صفة منظر رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">AUTO في ذكر ما كان النبي صلى الله عليه وسلم يلبسه من أنواع الثياب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">AUTO باب في النعال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">AUTO ذكر آداب في اللباس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">AUTO باب في الخواتيم</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head40">AUTO - وممن روى التختم في اليسار</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">AUTO باب في التطيب ذكر أنواع الطيب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">AUTO أخبار شتى في الطيب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">AUTO في الأصباغ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">AUTO ذكر أخبار تدخل في جملة التنظف والزينة</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head45">AUTO منها: السواك.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head46">AUTO وفي الترجيل:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head47">AUTO وفي أخذ الشارب:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head48">AUTO وفي الادهان:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head49">AUTO وفي الكحل:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head50">AUTO في الحجامة:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head51">AUTO النظر في المرآة:</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">AUTO ذكر أخبار في فرش رسول الله صلى الله عليه وسلم وفرشه ومتاع منزله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">AUTO أخبار في المتاع المصور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">AUTO فيما يصلي عليه من متاع البيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">AUTO أخبار في أواني البيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">AUTO أبواب الطعام والشراب أصناف المأكولات</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head57">AUTO في الفواكه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head58">AUTO في البقول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head59">AUTO في الزنجبيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head60">AUTO في آداب الأكل</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">AUTO أبواب في الشراب</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head62">AUTO مما كان يشربه رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head63">AUTO كراهية النفخ في الشرب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head64">AUTO في النبيذ</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">AUTO ذكر أخبار تدخل في أمور السلطانية</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head66">AUTO الكتاب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head67">AUTO صاحب الخاتم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head68">AUTO صاحب السواك والوسادة والنعلين والمطهرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head69">AUTO في الأعوان والحرس وأصحاب الثوب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head70">AUTO حاملو الرايات والألوية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head71">AUTO في أسماء الموالي والمماليك</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">AUTO ذكر أخبار في الأسلحة ونحوها من الآلات</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head73">AUTO من ذلك: المراكب والخيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head74">AUTO - البغل:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head75">AUTO - الحمار:</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head76">AUTO - السيف وغيره من السلاح:</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">AUTO ذكر خبر في أسماء بعض ما تقدم ذكره، رويت مجموعة فكرهنا تقطيعها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">AUTO ذكر خبر آخر يشتمل على أشياء كثيرة مما تقدم ذكره وعلى أشياء من</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head79">AUTO في الرايات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head80">AUTO في الألوية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head81">AUTO في بعض آلات السلطان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head82">AUTO في القباب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head83">AUTO أخبار تدخل في سير السلطان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head84">AUTO أخبار في أمور الحرب</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">AUTO ذكر أخبار في تغيير الأسماء القبيحة</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head86">AUTO ومما يدخل في جملة هذا الباب تغيير الألفاظ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head87">AUTO ومما روي في التفاؤل بالاسم الحسن</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">AUTO في ذكر شعراء رسول الله صلى الله عليه وسلم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">AUTO ذكر أخبار في أمور السفر وآدابه</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 202528</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Abu Bakr Shashi</label><label>tags:  :: ShamAY@السيرة والشمائل</label><label>url: https://raw.githubusercontent.com/OpenITI/0525AH/master/data/0507AbuBakrShashi/0507AbuBakrShashi.ShamailNubuwwa/0507AbuBakrShashi.ShamailNubuwwa.ShamAY0038637-ara1</label><label>tok_length: 53812</label><label>status: pri</label><label>id: ShamAY0038637</label><label>ed_info: أبو عبد الله عمر بن أحمد بن علي الأحمد آل عباس :: الأولى، 1436ه - 2015م :: دار التوحيد للنشر - الرياض</label><label>title_lat: Shamail Nubuwwa</label><label>title_ar: شمائل النبوة :: شمائل النبوة ¶ المؤلف: أبو بكر محمد بن علي القفال الشاشي ¶ المتوفى: 365ه ¶ المحقق: أبو عبد الله عمر بن أحمد بن علي الأحمد آل عباس ¶ الناشر: دار التوحيد للنشر - الرياض ¶ الطبعة: الأولى، 1436ه - 2015م ¶ عدد الأجزاء: 1 ¶ مصدر الكتاب: مكتبة أحمد الخضري ¶ تاريخ آخر تعديل: 18 - 10 - 2016م :: شمائل النبوة للقفال</label><label>book: 0507AbuBakrShashi.ShamailNubuwwa</label><label>author_lat: Abu Bakr Shashi</label><label>author_ar: محمد بن أحمد بن الحسين بن عمر، أبو بكر الشاشي القفال الفارقي، الملقب فخر الإسلام، المستظهري الشافعي :: أبو بكر محمد بن علي القفال الشاشي :: الشاشي، أبو بكر</label><label>date: 0507</label><label>versionUri: 0507AbuBakrShashi.ShamailNubuwwa.ShamAY0038637-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["001", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "099", "100", "100", "101", "102", "102", "102", "103", "104", "104", "106", "106", "107", "107", "108", "108", "109", "109", "110", "111", "112", "113", "114", "114", "115", "115", "116", "116", "117", "118", "118", "119", "120", "121", "121", "122", "124", "125", "125", "126", "127", "127", "128", "129", "130", "132", "133", "134", "136", "137", "137", "138", "138", "138", "139", "140", "141", "141", "141", "143", "143", "143", "144", "144", "144", "144", "145", "145", "145", "147", "147", "147", "148", "148", "148", "149", "149", "150", "150", "151", "152", "152", "152", "154", "154", "154", "154", "155", "155", "156", "156", "157", "157", "158", "158", "158", "159", "159", "160", "160", "161", "161", "162", "162", "163", "163", "164", "164", "164", "165", "166", "167", "168", "168", "168", "168", "169", "169", "170", "170", "170", "171", "171", "172", "172", "172", "173", "173", "174", "175", "176", "177", "178", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "190", "192", "192", "193", "193", "193", "194", "194", "194", "195", "196", "197", "197", "197", "198", "198", "198", "199", "200", "201", "201", "202", "203", "203", "203", "205", "207", "207", "208", "208", "208", "209", "210", "210", "211", "211", "211", "212", "212", "213", "213", "214", "214", "215", "215", "215", "216", "216", "217", "218", "219", "219", "220", "220", "221", "221", "221", "222", "222", "222", "223", "223", "224", "224", "225", "225", "226", "226", "227", "227", "228", "228", "229", "229", "230", "230", "231", "231", "232", "232", "232", "233", "234", "234", "235", "235", "235", "236", "236", "237", "237", "237", "238", "239", "239", "239", "240", "240", "240", "241", "241", "242", "242", "242", "242", "243", "243", "243", "244", "244", "244", "245", "245", "245", "246", "247", "247", "247", "247", "248", "248", "248", "249", "250", "250", "250", "250", "251", "251", "251", "252", "253", "254", "254", "255", "256", "256", "257", "257", "258", "258", "259", "259", "259", "260", "260", "261", "261", "262", "262", "262", "263", "263", "263", "264", "265", "265", "265", "266", "267", "267", "268", "268", "268", "269", "270", "270", "270", "271", "271", "271", "272", "272", "272", "273", "273", "274", "274", "274", "274", "275", "276", "276", "277", "277", "278", "278", "278", "279", "279", "280", "280", "280", "280", "281", "281", "281", "282", "282", "282", "283", "283", "283", "284", "284", "285", "285", "286", "286", "286", "286", "287", "287", "287", "288", "288", "289", "289", "290", "290", "291", "291", "293", "293", "293", "294", "294", "295", "295", "295", "296", "296", "296", "298", "298", "298", "299", "299", "299", "300", "300", "301", "301", "302", "302", "302", "302", "304", "304", "304", "305", "305", "305", "306", "306", "307", "307", "307", "308", "308", "309", "410", "309", "310", "310", "310", "311", "311", "311", "312", "312", "312", "312", "313", "313", "314", "314", "314", "315", "315", "315", "316", "316", "316", "316", "318", "318", "319", "319", "319", "319", "320", "320", "320", "320", "321", "321", "321", "322", "322", "322", "322", "323", "323", "323", "324", "324", "324", "324", "326", "326", "327", "327", "328", "328", "329", "329", "330", "331", "331", "331", "332", "332", "332", "333", "333", "333", "334", "334", "334", "335", "335", "335", "335", "336", "336", "336", "337", "337", "337", "338", "338", "338", "339", "339", "340", "340", "341", "341", "342", "342", "342", "342", "343", "343", "343", "344", "344", "345", "345", "345", "346", "346", "347", "347", "347", "349", "349", "349", "350", "350", "350", "351", "351", "352", "352", "352", "353", "353", "353", "354", "355", "356", "356", "356", "356", "357", "357", "357", "358", "358", "360", "361", "361", "361", "362", "363", "363", "363", "364", "364", "364", "364", "365", "365", "366", "366", "366", "367", "367", "368", "368", "369", "369", "369", "369", "369", "370", "370", "370", "371", "371", "371", "373", "373", "374", "374", "375", "375", "375", "377", "377", "377", "378", "378", "379", "381", "382", "383", "383", "383", "384", "385", "385", "386", "386", "387", "387", "387", "388", "388", "388", "389", "389", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "400", "401", "401", "402", "404", "405", "405", "406", "406", "407", "408", "408", "409", "410", "410", "411", "411", "412", "412", "413", "413", "413", "414", "414", "415", "415", "416", "417", "417", "418", "418", "419", "420", "420", "421", "422", "422", "422", "423", "423", "423", "424", "425", "425", "425", "426", "426", "426", "427", "427", "427", "428", "428", "429", "429", "430", "430", "430", "432", "432", "432", "433", "433", "433", "434", "434", "434", "436", "436", "437", "437", "437", "438", "438", "438", "439", "439", "439", "439", "440", "440", "441", "441", "441", "442", "442", "443", "443", "443", "444", "444", "445", "445", "446", "446", "446", "447", "447", "448", "448", "449", "449", "451", "451", "451", "451", "452", "453", "453", "454", "454", "455", "456", "456", "456", "457", "457", "457", "458", "458", "458", "459", "459", "460", "461", "462", "462", "462", "463", "464", "464", "464", "464", "465", "465", "466", "466", "467", "467", "468", "468", "469", "470", "470", "471", "471", "471", "472", "472", "472", "473", "473", "473", "474", "474", "475", "475", "475", "476", "476", "476", "476", "477", "477", "477", "478", "478", "169", "189", "222", "224", "226", "244", "282", "283", "293", "351"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
