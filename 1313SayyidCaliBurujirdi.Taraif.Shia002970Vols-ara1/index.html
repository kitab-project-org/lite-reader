<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0"></a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">المقدمة </a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head2">أما الأمر الأول في تعريف علم الرجال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head3">الثاني ففي الإشارة إلى الرموز المصطلحة في هذا الكتاب</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">الباب الأول ففي ذكر الطبقات من الرجال ومشايخ الإجازة ورواة الأحاديث </a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head5">الطبقة الأولى في ذكر المشايخ والمعاصرين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head6">الطبقة الثانية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head7">الطبقة الثالثة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head8">الطبقة الرابعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head9">الطبقة الخامسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head10">الطبقة السادسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head11">الطبقة السابعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head12">الطبقة الثامنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head13">الطبقة التاسعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head14">الطبقة العاشرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head15">الطبقة الحادية عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head16">الطبقة الثانية عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head17">الطبقة الثالثة عشر </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head18">الطبقة الرابعة عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head19">الطبقة الخامسة عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head20">الطبقة السادسة عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head21">الطبقة السابعة عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head22">الطبقة الثامنة عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head23">الطبقة التاسعة عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head24">الطبقة العشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head25">الطبقة الحادية والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head26">الطبقة الثانية والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head27">الطبقة الثالثة والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head28">الطبقة الرابعة والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head29">الطبقة الخامسة والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="01.html#head30">الطبقة السادسة والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head0">الطبقة السابعة والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head1">الطبقة الثامنة والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head2">الطبقة التاسعة والعشرون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head3">الطبقة الثلاثون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head4">الطبقة الحادية والثلاثون</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head5">الباب الثاني في الألقاب النسبية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head6">الباب الثالث في الألقاب الغير النسبية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head7">الباب الرابع في الأسماء والكنى وألقاب الرسول والأئمة مما يتعلق بأحوالهم عليهم السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head8">الباب الخامس في بيان المذاهب والفرق المختلفة بعد وفاة النبي صلى الله عليه وآله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head9">الباب السادس في بيان أقسام الحديث عند المتأخرين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head10">الباب السابع في ذكر ما وقع في الرجال من أسباب المدح والقوة وقبول الرواية وما وقع من أسباب الذم وضعف الرواية </a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head11">المطلب الأول في أسباب التوثيق والمدح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head12">المطلب الثاني في ذكر ما وقع في الرجال من أسباب الذم وامارات الطعن ورد الرواية وضعف الحديث</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head13">الباب الثامن سبب اختلاف المذاهب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head14">الباب التاسع في ذكر فوائد نافعة ذكرها أئمة الرجال، الشيخ والعلامة والميرزا وغيرهم.</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head15">الفائدة الأولى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head16">الفائدة الثانية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head17">الفائدة الثالثة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head18">الفائدة الرابعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head19">الفائدة الخامسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head20">الفائدة السادسة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head21">الفائدة السابعة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head22">الفائدة الثامنة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head23">الفائدة التاسعة.</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head24">الفائدة العاشرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head25">الفائدة الحادية عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head26">الفائدة الثانية عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head27">الفائدة الثالثة عشر</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head28">الباب العاشر في ذكر طائفة من الرجال والمشايخ الذين يليق بيان حالهم مفصلا</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head29">ترجمة السيد محمد شفيع الجابلق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head30">ترجمة الآخوند محمد حسن التوسركاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head31">ترجمة الشيخ ملا علي الكني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head32">ترجمة السيد حجة الاسلام الشفتي </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head33">ترجمه السيد مهدي بحر العلوم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head34">ترجمة الوحيد البهبهاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head35">ترجمة الشيخ سليمان البحراني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head36">ترجمة العلامة محمد باقر المجلسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head37">ترجمة العلامة محمد تقي المجلسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head38">ترجمة الشيخ البهائي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head39">ترجمة صاحب المعالم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head40">ترجمة المقدس الأردبيلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head41">ترجمة أبي الدنيا المعمر المغربي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head42">ترجمة الشهيد الثاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head43">ترجمة المحقق الثاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head44">ترجمة الشيخ نور الدين الميسي العاملي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head45">ترجمة الشيخ محمد المؤذن الجزيني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head46">ترجمة الشيخ ابن فهد الحلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head47">ترجمة الشيخ أحمد بن المتوج البحراني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head48">ترجمة الشهيد الأول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head49">ترجمة الشيخ فخر الدين الحلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head50">ترجمة الشيخ قطب الدين الرازي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head51">ترجمة العلامة الحلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head52">ترجمة المحقق الحلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head53">ترجمة الخواجة نصير الدين الطوسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head54">ترجمة الشيخ ميثم البحراني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head55">ترجمة الشيخ نجيب الدين بن نما</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head56">ترجمه الشيخ ابن إدريس الحلي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head57">ترجمة أبي حامد الغزالي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head58">ترجمة شيخ الطائفة أبي جعفر الطوسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head59">ترجمة السيد الشريف المرتضى </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head60">ترجمة الشريف الرضي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head61">ترجمة الشيخ المفيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head62">ترجمة الشيخ ابن سينا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head63">ترجمه الشيخ أبي جعفر الصدوق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head64">ترجمة الشيخ أبي علي الإسكافي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head65">ترجمة الشيخ ابن أبي عقيل العماني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head66">ترجمة الشيخ علي بن بابويه القمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head67">ترجمة الشيخ أبي جعفر الكليني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head68">ترجمة محمد بن إسماعيل </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head69">ترجمة أحمد بن محمد بن عيسى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head70">ترجمة محمد بن أبي عمير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head71">ترجمة السيد عبد العظيم الحسني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head72">ترجمة جميل بن دراج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head73">ترجمة مؤمن الطاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head74">ترجمة هشام بن الحكم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head75">ترجمة هشام بن سالم </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head76">ترجمة زرارة بن أعين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head77">ترجمة أبي حمزة الثمالي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head78">ترجمة المختار الثقفي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head79">ترجمة أويس القرني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head80">ترجمة سلمان الفارسي</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head81">خاتمة</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head82">الأول (في ذكر مشائخ هذا الفن)</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head83">الثاني في طرق الإجازات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head84">الثالث في ذكر نبذة من أحوال المؤلف الفقير كثر الجرم والتقصير</a>
</li>
</ul>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 1293670</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Sayyid Cali Burujirdi</label><label>tags: COMPLETED :: CENT1400 :: PPE :: SHC :: _HADITH :: _SHICI :: _TARAJIM :: GAL@nodata :: Shia@أهم مصادر رجال الحديث عند الشيعة</label><label>url: https://raw.githubusercontent.com/OpenITI/1325AH/master/data/1313SayyidCaliBurujirdi/1313SayyidCaliBurujirdi.Taraif/1313SayyidCaliBurujirdi.Taraif.Shia002970Vols-ara1.completed</label><label>tok_length: 316462</label><label>status: pri</label><label>id: Shia002970Vols</label><label>ed_info: السيد مهدي الرجائي :: 1410 :: http://www.worldcat.org/oclc/27080532</label><label>title_lat: Taraif</label><label>title_ar: طرائف المقال</label><label>book: 1313SayyidCaliBurujirdi.Taraif</label><label>author_lat: Sayyid Cali Burujirdi</label><label>author_ar: السيد علي البروجردي</label><label>date: 1313</label><label>versionUri: 1313SayyidCaliBurujirdi.Taraif.Shia002970Vols-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["001", "003", "004", "005", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "023", "024", "025", "026", "027", "028", "029", "031", "032", "033", "034", "035", "036", "037", "038", "039", "041", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "386", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "462", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "474", "475", "476", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488", "489", "490", "491", "492", "493", "494", "495", "496", "497", "498", "499", "500", "501", "502", "503", "504", "505", "506", "507", "508", "509", "510", "511", "512", "513", "514", "515", "516", "517", "518", "519", "520", "521", "522", "523", "524", "525", "526", "527", "528", "529", "530", "531", "532", "533", "534", "535", "536", "537", "538", "539", "540", "541", "542", "543", "544", "545", "546", "547", "548", "549", "550", "551", "552", "553", "554", "555", "556", "557", "558", "559", "560", "561", "562", "563", "564", "565", "566", "567", "568", "569", "570", "571", "572", "573", "574", "575", "576", "577", "578", "579", "580", "581", "582", "583", "584", "585", "586", "587", "588", "589", "590", "591", "592", "593", "594", "595", "596", "597", "598", "599", "600", "601", "602", "603", "604", "605", "606", "607", "608", "609", "610", "611", "612", "613", "614", "615", "616", "617", "618", "619", "620", "621", "622", "623", "624", "625", "626", "627", "628", "629", "630", "631", "632", "633", "634", "635", "636", "637", "638", "639", "640", "641", "642", "643", "644", "645", "646", "647", "648", "649", "650", "651", "652", "653"], "02": ["001", "003", "004", "005", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "056", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "153", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "176", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "205", "207", "208", "209", "210", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "225", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "247", "249", "250", "251", "252", "253", "254", "255", "257", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "305", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "367", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385", "386", "387", "388", "389", "390", "391", "392", "393", "394", "395", "396", "397", "398", "399", "400", "401", "402", "403", "404", "405", "406", "407", "408", "409", "410", "411", "412", "413", "414", "415", "416", "417", "418", "419", "420", "421", "422", "423", "424", "425", "426", "427", "428", "429", "430", "431", "432", "433", "434", "435", "436", "437", "438", "439", "440", "441", "442", "443", "444", "445", "446", "447", "448", "449", "450", "451", "452", "453", "454", "455", "456", "457", "458", "459", "460", "461", "462", "463", "464", "465", "466", "467", "468", "469", "470", "471", "472", "473", "474", "475", "476", "477", "478", "479", "480", "481", "482", "483", "484", "485", "486", "487", "488", "489", "490", "491", "492", "493", "494", "495", "496", "497", "498", "499", "500", "501", "502", "503", "504", "505", "506", "507", "508", "509", "510", "511", "512", "513", "514", "515", "516", "517", "518", "519", "520", "521", "522", "523", "524", "525", "526", "527", "528", "529", "530", "531", "532", "533", "534", "535", "536", "537", "538", "539", "540", "541", "542", "543", "544", "545", "546", "547", "548", "549", "550", "551", "552", "553", "554", "555", "556", "557", "558", "559", "560", "561", "562", "563", "564", "565", "566", "567", "568", "569", "570", "571", "572", "573", "574", "575", "576", "577", "578", "579", "580", "581", "582", "583", "584", "585", "586", "587", "588", "589", "590", "591", "592", "593", "594", "595", "596", "597", "598", "599", "600", "601", "602", "603", "604", "605", "606", "607", "608", "609", "610", "611", "612", "613", "614", "615", "616", "617", "618", "619", "620", "621", "622", "623", "624", "625", "626", "627", "628", "629", "630", "631", "632", "633", "634", "635", "636", "637", "638", "639", "640", "641", "642", "643", "644", "645", "646", "647", "648", "649", "650", "651", "652", "653", "654", "655", "656", "657", "658", "659", "660", "661", "662", "663", "664", "665", "666", "667", "668", "669", "670", "671", "672", "673", "674", "675", "676", "677", "678", "679", "680", "681", "682", "683"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
