<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">CHECK [مقدمة]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">CHECK 1 - الباب الأول فيما يجب على المحتسب من شروط الحسبة ولزوم مستحباتها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">CHECK 2 - الباب الثاني في النظر في الأسواق والطرقات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">CHECK 3 - الباب الثالث في الخبازين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">CHECK 4 - الباب الرابع في السقائين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">CHECK 5 - الباب الخامس في السوقة وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">CHECK 6 - الباب السادس في جزاري الضأن، والمعز، والإبل، والقصابين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">CHECK 7 - الباب السابع في الشوائين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">CHECK 8 - الباب الثامن في الهرائسيين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">CHECK 9 - الباب التاسع في الزلبانيين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">CHECK 11 - الباب الحادي عشر في الطباخين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">CHECK 10 - الباب العاشر في الرواسين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">CHECK 12 - الباب الثاني عشر في الحلوانيين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">CHECK 13 - الباب الثالث عشر في هرايس التمر ومطبوخ العدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">CHECK 15 - الباب الخامس عشر في السماكين والسمك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">CHECK 14 - الباب الرابع عشر في الباقلانيين، أي الفوالين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">CHECK 16 - الباب السادس عشر في باعة الصير والبورى والملح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">CHECK 17 - الباب السابع عشر في قلائي السمك وسمك الطاجن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">CHECK 19 - الباب التاسع عشر في الطحانين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">CHECK 18 - الباب الثامن عشر في صيادي الطيور والعصافير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">CHECK 20 - الباب العشرون في الفرانين وصبيانهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">CHECK 23 - الباب الثالث والعشرون في الجبس والجباسين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">CHECK 22 - الباب الثاني والعشرون في القصب والقصابين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">CHECK 21 - الباب الحادي والعشرون في الحطب والحطابين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">CHECK 25 - الباب الخامس والعشرون في الحمامات، وقوامها، وذكر منافعها ومضارها، وما يلزم حراسها، والبلانين، والمزينين، والوقادين، وباعة النورة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">CHECK 24 - الباب الرابع والعشرون في الجير والجيارين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">CHECK 26 - الباب السادس والعشرون في الغزالين والغزل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">CHECK 29 - الباب التاسع والعشرون في القطانين والندافين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">CHECK 28 - الباب الثامن والعشرون في الحريريين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">CHECK 27 - الباب السابع والعشرون في الكتاتينيين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">CHECK 31 - الباب الحادي والثلاثون في الخياطة ms32 والخياطين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">CHECK 30 - الباب الثلاثون في القلانسيين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">CHECK 33 - الباب الثالث والثلاثون في البز والبزازين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">CHECK 32 - الباب الثاني والثلاثون في سماسرة البز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">CHECK 35 - الباب الخامس والثلاثون في القصارة والقصارين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">CHECK 34 - الباب الرابع والثلاثون في الغسالين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">CHECK 38 - الباب الثامن والثلاثون في الصيادلة والعقاقير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">CHECK 37 - الباب السابع والثلاثون في الرفائين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">CHECK 36 - الباب السادس والثلاثون في المطرزين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">CHECK 39 - الباب التاسع والثلاثون في الأشربة والمعاجين وما يضاف إلى ذلك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">CHECK 40 - الباب الأربعون في العطر والعطارين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">CHECK 41 - الباب الحادي والأربعون في الصيارف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">CHECK 42 - الباب الثاني والأربعون في الصاغة والصياغة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">CHECK 43 - الباب الثالث والأربعون في الأطباء والفصادين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">CHECK 45 - الباب الخامس والأربعون في المجبرين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">CHECK 44 - الباب الرابع والأربعون في الكحالين والكحل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">CHECK 47 - الباب السابع والأربعون في البياطرة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">CHECK 46 - الباب السادس والأربعون في الجرائحيين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">CHECK 48 - الباب الثامن والأربعون في صباغي الحرير والغزل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">CHECK 51 - الباب الحادي والخمسون في عمل الأسفاط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">CHECK 50 - الباب الخمسون في الأساكفة صناع الأخفاف</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">CHECK 49 - الباب التاسع والأربعون ms53 في الخرازين صناع الشراك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">CHECK 53 - الباب الثالث والخمسون في الخياطين والعلافين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">CHECK 52 - الباب الثاني والخمسون في عمل البطط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">CHECK 56 - الباب السادس والخمسون في الزنهار وغشه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">CHECK 55 - الباب الخامس والخمسون في الحاكة والقزازين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">CHECK 54 - الباب الرابع والخمسون في صنعة الشرابات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">CHECK 59 - الباب التاسع والخمسون في الخشب وباعته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">CHECK 58 - الباب الثامن والخمسون في السماسم وبائعيه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">CHECK 57 - الباب السابع والخمسون في الأبزار والأزارين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">CHECK 62 - الباب الثاني والستون في المسامريين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">CHECK 61 - الباب الحادي والستون في الحدادين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">CHECK 60 - الباب الستون في الزفاتين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">CHECK 64 - الباب الرابع والستون في النجارين والبنائين والفعلة والنشارين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">CHECK 63 - الباب الثالث والستون في النحاسين وسباكي النحاس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">CHECK 65 - الباب الخامس والستون في نجاري الضبب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">CHECK 67 - الباب السابع والستون في النخاسين باعة العبيد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">CHECK 66 - الباب السادس والستون في نجاري المراكب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">CHECK 68 - الباب الثامن والستون في النخاسين باعة الدواب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">CHECK 71 - الباب الحادي والسبعون في تقديرات المراكب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">CHECK 70 - الباب السبعون في دلالي العقارات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">CHECK 69 - الباب التاسع والستون في الطوابين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">CHECK 74 - الباب الرابع والسبعون في الزجاجيين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">CHECK 73 - الباب الثالث والسبعون في شعابين البرام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">CHECK 72 - الباب الثاني والسبعون في باعة الفخار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">CHECK 75 - الباب الخامس والسبعون في معلمي الصبيان ومعلمات البنات</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">CHECK 77 - الباب السابع والسبعون في المكارية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">CHECK 76 - الباب السادس والسبعون في الدهانين وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">CHECK 79 - الباب التاسع والسبعون في كساحي السماد وحمالته</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">CHECK 78 - الباب الثامن والسبعون في النحاتين والمصولين في التراب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">CHECK 82 - الباب الثاني والثمانون في الوراقين والمبهرجين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head81">CHECK 81 - الباب الحادي والثمانون في حافري القبور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head82">CHECK 80 - الباب الثمانون في الغرابيل ومناخل الشعر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head83">CHECK 84 - الباب الرابع والثمانون في كتاب الشروط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head84">CHECK 83 - الباب الثالث والثمانون في من يكتب الرسائل على الطريق، والرقاع، والدروج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head85">CHECK 87 - الباب السابع والثمانون في إصلاح الجوامع والمساجد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head86">CHECK 86 - الباب السادس والثمانون في الميازيب ms69 ومضرتها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head87">CHECK 85 - الباب الخامس والثمانون في الوكلاء بأبواب القضاة وتدليسهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head88">CHECK 89 - الباب التاسع والثمانون في غسالى الموتى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head89">CHECK 88 - الباب الثامن والثمانون في قراء القرآن قدام الموتى</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head90">CHECK 91 - الباب الحادي والتسعون في طباخي الولائم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head91">CHECK 90 - الباب التسعون في المراصد والمراقب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head92">CHECK 94 - الباب الرابع والتسعون في معرفة مثاقيل الذهب وصنج الفضة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head93">CHECK 93 - الباب الثالث والتسعون في معرفة المكاييل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head94">CHECK 92 - الباب الثاني والتسعون في معرفة الموازين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head95">CHECK 95 - الباب الخامس والتسعون في معرفة الأرطال والقناطير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head96">CHECK 98 - الباب الثامن والتسعون في التبن والتبانين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head97">CHECK 97 - الباب السابع والتسعون في معاصير الزيت وغشهم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head98">CHECK 96 - الباب السادس والتسعون في معرفة الأقساط</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head99">CHECK 100 - الباب المائة في الأنماط وصناعتها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head100">CHECK 99 - الباب التاسع والتسعون في القرط والقراطين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head101">CHECK 101 - الباب الحادي والمائة في صناع الأخمرة والحرير والوقايا</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head102">CHECK 104 - الباب الرابع والمائة في اللبود واللبادين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head103">CHECK 103 - الباب الثالث والمائة في الخيزرانيين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head104">CHECK 102 - الباب الثاني والمائة في الحصر العبداني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head105">CHECK 107 - الباب السابع والمائة في الأبارين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head106">CHECK 106 - الباب السادس والمائة في الغضار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head107">CHECK 105 - الباب الخامس والمائة في الأرجوان وصناعه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head108">CHECK 110 - الباب العاشر والمائة في الروايا والقرب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head109">CHECK 109 - الباب التاسع والمائة في المحامل وصناعتها</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head110">CHECK 108 - الباب الثامن والمائة في الحلفاء وعدده ورسومه</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head111">CHECK 113 - الباب الثالث عشر والمائة في دباغ جلود البقر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head112">CHECK 112 - الباب الثاني عشر والمائة في دباغ ms80 الكيمخت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head113">CHECK 111 - الباب الحادي عشر والمائة في الدباغين</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head114">CHECK 114 - الباب الرابع عشر والمائة في أهل الذمة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head115">CHECK 115 - الباب الخامس عشر والمائة يشتمل على تفاصيل وجمل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head116">CHECK 116 - الباب السادس عشر والمائة في ترتيب التعزيز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head117">CHECK 117 - الباب السابع عشر والمائة في مجالس الحكام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head118">CHECK 118 - الباب الثامن عشر والمائة في مجالس الأمراء والولاة</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 115525</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibn Bassam Muhtasib</label><label>tags:  :: Sham@السياسة الشرعية والقضاء</label><label>url: https://raw.githubusercontent.com/OpenITI/0650AH/master/data/0626IbnBassamMuhtasib/0626IbnBassamMuhtasib.NihayatRutba/0626IbnBassamMuhtasib.NihayatRutba.Sham19Y0036097-ara1</label><label>tok_length: 25736</label><label>status: pri</label><label>id: Sham19Y0036097</label><label>ed_info: محمد حسن محمد حسن إسماعيل، أحمد فريد المزيدي :: الأولى، 1424 ه - 2003 م :: دار الكتب العلمية، بيروت - لبنان</label><label>title_lat: Nihayat Rutba</label><label>title_ar: نهاية الرتبة في طلب الحسبة لابن بسام :: نهاية الرتبة في طلب الحسبة</label><label>book: 0626IbnBassamMuhtasib.NihayatRutba</label><label>author_lat: Ibn Bassam Muhtasib</label><label>author_ar: ابن بسام المحتسب :: محمد بن أحمد ابن بسام المحتسب</label><label>date: 0626</label><label>versionUri: 0626IbnBassamMuhtasib.NihayatRutba.Sham19Y0036097-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["284", "285", "286", "287", "288", "289", "290", "291", "292", "293", "294", "295", "296", "297", "298", "299", "300", "301", "302", "303", "304", "305", "306", "307", "308", "309", "310", "311", "312", "313", "314", "315", "316", "317", "318", "319", "320", "321", "322", "323", "324", "325", "326", "327", "328", "329", "330", "331", "332", "333", "334", "335", "336", "337", "338", "339", "340", "341", "342", "343", "344", "345", "346", "347", "348", "349", "350", "351", "352", "353", "354", "355", "356", "357", "358", "359", "360", "361", "362", "363", "364", "365", "366", "367", "368", "369", "370", "371", "372", "373", "374", "375", "376", "377", "378", "379", "380", "381", "382", "383", "384", "385"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
