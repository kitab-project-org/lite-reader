<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">CHECK [مقدمة المصنف]</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">AUTO الباب الأول</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">AUTO الباب الثاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">AUTO الباب الثالث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">AUTO الباب الرابع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">AUTO الباب الخامس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">AUTO الباب السادس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">AUTO الباب السابع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">AUTO الباب الثامن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">AUTO الباب التاسع ms095</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head0">AUTO الباب العاشر</a>
<ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head1">AUTO آدم عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head2">AUTO نوح عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head3">AUTO يعقوب عليه السلام وهو إسرائيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head4">AUTO يوسف الصديق عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head5">AUTO موسى بن عمران عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head6">AUTO يوشع بن نون عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head7">AUTO داود عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head8">AUTO داود عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head9">AUTO داود عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head10">AUTO داود عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head11">AUTO سليمان بن داود عليهما السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head12">AUTO شعيبا عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head13">AUTO أرميا عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head14">AUTO زكريا عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head15">AUTO زكريا عليه السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head16">AUTO عيسى -عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head17">AUTO عيسى -عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head18">AUTO عيسى -عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head19">AUTO الخضر -عليه السلام-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head20">AUTO مريم الصديقة عليها السلام</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head21">AUTO المهدي الذي يكون في آخر الزمان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head22">AUTO عمر بن الخطاب -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head23">AUTO وأبو عبيدة ابن الجراح -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head24">AUTO وسعد بن أبي الزهري من بني زهرة -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head25">AUTO أبو الدرداء عويمر -رضي الله عنه-، وسعيد بن أبي زيد بن عمر بن نفيل</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head26">CHECK وعبد الله بن عمرو بن العاص السهيمي وأبوه وأخوه عبيد الله</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head27">AUTO وعبد الله بن عمر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head28">AUTO وعبد الله بن عمر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head29">AUTO ومعاذ بن جبل -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head30">AUTO وأبو ذر الغفاري -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head31">AUTO وسلمان الفارسي -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head32">AUTO خالد بن الوليد -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head33">AUTO وعمرو بن العاص السهمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head34">AUTO وعياض بن تميم -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head35">AUTO وعبد الله بن سلام أبو الحارث الإمام الحبر الإسرائيلي PageV02P026 # المشهود له بالجنة من خواص الصحابة. قال الواقدي: بلغنا أنه شهد فتح بيت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head36">AUTO يزيد بن أبي سفيان صخر بن حرب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head37">AUTO وأبو هريرة عبد الرحمن بن صخر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head38">AUTO وأبو مسعود الأنصاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head39">AUTO وأبو جمعة الأنصاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head40">AUTO ومرة بن كعب قال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head41">AUTO وعبادة بن الصامت</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head42">AUTO وشداد بن أوس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head43">AUTO وشداد بن أوس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head44">AUTO وأبو ريحانة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head45">AUTO والشريد بن سريد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head46">AUTO وابن الجدعاء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head47">AUTO وذو الأصابع التميمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head48">AUTO وأبو محمد النجاري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head49">AUTO ومحمود بن ربيع أبو نعيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head50">AUTO وسلام بن قيصر ms166</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head51">AUTO وصفية بنت حيي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head52">AUTO وعصيف بن الحارث</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head53">AUTO كعب الأحبار بن ماتع الحميري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head54">AUTO وأبو نعيم المؤذن</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head55">AUTO وأبو ms168 الزبير المؤذن الدارقطني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head56">AUTO وأبو سلام الحبشي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head57">AUTO وأبو جعفر الحرسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head58">AUTO وخالد بن معوان الكلاعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head59">AUTO وعبد الرحمن بن تميم الأشعري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head60">AUTO وأبو العوام مؤذن بيت المقدس</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head61">AUTO وعبد الملك بن مروان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head62">AUTO وعمر بن عبد العزيز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head63">AUTO ومحارب بن دثار السدوسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head64">AUTO وإبراهيم بن أبي عبلة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head65">AUTO وعبد الله بن فيروز</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head66">AUTO ومحمد بن واسع</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head67">AUTO ومالك بن دينار</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head68">AUTO والوليد بن عبد الملك بن مروان</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head69">AUTO وسليمان بن عبد الملك</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head70">AUTO وزياد بن أبي سودة مقدسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head71">AUTO ورابعة بنت إسماعيل العدوية</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head72">AUTO مقاتل بن سليمان المفسر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head73">AUTO وإبراهيم بن محمد بن يوسف الغرياني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head74">AUTO وسفيان الثوري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head75">AUTO وإبراهيم بن أدهم أبو إسحاق</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head76">AUTO وبقية بن الوليد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head77">AUTO والليث بن سعد بن عبد الرحمن الفهمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head78">AUTO وأبو جعفر المنصور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head79">AUTO والمهدي بن المنصور</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head80">AUTO ووكيع بن الجراح</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head81">AUTO والإمام محمد بن إدريس -رضي الله عنه-</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head82">AUTO والمؤمل بن إسماعيل البصري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head83">AUTO وذو النون المصري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head84">AUTO وصالح بن يوسف أبو شعيب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head85">AUTO وبشر بن الحارث الحافي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head86">AUTO وعبد الله بن عامر العامري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head87">AUTO وأبو عبد الله محمد بن محمد حفيف،</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head88">AUTO رقثم الزاهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head89">AUTO وأبو الحسن على بن محمد الجلال البغداي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head90">AUTO والإمام الحافظ أبو الفضل على بن أحمد بن محمد بن طاهر المقدسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head91">AUTO والإمام محمد الطرطوشي الأندلسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head92">AUTO والإمام أبو حامد محمد الغزالي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head93">AUTO وأبو الغنائم محمد بن على بن ميمون</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head94">AUTO وأبو عبد الله محمد الديباجي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head95">AUTO ومحمد بن حاتم بن محمد بن عبد الرحمن الطائي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head96">AUTO وأبو محمد عبد الله بن الوليد بن سعد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head97">AUTO وأبو بكر محمد بن أبي بكر الجرجاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head98">AUTO وأبو الحسن علي بن محمد المعافري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head99">AUTO وأبو سعد بن عبد الكريم بن محمد بن منصور بن السمعاني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head100">AUTO الملك الناصر صلاح الدين يوسف بن أيوب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l2" href="02.html#head101">AUTO والشيخ الزاهد أبو عبد الله القدسي محمد بن أحمد بن إبراهيم</a>
</li>
</ul>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head102">AUTO الباب الحادي عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head103">AUTO الباب الثاني عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head104">AUTO الباب الثالث عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head105">AUTO الباب الرابع عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head106">AUTO الباب الخامس عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head107">AUTO الباب السادس عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head108">AUTO الباب السابع عشر</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="02.html#head109">AUTO خاتمة</a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 352624</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Ibn Ahmad Shams Din Asyuti</label><label>tags:  :: Sham@البلدان والجغرافيا والرحلات</label><label>url: https://raw.githubusercontent.com/OpenITI/0900AH/master/data/0880IbnAhmadShamsDinAsyuti/0880IbnAhmadShamsDinAsyuti.IthafAkhissa/0880IbnAhmadShamsDinAsyuti.IthafAkhissa.Sham19Y0014045-ara1</label><label>tok_length: 83989</label><label>status: pri</label><label>id: Sham19Y0014045</label><label>ed_info: د/ أحمد رمضان أحمد :: 1982 - 1984 م :: الهيئة المصرية العامة للكتب</label><label>title_lat: Ithaf Akhissa</label><label>title_ar: إتحاف الأخصا بفضائل المسجد الأقصى</label><label>book: 0880IbnAhmadShamsDinAsyuti.IthafAkhissa</label><label>author_lat: Ibn Ahmad Shams Din Asyuti</label><label>author_ar: المنهاجي الأسيوطي :: شمس الدين محمد بن أحمد بن علي بن عبد الخالق، المنهاجي الأسيوطي ثم القاهري الشافعي (المتوفى: 880 ه)</label><label>date: 0880</label><label>versionUri: 0880IbnAhmadShamsDinAsyuti.IthafAkhissa.Sham19Y0014045-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["075", "076", "077", "078", "079", "080", "081", "082", "083", "084", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "108", "109", "110", "111", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "130", "131", "132", "133", "134", "135", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "155", "156", "157", "158", "159", "160", "161", "162", "163", "165", "166", "167", "168", "169", "170", "171", "172", "173", "174", "175", "177", "178", "179", "180", "181", "182", "183", "184", "185", "186", "187", "188", "189", "190", "191", "192", "193", "194", "195", "196", "197", "198", "199", "200", "201", "202", "203", "204", "205", "206", "207", "208", "209", "211", "212", "213", "214", "215", "216", "217", "218", "219", "220", "221", "222", "223", "224", "225", "226", "227", "228", "229", "230", "231", "232", "233", "234", "235", "236", "237", "238", "239", "240", "241", "242", "243", "244", "245", "246", "247", "248", "249", "250", "251", "252", "253", "254", "255", "256", "257", "258", "259", "260", "261", "262", "263", "264", "265", "266", "267", "268", "269", "270", "271", "272", "273", "274", "275", "276", "277", "278", "279", "280", "281", "282", "283", "284", "285", "286", "287", "288", "289"], "02": ["005", "006", "007", "008", "009", "010", "011", "012", "013", "014", "015", "016", "017", "018", "019", "020", "021", "022", "023", "024", "025", "026", "027", "028", "029", "030", "031", "032", "033", "034", "035", "036", "037", "038", "039", "040", "041", "042", "043", "044", "045", "046", "047", "048", "049", "050", "051", "052", "053", "054", "055", "057", "058", "059", "060", "061", "062", "063", "064", "065", "066", "067", "068", "069", "070", "071", "072", "073", "074", "075", "076", "077", "078", "079", "080", "081", "082", "083", "085", "086", "087", "088", "089", "090", "091", "092", "093", "094", "095", "096", "097", "098", "099", "100", "101", "102", "103", "104", "105", "106", "107", "109", "110", "111", "112", "113", "114", "115", "116", "117", "118", "119", "120", "121", "122", "123", "124", "125", "126", "127", "128", "129", "131", "132", "133", "134", "135", "136", "137", "138", "139", "140", "141", "142", "143", "144", "145", "146", "147", "148", "149", "150", "151", "152", "153", "154", "155", "156", "157", "158", "159", "160", "161", "162", "163", "164", "165", "166", "167", "168", "169", "170", "171", "172", "015", "016", "034", "098", "102", "149", "165"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
