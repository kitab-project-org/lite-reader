<html dir="rtl" lang="ar">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta http-equiv="Content-Security-Policy" https:=""/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script crossorigin="anonymous" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
<link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" rel="stylesheet"/>
<link href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri&amp;display=swap" rel="stylesheet"/>
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" rel="stylesheet"/>
<link crossorigin="anonymous" href="../css/stylev2.css" rel="stylesheet" type="text/css"/>
<script crossorigin="anonymous" src="../js/CollapsibleLists.js" type="application/javascript"></script>
<!-- <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/alpheios-components@latest/dist/style/style-components.min.css" /> -->
<script type="text/javascript">
</script>
</head>
<body>
<div id="loading">
<img alt="Loading..." id="loading-image" src="../img/spinner1.gif"/>
</div>
<div class="page-wrapper toggled" id="wrapper">
<div id="sidebar-wrapper">
<html><body><div class="card-header title-heading">فصول الكتاب</div><ul class="collapsibleList">
<li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head0">محمد بن علي بن محمود بن أحمد بن علي بن أحمد بن عثمان بن موسى أبو حامد بن أبي الحسن بن أبي الفتح بن أبي العباس بن أبي جعفر الشافعي المعروف بابن الصابوني، المنعوت بالجمال</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head1">1 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head2">محمد بن علي بن محمود بن طريف بن رسلان بن محفوظ بن طريف أبو عبد الله العسقلاني المحتد المصري الدار والمولد الدمشقي الوفاة والملحد الشافعي الفقيه الضرير</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head3">2 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head4">3 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head5">محمد بن علي بن محمود أبو عبد الله البغدادي الحربي السقاء المعروف بابن العجمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head6">4 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head7">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head8">5 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head9">محمد بن علي بن المقدم أبو عبد الله البصري المالكي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head10">محمد بن عمر بن الحسن بن عبد الله أبو عبد الله الفارسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head11">6 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head12">محمد بن عمر بن عبد السيد بن عسكر أبو عبد الله البغدادي الرصافي المقرئ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head13">7 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head14">محمد بن عمر بن محمد بن جعفر أبو عبيد الله الهمذاني الختلي المقرئ الزاهد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head15">8 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head16">9 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head17">10 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head18">محمد بن عمر بن محمد بن عبيد الله بن محمد بن عبيد الله بن عموية أبو جعفر بن أبي عبد الله القرشي التيمي البكري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head19">11 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head20">محمد بن عمر بن محمد بن علي أبو عبد الله الأنصاري الفاسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head21">12 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head22">محمد بن عمر بن محمد بن عمر بن الحسن بن عبد الله بن أحمد بن الميمون التوزي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head23">13 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head24">14 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head25">15 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head26">16 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head27">17 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head28">18 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head29">19 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head30">20 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head31">محمد بن عمر بن يوسف بن يحيى بن عمر بن كامل بن يوسف بن يحيى بن قابس بن حابس بن مالك بن عمرو بن معدي كرب أبو عبد الله الزبيري المقدسي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head32">21 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head33">محمد بن عمران بن عمر بن إبراهيم بن نزار أبو عبد الله الأنصاري الخزرجي الطبيب بن المحتد</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head34">..... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head35">محمد بن عيسى بن محمد بن مهدي بن عثمان أبو عبد الله الحميري بن المغربي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head36">22 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head37">محمد بن غانم بن صهبانة بن حمزة بن بلدح بن أبي الفرج بن أبي الليل بن يحيى بن عبد الله بن محمد ثعلب بن عبد الله الأكبر بن محمد بن موسى بن عبد الله بن موسى بن عبد الله بن الحسن المثنى بن الحسن بن علي بن أبي طالب أبو غانم بن أبي محمد الميانجي العلوي بن الحسني المكي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head38">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head39">محمد بن أبي الفتح بن أبي الحسن بن أحمد أبو عبد الله البغدادي المعروف بابن أبي الديني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head40">23 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head41">....... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head42">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head43">محمد بن الفرج بن محمد بن أبي ms13 عبد الله بن عبد الله بن المظفر بن رئيس الرؤساء</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head44">محمد بن الفضل بن عقيل بن عثمان بن عبد القاهر بن الربيع بن سليمان بن حمزة بن طاهر بن محمد بن الحسن بن جعفر بن إبراهيم بن صالح بن علي بن عبد الله بن عباس بن عبد المطلب بن هاشم أبو طالب القرشي الهاشمي العباسي الدمشقي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head45">24 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head46">25 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head47">26 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head48">محمد بن ms15 أبي القاسم بن محمد بن أبي بكر بن عمر أبو عبد الله القزويني</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head49">27 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head50">28 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head51">محمد بن أبي الكرم بن أبي الفتح أبو طالب البغدادي بن السراج</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head52">29 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head53">محمد بن محمد بن محمد بن محمد بن محمد بن عمروك، وهو عمرو بن أبي سعيد بن عبد الله بن الحسن بن القاسم بن علقمة بن النضر بن معاذ بن عبد الرحمن بن القاسم بن محمد بن أبي بكر الصديق ولقبه عتيق بن أبي قحافة عثمان بن عامر بن عمرو بن كعب بن سعد بن تيم بن مرة أبو الفضل بن أبي عبد الله بن أبي الفتوح بن أبي سعد بن أبي سعيد القرشي البكري التيمي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head54">30 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head55">محمد بن محمد بن محمد بن محمد بن إبراهيم بن العلاء أبو الفضل بن أبي المعالي بن أبي المنصور بن أبي المعالي البغدادي الحاجب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head56">31 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head57">محمد بن محمد بن محمد بن عبد الله بن عمر أبو عبد الله المصري الكاتب المعروف بابن نقاش السكة</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head58">32 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head59">...... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head60">محمد بن محمد بن محمد بن عبد المجيد أبو عبد الله الحلبي الكاتب</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head61">محمد بن محمد بن محمد بن عثمان أبو عبد الله البلخي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head62">33 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head63">34 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head64">محمد بن محمد بن إبراهيم بن الحسن بن طاهر أبو عبد الله بن أبي بكر بن أبي طاهر الحمصي الحموي الصوفي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head65">35 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head66">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head67">محمد بن محمد بن إبراهيم بن الحسين بن سراقة أبو بكر الأنصاري الشافعي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head68">36 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head69">محمد بن محمد بن إبراهيم بن الخضر أبو نصر بن أبي عبد الله الطبري الآملي المحتد الحلبي المولد الأديب الشاعر الحاسب المنعوت بالمهذب ويعرف بابن الحكيم</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head70">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head71">محمد بن محمد بن أبي بكر أبو الفتح بن أبي نصر الفاريابي الأبيوردي الكوفي</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head72">محمد بن محمد بن الحسين بن محمد بن علي بن عمر بن عبد الله بن الحسين السيد القارئ</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head73">37 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head74">38 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head75">.... </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head76">39 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head77">40 - </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head78">محمد بن محمد بن رستم أبو بكر الأشعري</a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head79">.............. </a>
</li><li class="collapsibleListClosed">
<a class="toc-item l1" href="01.html#head80">.... </a>
</li>
</ul>
</body></html></div>
<div class="book body-inner" lang="ara">
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top border-bottom" style="direction: ltr;">
<div class="mr-auto d-flex justify-content-left">
<a class="navbar-brand ms-2" href="http://www.kitab-project.org" target="_blank">
<img class="d-inline-block align-top" src="https://cdn.jsdelivr.net/gh/sohailmerchant/kitab-cdn@main/img/kitab-logo.png" width="60px"/>
</a>
</div>
<div class="navbar-nav mx-auto btn-toolbar" style="direction: rtl;">
<div class="d-flex justify-content-center">
<form class="row" id="nav-form" style="margin-bottom: 0px;">
<span class="btn col justify-content-center">ج:</span>
<select class="col form-select pull-left" id="vol-select"></select>
<span class="btn col justify-content-center">ص:</span>
<select class="col form-select pull-left" id="page-select"></select>
<button class="btn col pull-right mx-3" id="nav-submdit-btn" style="width: 100px;" type="submit" value="Go">Go</button>
</form>
</div>
</div>
<div class="btn-toolbar navbar-nav ml-auto d-flex justify-content-right">
<div class="btn-group">
<a class="nav-link pull-right" title="Go to top">
<i class="btn bi bi-arrow-up-circle" id="back-to-top"></i>
</a>
<a class="nav-link pull-right" title="Increase fonts">
<i class="btn bi bi-fonts font-default pull-left"></i>
</a>
<a class="nav-link pull-right" title="Turn light off">
<i class="btn bi bi-lightbulb-off"></i>
</a>
<div class="nav-link pull-right dropdown">
<a aria-expanded="false" aria-haspopup="true" class="" data-bs-toggle="dropdown" id="dropdownMenuButton" role="button" title="Book Metadata">
<i class="btn bi bi-info"></i>
</a>
<div aria-labelledby="dropdownMenuButton" class="dropdown-menu">
<div class="col-12" id="metadata-content"><label>char_length: 30101</label><label>author_lat_full_name: </label><label>author_lat_shuhra: </label><label>author_from_uri: Sharaf Din Dimyatti</label><label>tags: CENT0800 :: PPE :: _HADITH :: _MAKHTUTAT :: GAL@nodata :: Shamela@مخطوطات حديثية</label><label>url: https://raw.githubusercontent.com/OpenITI/0725AH/master/data/0705SharafDinDimyatti/0705SharafDinDimyatti.MucjamShuyukh/0705SharafDinDimyatti.MucjamShuyukh.Shamela0030652-ara1</label><label>tok_length: 7579</label><label>status: sec</label><label>id: Shamela0030652</label><label>ed_info: مخطوط نشر في برنامج جوامع الكلم المجاني التابع لموقع الشبكة الإسلامية</label><label>title_lat: Mucjam Shuyukh</label><label>title_ar: السادس من معجم شيوخ الدمياطي</label><label>book: 0705SharafDinDimyatti.MucjamShuyukh</label><label>author_lat: Sharaf Din Dimyatti</label><label>author_ar: عبد المؤمن بن خلف الدمياطي، أبو محمد، شرف الدين الشافعي (المتوفى: 705هـ)</label><label>date: 0705</label><label>versionUri: 0705SharafDinDimyatti.MucjamShuyukh.Shamela0030652-ara1</label>
</div>
</div>
</div>
<a class="nav-link pull-right" href="#menu-toggle" id="menu-toggle" title="Book Chapters">
<i class="btn bi bi-list"></i></a>
</div>
</div>
</nav>
<div class="book-body fixed pt-5">
<div class="row">
<div class="col-12">
<div class="row top-heading-panel content-outer-spacing">
</div>
</div>
<div class="col-12" id="meta">
</div>
</div>
<div class="row justify-content-md-center" id="book-main">
<div class="col-lg-8 col-sm-12" id="content">
</div>
</div>
<div class="row mt-5" id="footer">
<div class="col-md-12">
            The KITAB project is based at the Institute for the Study of Muslim Civilizations (ISMC) at Aga Khan
            University, London, and has received funding from the European Research Council (ERC) under the European
            Union's
            Horizon 2020 research and innovation programme (Grant agreement No. 772989)

          </div>
<div class="col-md-12">
<img alt="Logos" height="50" id="logos" src="../img/AKU-EU-ERC-three-logos.jpg"/>
</div>
</div>
</div>
</div>
</div>
<script>

    var pageSel = document.getElementById("page-select");
    var volSel = document.getElementById("vol-select");
    var thisVolume = "01";
    var volPages = {"01": ["000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000", "000"]}; /*loaded by html_builder*/

    function goToAnchor(vol, anchorId) {
      if (vol != window.thisVolume) {
        loadVolume(vol, false).then(res => {
          console.log("Volume loaded");
          console.log("Go to anchor " + anchorId);
          /*move the volume page to the element with id=anchorId*/
          /*var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
          console.log(targetAnchor);*/
          /*window.location.hash = "";
          window.location.hash = anchorId;
          window.location.hash = anchorId;
          console.log("#"+anchorId);*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = $("#"+anchorId);
          //$("#content").animate(
          $("html, body").animate(
            {scrollTop: targetAnchor.offset().top},
            1000
          );*/
          /*//This approach does not work at all: scrolls only main window.
          var targetAnchor = document.getElementById(anchorId);
          var rect = targetAnchor.getBoundingClientRect();
          console.log(targetAnchor);
          console.log(rect);
          var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
          window.scroll({
            top: rect.top + rect.height / 2 - viewHeight /2,
            behavior: 'smooth'
          });*/
          /*var targetAnchor = document.getElementById(anchorId);
          var contentDiv = document.getElementsByClassName("book-body")[0];
          var topPos = contentDiv.offsetTop;
          var windowSize = $(window).height();
          console.log("topPos: " + topPos);
          console.log("targetPos: " + targetAnchor.offsetTop);
          console.log("windowSize:" + windowSize)
          console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
          contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
          var targetAnchor = document.getElementById(anchorId);
          targetAnchor.scrollIntoView({"block": "start"});
        });
      } else {
        /*move the volume page to the element with id=anchorId*/
        /*var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({block: 'nearest'});  // this does not always work...
        console.log(targetAnchor);*/
        /*window.location.hash = "";
        window.location.hash = anchorId;
        window.location.hash = anchorId;
        console.log("#"+anchorId);*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = $("#"+anchorId);
        //$("#content").animate(
        $("html, body").animate(
          {scrollTop: targetAnchor.offset().top},
          1000
        );*/
        /*//This approach does not work at all: scrolls only main window.
        var targetAnchor = document.getElementById(anchorId);
        var rect = targetAnchor.getBoundingClientRect();
        console.log(targetAnchor);
        console.log(rect);
        var viewHeight=Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
        window.scroll({
          top: rect.top + rect.height / 2 - viewHeight /2,
          behavior: 'smooth'
        });*/
        /*var targetAnchor = document.getElementById(anchorId);
        var contentDiv = document.getElementsByClassName("book-body")[0];
        var topPos = contentDiv.offsetTop;
        var windowSize = $(window).height();
        console.log("topPos: " + topPos);
        console.log("targetPos: " + targetAnchor.offsetTop);
        console.log("windowSize:" + windowSize)
        console.log("targetAnchor.offsetTop-windowSize/3 = " + (targetAnchor.offsetTop - topPos - windowSize / 2));
        contentDiv.scrollTop = targetAnchor.offsetTop - topPos - windowSize / 2;*/
        var targetAnchor = document.getElementById(anchorId);
        targetAnchor.scrollIntoView({"block": "start"});
      }
    }

    CollapsibleLists.apply();
    console.log("Applied CollapsibleLists");

    $(document).ready(function () {
      console.log("Load initial volume " + thisVolume);
      loadVolume(thisVolume).then(res => {
        console.log("Initial volume loaded");
        $('#loading').hide();
        $('#loading').fadeOut("slow");
      });
      $(window).scroll(function () {
        if ($(this).scrollTop() > 50) {
          $('#back-to-top').fadeIn();
        } else {
          $('#back-to-top').fadeOut();
        }
      });
      // scroll body to 0px on click
      $('#back-to-top').click(function () {
        $('body,html').animate({
          scrollTop: 0
        }, 400);
        return false;
      });
      $("#menu-toggle").click(function (e) {
        e.preventDefault();
        $("#wrapper").toggleClass("toggled");
      });

      $(".font-default").click(function () {

        $('#wrapper').toggleClass("font-increase", "font-default");
      });

      $(".bi-lightbulb-off").click(function () {
        $('.bi-lightbulb-off').toggleClass("bi-lightbulb", "bi-lightbulb-off");
        $('.page-wrapper').toggleClass("night-mode", "");
        $('.navbar-light').toggleClass("night-mode", "");
        console.log(this);

      });
      $('.toc-item').click(function (event) {
        /*console.log('toc item clicked');*/
        event.preventDefault();
        var clickedElement = event.target;
        /*console.log(clickedElement);*/
        var href = clickedElement.getAttribute("href");
        /*console.log('href: '+href);*/
        var vol = href.substring(0, 2);
        var head = href.split('head').pop();
        var anchorId = "head" + head;
        goToAnchor(vol, anchorId);
        return false;
      });
    });

    function loadPageNumbers(vol, page) {
      /*var pageSel = document.getElementById("page-select");*/
      pageSel.innerHTML = '';
      volPages[vol].forEach(function (p, index) {
        pageSel.options[pageSel.options.length] = new Option(p, p);
      });
      if (page) {
        pageSel.value = page;
      }
    }

    function loadVolumeNumbers(vol) {
      /*var volSel = document.getElementById("vol-select");*/
      volSel.innerHTML = '';
      /*console.log(Object.keys(volPages));*/
      /*console.log(Object.keys(volPages).sort());*/

      Object.keys(volPages).sort().forEach(function (v, index) {
        /*console.log(v);*/
        volSel.options[volSel.options.length] = new Option(v, v);
      });
      volSel.value = vol;
    }

    async function loadVolume(vol) {
      /*Load volume json */
      var page = pageSel.value;
      $('#loading').show();
      console.log("loading volume " + vol);
      await $.getJSON(vol + ".json", function (json) {
        console.log(json)
        $('#content').empty().append(json["content"]);
        /*console.log("json loaded");*/
        window.thisVolume = vol;
        $('#loading').hide();
        $('#loading').fadeOut("slow");
        /*Load volume and page numbers in page-nav form:*/
        loadVolumeNumbers(vol);
        loadPageNumbers(vol, page);
        return true;
      });
    }


    function padWithZeros(number, width) {
      number = number + "";
      if (number.length >= width) {
        return number;
      } else {
        return new Array(width - number.length + 1).join("0") + number;
      }
    }
    document.getElementById("nav-form").addEventListener("submit", function (event) {
      event.preventDefault();
      /*console.log("Clicked Go");*/
      var vol = volSel.value;
      console.log("vol: " + vol);
      /*var targetPage = parseInt(pageSel.value, 10);
      if (page >= 1) {
        page = page-1; //page number is at bottom of page
      }
      var anchor = "v"+vol+"p"+padWithZeros(targetPage, 3);*/
      var targetPage = pageSel.value;
      var pages = volPages[vol];
      var index = pages.indexOf(targetPage);
      if (index > 0) {
        targetPage = pages[index-1];
      }

      console.log("targetPage: " + targetPage);
      var anchor = "v" + vol + "p" + targetPage;
      goToAnchor(vol, anchor);
      return false;
    });

    /*Adapt the page numbers list when the volume number changes:*/
    volSel.addEventListener("change", function (event) {
      var vol = this.value;
      var page = pageSel.value;
      loadPageNumbers(vol, page);
    });


  </script>
</body>
</html>
